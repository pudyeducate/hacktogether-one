function Ny(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vy(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var lp={exports:{}},Yl={},ap={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=Symbol.for("react.element"),Hy=Symbol.for("react.portal"),Yy=Symbol.for("react.fragment"),Ky=Symbol.for("react.strict_mode"),Fy=Symbol.for("react.profiler"),jy=Symbol.for("react.provider"),Qy=Symbol.for("react.context"),Uy=Symbol.for("react.forward_ref"),Oy=Symbol.for("react.suspense"),Dy=Symbol.for("react.memo"),Jy=Symbol.for("react.lazy"),$d=Symbol.iterator;function $y(e){return e===null||typeof e!="object"?null:(e=$d&&e[$d]||e["@@iterator"],typeof e=="function"?e:null)}var up={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cp=Object.assign,dp={};function ki(e,t,n){this.props=e,this.context=t,this.refs=dp,this.updater=n||up}ki.prototype.isReactComponent={};ki.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hp(){}hp.prototype=ki.prototype;function Ec(e,t,n){this.props=e,this.context=t,this.refs=dp,this.updater=n||up}var Nc=Ec.prototype=new hp;Nc.constructor=Ec;cp(Nc,ki.prototype);Nc.isPureReactComponent=!0;var Bd=Array.isArray,fp=Object.prototype.hasOwnProperty,zc={current:null},pp={key:!0,ref:!0,__self:!0,__source:!0};function mp(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)fp.call(t,r)&&!pp.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:to,type:e,key:s,ref:o,props:i,_owner:zc.current}}function By(e,t){return{$$typeof:to,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vc(e){return typeof e=="object"&&e!==null&&e.$$typeof===to}function Ay(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ad=/\/+/g;function aa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ay(""+e.key):t.toString(36)}function Qo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case to:case Hy:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+aa(o,0):r,Bd(i)?(n="",e!=null&&(n=e.replace(Ad,"$&/")+"/"),Qo(i,t,n,"",function(u){return u})):i!=null&&(Vc(i)&&(i=By(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ad,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Bd(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+aa(s,l);o+=Qo(s,t,n,a,i)}else if(a=$y(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+aa(s,l++),o+=Qo(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function oo(e,t,n){if(e==null)return e;var r=[],i=0;return Qo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function qy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Uo={transition:null},eg={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:zc};function yp(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:oo,forEach:function(e,t,n){oo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oo(e,function(){t++}),t},toArray:function(e){return oo(e,function(t){return t})||[]},only:function(e){if(!Vc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=ki;q.Fragment=Yy;q.Profiler=Fy;q.PureComponent=Ec;q.StrictMode=Ky;q.Suspense=Oy;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eg;q.act=yp;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cp({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=zc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)fp.call(t,a)&&!pp.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:to,type:e.type,key:i,ref:s,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:Qy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jy,_context:e},e.Consumer=e};q.createElement=mp;q.createFactory=function(e){var t=mp.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Uy,render:e}};q.isValidElement=Vc;q.lazy=function(e){return{$$typeof:Jy,_payload:{_status:-1,_result:e},_init:qy}};q.memo=function(e,t){return{$$typeof:Dy,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=t}};q.unstable_act=yp;q.useCallback=function(e,t){return Be.current.useCallback(e,t)};q.useContext=function(e){return Be.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};q.useEffect=function(e,t){return Be.current.useEffect(e,t)};q.useId=function(){return Be.current.useId()};q.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Be.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};q.useRef=function(e){return Be.current.useRef(e)};q.useState=function(e){return Be.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Be.current.useTransition()};q.version="18.3.1";ap.exports=q;var Oe=ap.exports;const tg=zy(Oe),S3=Ny({__proto__:null,default:tg},[Oe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng=Oe,rg=Symbol.for("react.element"),ig=Symbol.for("react.fragment"),sg=Object.prototype.hasOwnProperty,og=ng.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lg={key:!0,ref:!0,__self:!0,__source:!0};function gp(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)sg.call(t,r)&&!lg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:rg,type:e,key:s,ref:o,props:i,_owner:og.current}}Yl.Fragment=ig;Yl.jsx=gp;Yl.jsxs=gp;lp.exports=Yl;var vp=lp.exports,Pn={},wp={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(e){(function(t,n){e.exports?e.exports=n():t.Toastify=n()})(ku,function(t){var n=function(o){return new n.lib.init(o)},r="1.12.0";n.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},n.lib=n.prototype={toastify:r,constructor:n,init:function(o){return o||(o={}),this.options={},this.toastElement=null,this.options.text=o.text||n.defaults.text,this.options.node=o.node||n.defaults.node,this.options.duration=o.duration===0?0:o.duration||n.defaults.duration,this.options.selector=o.selector||n.defaults.selector,this.options.callback=o.callback||n.defaults.callback,this.options.destination=o.destination||n.defaults.destination,this.options.newWindow=o.newWindow||n.defaults.newWindow,this.options.close=o.close||n.defaults.close,this.options.gravity=o.gravity==="bottom"?"toastify-bottom":n.defaults.gravity,this.options.positionLeft=o.positionLeft||n.defaults.positionLeft,this.options.position=o.position||n.defaults.position,this.options.backgroundColor=o.backgroundColor||n.defaults.backgroundColor,this.options.avatar=o.avatar||n.defaults.avatar,this.options.className=o.className||n.defaults.className,this.options.stopOnFocus=o.stopOnFocus===void 0?n.defaults.stopOnFocus:o.stopOnFocus,this.options.onClick=o.onClick||n.defaults.onClick,this.options.offset=o.offset||n.defaults.offset,this.options.escapeMarkup=o.escapeMarkup!==void 0?o.escapeMarkup:n.defaults.escapeMarkup,this.options.ariaLive=o.ariaLive||n.defaults.ariaLive,this.options.style=o.style||n.defaults.style,o.backgroundColor&&(this.options.style.background=o.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var o=document.createElement("div");o.className="toastify on "+this.options.className,this.options.position?o.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(o.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):o.className+=" toastify-right",o.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var l in this.options.style)o.style[l]=this.options.style[l];if(this.options.ariaLive&&o.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)o.appendChild(this.options.node);else if(this.options.escapeMarkup?o.innerText=this.options.text:o.innerHTML=this.options.text,this.options.avatar!==""){var a=document.createElement("img");a.src=this.options.avatar,a.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?o.appendChild(a):o.insertAdjacentElement("afterbegin",a)}if(this.options.close===!0){var u=document.createElement("button");u.type="button",u.setAttribute("aria-label","Close"),u.className="toast-close",u.innerHTML="&#10006;",u.addEventListener("click",(function(y){y.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var c=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&c>360?o.insertAdjacentElement("afterbegin",u):o.appendChild(u)}if(this.options.stopOnFocus&&this.options.duration>0){var S=this;o.addEventListener("mouseover",function(y){window.clearTimeout(o.timeOutValue)}),o.addEventListener("mouseleave",function(){o.timeOutValue=window.setTimeout(function(){S.removeElement(o)},S.options.duration)})}if(typeof this.options.destination<"u"&&o.addEventListener("click",(function(y){y.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&o.addEventListener("click",(function(y){y.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var b=i("x",this.options),g=i("y",this.options),X=this.options.position=="left"?b:"-"+b,C=this.options.gravity=="toastify-top"?g:"-"+g;o.style.transform="translate("+X+","+C+")"}return o},showToast:function(){this.toastElement=this.buildToast();var o;if(typeof this.options.selector=="string"?o=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?o=this.options.selector:o=document.body,!o)throw"Root element is not defined";var l=n.defaults.oldestFirst?o.firstChild:o.lastChild;return o.insertBefore(this.toastElement,l),n.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(o){o.className=o.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),o.parentNode&&o.parentNode.removeChild(o),this.options.callback.call(o),n.reposition()}).bind(this),400)}},n.reposition=function(){for(var o={top:15,bottom:15},l={top:15,bottom:15},a={top:15,bottom:15},u=document.getElementsByClassName("toastify"),c,S=0;S<u.length;S++){s(u[S],"toastify-top")===!0?c="toastify-top":c="toastify-bottom";var b=u[S].offsetHeight;c=c.substr(9,c.length-1);var g=15,X=window.innerWidth>0?window.innerWidth:screen.width;X<=360?(u[S].style[c]=a[c]+"px",a[c]+=b+g):s(u[S],"toastify-left")===!0?(u[S].style[c]=o[c]+"px",o[c]+=b+g):(u[S].style[c]=l[c]+"px",l[c]+=b+g)}return this};function i(o,l){return l.offset[o]?isNaN(l.offset[o])?l.offset[o]:l.offset[o]+"px":"0px"}function s(o,l){return!o||typeof l!="string"?!1:!!(o.className&&o.className.trim().split(/\s+/gi).indexOf(l)>-1)}return n.lib.init.prototype=n.lib,n})})(wp);var ag=wp.exports,ug=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,r=t.cmp&&function(s){return function(o){return function(l,a){var u={key:l,value:o[l]},c={key:a,value:o[a]};return s(u,c)}}}(t.cmp),i=[];return function s(o){if(o&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o!==void 0){if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);var l,a;if(Array.isArray(o)){for(a="[",l=0;l<o.length;l++)l&&(a+=","),a+=s(o[l])||"null";return a+"]"}if(o===null)return"null";if(i.indexOf(o)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=i.push(o)-1,c=Object.keys(o).sort(r&&r(o));for(a="",l=0;l<c.length;l++){var S=c[l],b=s(o[S]);b&&(a&&(a+=","),a+=JSON.stringify(S)+":"+b)}return i.splice(u,1),"{"+a+"}"}}(e)},cg=function(e,t){return e<t};function Xe(e){if(!(this instanceof Xe))return new Xe(e);this.array=[],this.size=0,this.compare=e||cg}Xe.prototype.clone=function(){var e=new Xe(this.compare);return e.size=this.size,e.array=this.array.slice(0,this.size),e};Xe.prototype.add=function(e){var t=this.size;this.array[this.size]=e,this.size+=1;for(var n,r;t>0&&(n=t-1>>1,r=this.array[n],!!this.compare(e,r));)this.array[t]=r,t=n;this.array[t]=e};Xe.prototype.heapify=function(e){this.array=e,this.size=e.length;var t;for(t=this.size>>1;t>=0;t--)this._percolateDown(t)};Xe.prototype._percolateUp=function(e,t){for(var n=this.array[e],r,i;e>0&&(r=e-1>>1,i=this.array[r],!(!t&&!this.compare(n,i)));)this.array[e]=i,e=r;this.array[e]=n};Xe.prototype._percolateDown=function(e){for(var t=this.size,n=this.size>>>1,r=this.array[e],i,s,o;e<n&&(i=(e<<1)+1,s=i+1,o=this.array[i],s<t&&this.compare(this.array[s],o)&&(i=s,o=this.array[s]),!!this.compare(o,r));)this.array[e]=o,e=i;this.array[e]=r};Xe.prototype._removeAt=function(e){if(!(e>this.size-1||e<0))return this._percolateUp(e,!0),this.poll()};Xe.prototype.remove=function(e){for(var t=0;t<this.size;t++)if(!this.compare(this.array[t],e)&&!this.compare(e,this.array[t]))return this._removeAt(t),!0;return!1};Xe.prototype.removeOne=function(e){if(typeof e=="function"){for(var t=0;t<this.size;t++)if(e(this.array[t]))return this._removeAt(t)}};Xe.prototype.removeMany=function(e,t){if(typeof e!="function"||this.size<1)return[];t=t?Math.min(t,this.size):this.size;for(var n=0,r=new Array(t),i=0,s=new Array(this.size);n<t&&!this.isEmpty();){var o=this.poll();e(o)?r[n++]=o:s[i++]=o}r.length=n;for(var l=0;l<i;)this.add(s[l++]);return r};Xe.prototype.peek=function(){if(this.size!=0)return this.array[0]};Xe.prototype.poll=function(){if(this.size!=0){var e=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,e}};Xe.prototype.replaceTop=function(e){if(this.size!=0){var t=this.array[0];return this.array[0]=e,this._percolateDown(0),t}};Xe.prototype.trim=function(){this.array=this.array.slice(0,this.size)};Xe.prototype.isEmpty=function(){return this.size===0};Xe.prototype.forEach=function(e){if(!(this.isEmpty()||typeof e!="function"))for(var t=0,n=this.clone();!n.isEmpty();)e(n.poll(),t++)};Xe.prototype.kSmallest=function(e){if(this.size==0||e<=0)return[];e=Math.min(this.size,e);const t=Math.min(this.size,2**(e-1)+1);if(t<2)return[this.peek()];const n=new Xe(this.compare);n.size=t,n.array=this.array.slice(0,t);const r=new Array(e);for(let i=0;i<e;i++)r[i]=n.poll();return r};var dg=Xe;const hg={},fg=Object.freeze(Object.defineProperty({__proto__:null,default:hg},Symbol.toStringTag,{value:"Module"})),pg=Vy(fg);var bp,Sp,Zp,Bi;Object.defineProperty(Pn,"__esModule",{value:!0});var mg=ag,yg=ug,gg=dg;function Hc(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var vg=Hc(mg),Sr=Hc(yg),wg=Hc(gg),ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ku<"u"?ku:typeof self<"u"?self:{};function ir(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qd,bg={exports:{}};qd||(qd=1,function(e){var t=function(n){var r,i=Object.prototype,s=i.hasOwnProperty,o=Object.defineProperty||function(_,G,I){_[G]=I.value},l=typeof Symbol=="function"?Symbol:{},a=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",c=l.toStringTag||"@@toStringTag";function S(_,G,I){return Object.defineProperty(_,G,{value:I,enumerable:!0,configurable:!0,writable:!0}),_[G]}try{S({},"")}catch{S=function(G,I,E){return G[I]=E}}function b(_,G,I,E){var M=G&&G.prototype instanceof x?G:x,A=Object.create(M.prototype),ie=new Y(E||[]);return o(A,"_invoke",{value:P(_,I,ie)}),A}function g(_,G,I){try{return{type:"normal",arg:_.call(G,I)}}catch(E){return{type:"throw",arg:E}}}n.wrap=b;var X="suspendedStart",C="suspendedYield",y="executing",p="completed",f={};function x(){}function L(){}function w(){}var h={};S(h,a,function(){return this});var m=Object.getPrototypeOf,d=m&&m(m(J([])));d&&d!==i&&s.call(d,a)&&(h=d);var v=w.prototype=x.prototype=Object.create(h);function Z(_){["next","throw","return"].forEach(function(G){S(_,G,function(I){return this._invoke(G,I)})})}function T(_,G){function I(M,A,ie,Ze){var le=g(_[M],_,A);if(le.type!=="throw"){var qe=le.arg,Q=qe.value;return Q&&typeof Q=="object"&&s.call(Q,"__await")?G.resolve(Q.__await).then(function(k){I("next",k,ie,Ze)},function(k){I("throw",k,ie,Ze)}):G.resolve(Q).then(function(k){qe.value=k,ie(qe)},function(k){return I("throw",k,ie,Ze)})}Ze(le.arg)}var E;o(this,"_invoke",{value:function(M,A){function ie(){return new G(function(Ze,le){I(M,A,Ze,le)})}return E=E?E.then(ie,ie):ie()}})}function P(_,G,I){var E=X;return function(M,A){if(E===y)throw new Error("Generator is already running");if(E===p){if(M==="throw")throw A;return{value:r,done:!0}}for(I.method=M,I.arg=A;;){var ie=I.delegate;if(ie){var Ze=N(ie,I);if(Ze){if(Ze===f)continue;return Ze}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(E===X)throw E=p,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);E=y;var le=g(_,G,I);if(le.type==="normal"){if(E=I.done?p:C,le.arg===f)continue;return{value:le.arg,done:I.done}}le.type==="throw"&&(E=p,I.method="throw",I.arg=le.arg)}}}function N(_,G){var I=G.method,E=_.iterator[I];if(E===r)return G.delegate=null,I==="throw"&&_.iterator.return&&(G.method="return",G.arg=r,N(_,G),G.method==="throw")||I!=="return"&&(G.method="throw",G.arg=new TypeError("The iterator does not provide a '"+I+"' method")),f;var M=g(E,_.iterator,G.arg);if(M.type==="throw")return G.method="throw",G.arg=M.arg,G.delegate=null,f;var A=M.arg;return A?A.done?(G[_.resultName]=A.value,G.next=_.nextLoc,G.method!=="return"&&(G.method="next",G.arg=r),G.delegate=null,f):A:(G.method="throw",G.arg=new TypeError("iterator result is not an object"),G.delegate=null,f)}function F(_){var G={tryLoc:_[0]};1 in _&&(G.catchLoc=_[1]),2 in _&&(G.finallyLoc=_[2],G.afterLoc=_[3]),this.tryEntries.push(G)}function z(_){var G=_.completion||{};G.type="normal",delete G.arg,_.completion=G}function Y(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(F,this),this.reset(!0)}function J(_){if(_!=null){var G=_[a];if(G)return G.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var I=-1,E=function M(){for(;++I<_.length;)if(s.call(_,I))return M.value=_[I],M.done=!1,M;return M.value=r,M.done=!0,M};return E.next=E}}throw new TypeError(typeof _+" is not iterable")}return L.prototype=w,o(v,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:L,configurable:!0}),L.displayName=S(w,c,"GeneratorFunction"),n.isGeneratorFunction=function(_){var G=typeof _=="function"&&_.constructor;return!!G&&(G===L||(G.displayName||G.name)==="GeneratorFunction")},n.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,w):(_.__proto__=w,S(_,c,"GeneratorFunction")),_.prototype=Object.create(v),_},n.awrap=function(_){return{__await:_}},Z(T.prototype),S(T.prototype,u,function(){return this}),n.AsyncIterator=T,n.async=function(_,G,I,E,M){M===void 0&&(M=Promise);var A=new T(b(_,G,I,E),M);return n.isGeneratorFunction(G)?A:A.next().then(function(ie){return ie.done?ie.value:A.next()})},Z(v),S(v,c,"Generator"),S(v,a,function(){return this}),S(v,"toString",function(){return"[object Generator]"}),n.keys=function(_){var G=Object(_),I=[];for(var E in G)I.push(E);return I.reverse(),function M(){for(;I.length;){var A=I.pop();if(A in G)return M.value=A,M.done=!1,M}return M.done=!0,M}},n.values=J,Y.prototype={constructor:Y,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(z),!_)for(var G in this)G.charAt(0)==="t"&&s.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=r)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var G=this;function I(le,qe){return A.type="throw",A.arg=_,G.next=le,qe&&(G.method="next",G.arg=r),!!qe}for(var E=this.tryEntries.length-1;E>=0;--E){var M=this.tryEntries[E],A=M.completion;if(M.tryLoc==="root")return I("end");if(M.tryLoc<=this.prev){var ie=s.call(M,"catchLoc"),Ze=s.call(M,"finallyLoc");if(ie&&Ze){if(this.prev<M.catchLoc)return I(M.catchLoc,!0);if(this.prev<M.finallyLoc)return I(M.finallyLoc)}else if(ie){if(this.prev<M.catchLoc)return I(M.catchLoc,!0)}else{if(!Ze)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return I(M.finallyLoc)}}}},abrupt:function(_,G){for(var I=this.tryEntries.length-1;I>=0;--I){var E=this.tryEntries[I];if(E.tryLoc<=this.prev&&s.call(E,"finallyLoc")&&this.prev<E.finallyLoc){var M=E;break}}M&&(_==="break"||_==="continue")&&M.tryLoc<=G&&G<=M.finallyLoc&&(M=null);var A=M?M.completion:{};return A.type=_,A.arg=G,M?(this.method="next",this.next=M.finallyLoc,f):this.complete(A)},complete:function(_,G){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&G&&(this.next=G),f},finish:function(_){for(var G=this.tryEntries.length-1;G>=0;--G){var I=this.tryEntries[G];if(I.finallyLoc===_)return this.complete(I.completion,I.afterLoc),z(I),f}},catch:function(_){for(var G=this.tryEntries.length-1;G>=0;--G){var I=this.tryEntries[G];if(I.tryLoc===_){var E=I.completion;if(E.type==="throw"){var M=E.arg;z(I)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(_,G,I){return this.delegate={iterator:J(_),resultName:G,nextLoc:I},this.method==="next"&&(this.arg=r),f}},n}(e.exports);try{globalThis.regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(bg));const Kl={CROQUET_SOURCEMAPS:"file:///Users/vanessa/wonderland/servers/croquet-io-dev/lib",CROQUET_VERSION:"2.0.0-39"},lo=window.location.hostname.endsWith("croquet.studio");let eh="",Nr="";function th(e,t){if(t)for(const n of t.split("&")){const r=n.split("="),i=r[0];let s=!0;if(r.length>1&&(s=decodeURIComponent(r.slice(1).join("=")),s.match(/^(true|false|null|[0-9.]*|["[{].*)$/)))try{s=JSON.parse(s)}catch{s[0]==="["&&(s=s.slice(1,-1).split(","))}e[i]=s}}const D=new class{constructor(){this.getSession(),th(this,window.location.search.slice(1)),th(this,lo?window.location.hash.slice(1):Nr),window.location.pathname.indexOf("/ar.html")>=0&&(this.ar=!0)}has(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];typeof n=="string"&&(n=this.isHost(n));const r=this[e];if(typeof r!="string")return n;const i=r.split(",");return n===!0&&(t=`no${t}`),t.endsWith("s")&&(t=t.slice(0,-1)),i.includes(t)||i.includes(`${t}s`)?!n:n}getSession(){if(lo){const e=/^\/([^/]+)\/(.*)$/,t=window.location.pathname.match(e);if(t)return eh=t[1],t[2]}else{const e=/^#([^&]+)&?(.*)$/,t=window.location.hash.match(e);if(t)return t[1].includes("=")?(Nr=`${t[1]}&${t[2]}`,""):(Nr=t[2],t[1])}return typeof this.session=="string"?(Nr=window.location.hash.slice(1),this.session):""}setSession(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];lo==null&&this.getSession();const{search:n,hash:r}=window.location,i=lo?`/${eh}/${e}${n}${r}`:`#${e}${Nr?"&"+Nr:""}`;t?window.history.replaceState({},"",i):window.history.pushState({},"",i)}isHost(e){const t=window.location.hostname;return t===e?!0:e!=="localhost"?!1:t.endsWith(".ngrok.io")||t.endsWith("croquet.dev")||t==="croquet.io"&&window.location.pathname.match(/^\/(dev|files)\//)?!0:window.location.protocol==="file:"||["127.0.0.1","[::1]"].includes(t)}isLocalhost(){return this.isHost("localhost")}};var nh,ca={exports:{}},da,Yr,Sg=(nh||(nh=1,da=ca,function(e,t,n){var r,i=256,s="random",o=n.pow(i,6),l=n.pow(2,52),a=2*l,u=255;function c(y,p,f){var x=[],L=X(g((p=p==1?{entropy:!0}:p||{}).entropy?[y,C(t)]:y??function(){try{var m;return r&&(m=r.randomBytes)?m=m(i):(m=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(m)),C(m)}catch{var d=e.navigator,v=d&&d.plugins;return[+new Date,e,v,e.screen,C(t)]}}(),3),x),w=new S(x),h=function(){for(var m=w.g(6),d=o,v=0;m<l;)m=(m+v)*i,d*=i,v=w.g(1);for(;m>=a;)m/=2,d/=2,v>>>=1;return(m+v)/d};return h.int32=function(){return 0|w.g(4)},h.quick=function(){return w.g(4)/4294967296},h.double=h,X(C(w.S),t),(p.pass||f||function(m,d,v,Z){return Z&&(Z.S&&b(Z,w),m.state=function(){return b(w,{})}),v?(n[s]=m,d):m})(h,L,"global"in p?p.global:this==n,p.state)}function S(y){var p,f=y.length,x=this,L=0,w=x.i=x.j=0,h=x.S=[];for(f||(y=[f++]);L<i;)h[L]=L++;for(L=0;L<i;L++)h[L]=h[w=u&w+y[L%f]+(p=h[L])],h[w]=p;(x.g=function(m){for(var d,v=0,Z=x.i,T=x.j,P=x.S;m--;)d=P[Z=u&Z+1],v=v*i+P[u&(P[Z]=P[T=u&T+d])+(P[T]=d)];return x.i=Z,x.j=T,v})(i)}function b(y,p){return p.i=y.i,p.j=y.j,p.S=y.S.slice(),p}function g(y,p){var f,x=[],L=typeof y;if(p&&L=="object")for(f in y)try{x.push(g(y[f],p-1))}catch{}return x.length?x:L=="string"?y:y+"\0"}function X(y,p){for(var f,x=y+"",L=0;L<x.length;)p[u&L]=u&(f^=19*p[u&L])+x.charCodeAt(L++);return C(p)}function C(y){return String.fromCharCode.apply(0,y)}if(X(n.random(),t),da.exports){da.exports=c;try{r=void 0}catch{}}else n["seed"+s]=c}(typeof self<"u"?self:ca.exports,[],Math)),ca.exports),ll=ir(Sg);(function(){function e(w){this.mode=n.MODE_8BIT_BYTE,this.data=w,this.parsedData=[];for(var h=0,m=this.data.length;h<m;h++){var d=[],v=this.data.charCodeAt(h);v>65536?(d[0]=240|(1835008&v)>>>18,d[1]=128|(258048&v)>>>12,d[2]=128|(4032&v)>>>6,d[3]=128|63&v):v>2048?(d[0]=224|(61440&v)>>>12,d[1]=128|(4032&v)>>>6,d[2]=128|63&v):v>128?(d[0]=192|(1984&v)>>>6,d[1]=128|63&v):d[0]=v,this.parsedData.push(d)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(w,h){this.typeNumber=w,this.errorCorrectLevel=h,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(w){return this.parsedData.length},write:function(w){for(var h=0,m=this.parsedData.length;h<m;h++)w.put(this.parsedData[h],8)}},t.prototype={addData:function(w){var h=new e(w);this.dataList.push(h),this.dataCache=null},isDark:function(w,h){if(w<0||this.moduleCount<=w||h<0||this.moduleCount<=h)throw new Error(w+","+h);return this.modules[w][h]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(w,h){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++){this.modules[m]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[m][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(w,h),this.typeNumber>=7&&this.setupTypeNumber(w),this.dataCache==null&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,h)},setupPositionProbePattern:function(w,h){for(var m=-1;m<=7;m++)if(!(w+m<=-1||this.moduleCount<=w+m))for(var d=-1;d<=7;d++)h+d<=-1||this.moduleCount<=h+d||(this.modules[w+m][h+d]=0<=m&&m<=6&&(d==0||d==6)||0<=d&&d<=6&&(m==0||m==6)||2<=m&&m<=4&&2<=d&&d<=4)},getBestMaskPattern:function(){for(var w=0,h=0,m=0;m<8;m++){this.makeImpl(!0,m);var d=b.getLostPoint(this);(m==0||w>d)&&(w=d,h=m)}return h},createMovieClip:function(w,h,m){var d=w.createEmptyMovieClip(h,m);this.make();for(var v=0;v<this.modules.length;v++)for(var Z=1*v,T=0;T<this.modules[v].length;T++){var P=1*T;this.modules[v][T]&&(d.beginFill(0,100),d.moveTo(P,Z),d.lineTo(P+1,Z),d.lineTo(P+1,Z+1),d.lineTo(P,Z+1),d.endFill())}return d},setupTimingPattern:function(){for(var w=8;w<this.moduleCount-8;w++)this.modules[w][6]==null&&(this.modules[w][6]=w%2==0);for(var h=8;h<this.moduleCount-8;h++)this.modules[6][h]==null&&(this.modules[6][h]=h%2==0)},setupPositionAdjustPattern:function(){for(var w=b.getPatternPosition(this.typeNumber),h=0;h<w.length;h++)for(var m=0;m<w.length;m++){var d=w[h],v=w[m];if(this.modules[d][v]==null)for(var Z=-2;Z<=2;Z++)for(var T=-2;T<=2;T++)this.modules[d+Z][v+T]=Z==-2||Z==2||T==-2||T==2||Z==0&&T==0}},setupTypeNumber:function(w){for(var h=b.getBCHTypeNumber(this.typeNumber),m=0;m<18;m++){var d=!w&&(h>>m&1)==1;this.modules[Math.floor(m/3)][m%3+this.moduleCount-8-3]=d}for(m=0;m<18;m++)d=!w&&(h>>m&1)==1,this.modules[m%3+this.moduleCount-8-3][Math.floor(m/3)]=d},setupTypeInfo:function(w,h){for(var m=this.errorCorrectLevel<<3|h,d=b.getBCHTypeInfo(m),v=0;v<15;v++){var Z=!w&&(d>>v&1)==1;v<6?this.modules[v][8]=Z:v<8?this.modules[v+1][8]=Z:this.modules[this.moduleCount-15+v][8]=Z}for(v=0;v<15;v++)Z=!w&&(d>>v&1)==1,v<8?this.modules[8][this.moduleCount-v-1]=Z:v<9?this.modules[8][15-v-1+1]=Z:this.modules[8][15-v-1]=Z;this.modules[this.moduleCount-8][8]=!w},mapData:function(w,h){for(var m=-1,d=this.moduleCount-1,v=7,Z=0,T=this.moduleCount-1;T>0;T-=2)for(T==6&&T--;;){for(var P=0;P<2;P++)if(this.modules[d][T-P]==null){var N=!1;Z<w.length&&(N=(w[Z]>>>v&1)==1),b.getMask(h,d,T-P)&&(N=!N),this.modules[d][T-P]=N,--v==-1&&(Z++,v=7)}if((d+=m)<0||this.moduleCount<=d){d-=m,m=-m;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(w,h,m){for(var d=y.getRSBlocks(w,h),v=new p,Z=0;Z<m.length;Z++){var T=m[Z];v.put(T.mode,4),v.put(T.getLength(),b.getLengthInBits(T.mode,w)),T.write(v)}var P=0;for(Z=0;Z<d.length;Z++)P+=d[Z].dataCount;if(v.getLengthInBits()>8*P)throw new Error("code length overflow. ("+v.getLengthInBits()+">"+8*P+")");for(v.getLengthInBits()+4<=8*P&&v.put(0,4);v.getLengthInBits()%8!=0;)v.putBit(!1);for(;!(v.getLengthInBits()>=8*P||(v.put(t.PAD0,8),v.getLengthInBits()>=8*P));)v.put(t.PAD1,8);return t.createBytes(v,d)},t.createBytes=function(w,h){for(var m=0,d=0,v=0,Z=new Array(h.length),T=new Array(h.length),P=0;P<h.length;P++){var N=h[P].dataCount,F=h[P].totalCount-N;d=Math.max(d,N),v=Math.max(v,F),Z[P]=new Array(N);for(var z=0;z<Z[P].length;z++)Z[P][z]=255&w.buffer[z+m];m+=N;var Y=b.getErrorCorrectPolynomial(F),J=new C(Z[P],Y.getLength()-1).mod(Y);for(T[P]=new Array(Y.getLength()-1),z=0;z<T[P].length;z++){var _=z+J.getLength()-T[P].length;T[P][z]=_>=0?J.get(_):0}}var G=0;for(z=0;z<h.length;z++)G+=h[z].totalCount;var I=new Array(G),E=0;for(z=0;z<d;z++)for(P=0;P<h.length;P++)z<Z[P].length&&(I[E++]=Z[P][z]);for(z=0;z<v;z++)for(P=0;P<h.length;P++)z<T[P].length&&(I[E++]=T[P][z]);return I};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},r={L:1,M:0,Q:3,H:2},i=0,s=1,o=2,l=3,a=4,u=5,c=6,S=7,b={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(w){for(var h=w<<10;b.getBCHDigit(h)-b.getBCHDigit(b.G15)>=0;)h^=b.G15<<b.getBCHDigit(h)-b.getBCHDigit(b.G15);return(w<<10|h)^b.G15_MASK},getBCHTypeNumber:function(w){for(var h=w<<12;b.getBCHDigit(h)-b.getBCHDigit(b.G18)>=0;)h^=b.G18<<b.getBCHDigit(h)-b.getBCHDigit(b.G18);return w<<12|h},getBCHDigit:function(w){for(var h=0;w!=0;)h++,w>>>=1;return h},getPatternPosition:function(w){return b.PATTERN_POSITION_TABLE[w-1]},getMask:function(w,h,m){switch(w){case i:return(h+m)%2==0;case s:return h%2==0;case o:return m%3==0;case l:return(h+m)%3==0;case a:return(Math.floor(h/2)+Math.floor(m/3))%2==0;case u:return h*m%2+h*m%3==0;case c:return(h*m%2+h*m%3)%2==0;case S:return(h*m%3+(h+m)%2)%2==0;default:throw new Error("bad maskPattern:"+w)}},getErrorCorrectPolynomial:function(w){for(var h=new C([1],0),m=0;m<w;m++)h=h.multiply(new C([1,g.gexp(m)],0));return h},getLengthInBits:function(w,h){if(1<=h&&h<10)switch(w){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+w)}else if(h<27)switch(w){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+w)}else{if(!(h<41))throw new Error("type:"+h);switch(w){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+w)}}},getLostPoint:function(w){for(var h=w.getModuleCount(),m=0,d=0;d<h;d++)for(var v=0;v<h;v++){for(var Z=0,T=w.isDark(d,v),P=-1;P<=1;P++)if(!(d+P<0||h<=d+P))for(var N=-1;N<=1;N++)v+N<0||h<=v+N||P==0&&N==0||T==w.isDark(d+P,v+N)&&Z++;Z>5&&(m+=3+Z-5)}for(d=0;d<h-1;d++)for(v=0;v<h-1;v++){var F=0;w.isDark(d,v)&&F++,w.isDark(d+1,v)&&F++,w.isDark(d,v+1)&&F++,w.isDark(d+1,v+1)&&F++,F!=0&&F!=4||(m+=3)}for(d=0;d<h;d++)for(v=0;v<h-6;v++)w.isDark(d,v)&&!w.isDark(d,v+1)&&w.isDark(d,v+2)&&w.isDark(d,v+3)&&w.isDark(d,v+4)&&!w.isDark(d,v+5)&&w.isDark(d,v+6)&&(m+=40);for(v=0;v<h;v++)for(d=0;d<h-6;d++)w.isDark(d,v)&&!w.isDark(d+1,v)&&w.isDark(d+2,v)&&w.isDark(d+3,v)&&w.isDark(d+4,v)&&!w.isDark(d+5,v)&&w.isDark(d+6,v)&&(m+=40);var z=0;for(v=0;v<h;v++)for(d=0;d<h;d++)w.isDark(d,v)&&z++;return m+=10*(Math.abs(100*z/h/h-50)/5)}},g={glog:function(w){if(w<1)throw new Error("glog("+w+")");return g.LOG_TABLE[w]},gexp:function(w){for(;w<0;)w+=255;for(;w>=256;)w-=255;return g.EXP_TABLE[w]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},X=0;X<8;X++)g.EXP_TABLE[X]=1<<X;for(X=8;X<256;X++)g.EXP_TABLE[X]=g.EXP_TABLE[X-4]^g.EXP_TABLE[X-5]^g.EXP_TABLE[X-6]^g.EXP_TABLE[X-8];for(X=0;X<255;X++)g.LOG_TABLE[g.EXP_TABLE[X]]=X;function C(w,h){if(w.length==null)throw new Error(w.length+"/"+h);for(var m=0;m<w.length&&w[m]==0;)m++;this.num=new Array(w.length-m+h);for(var d=0;d<w.length-m;d++)this.num[d]=w[d+m]}function y(w,h){this.totalCount=w,this.dataCount=h}function p(){this.buffer=[],this.length=0}C.prototype={get:function(w){return this.num[w]},getLength:function(){return this.num.length},multiply:function(w){for(var h=new Array(this.getLength()+w.getLength()-1),m=0;m<this.getLength();m++)for(var d=0;d<w.getLength();d++)h[m+d]^=g.gexp(g.glog(this.get(m))+g.glog(w.get(d)));return new C(h,0)},mod:function(w){if(this.getLength()-w.getLength()<0)return this;for(var h=g.glog(this.get(0))-g.glog(w.get(0)),m=new Array(this.getLength()),d=0;d<this.getLength();d++)m[d]=this.get(d);for(d=0;d<w.getLength();d++)m[d]^=g.gexp(g.glog(w.get(d))+h);return new C(m,0).mod(w)}},y.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],y.getRSBlocks=function(w,h){var m=y.getRsBlockTable(w,h);if(m==null)throw new Error("bad rs block @ typeNumber:"+w+"/errorCorrectLevel:"+h);for(var d=m.length/3,v=[],Z=0;Z<d;Z++)for(var T=m[3*Z+0],P=m[3*Z+1],N=m[3*Z+2],F=0;F<T;F++)v.push(new y(P,N));return v},y.getRsBlockTable=function(w,h){switch(h){case r.L:return y.RS_BLOCK_TABLE[4*(w-1)+0];case r.M:return y.RS_BLOCK_TABLE[4*(w-1)+1];case r.Q:return y.RS_BLOCK_TABLE[4*(w-1)+2];case r.H:return y.RS_BLOCK_TABLE[4*(w-1)+3];default:return}},p.prototype={get:function(w){var h=Math.floor(w/8);return(this.buffer[h]>>>7-w%8&1)==1},put:function(w,h){for(var m=0;m<h;m++)this.putBit((w>>>h-m-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(w){var h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),w&&(this.buffer[h]|=128>>>this.length%8),this.length++}};var f=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],x=function(){var w=function(h,m){this._bIsPainted=!1,this._htOption=m,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=m.width,this._elCanvas.height=m.height,h.appendChild(this._elCanvas),this._el=h,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._bSupportDataURI=null};return w.prototype.draw=function(h){var m=this._oContext,d=this._htOption,v=h.getModuleCount(),Z=d.width/v,T=d.height/v,P=Math.round(Z),N=Math.round(T);this.clear();for(var F=0;F<v;F++)for(var z=0;z<v;z++){var Y=h.isDark(F,z),J=z*Z,_=F*T;m.strokeStyle=Y?d.colorDark:d.colorLight,m.lineWidth=1,m.fillStyle=Y?d.colorDark:d.colorLight,m.fillRect(J,_,Z,T),m.strokeRect(Math.floor(J)+.5,Math.floor(_)+.5,P,N),m.strokeRect(Math.ceil(J)-.5,Math.ceil(_)-.5,P,N)}this._bIsPainted=!0},w.prototype.isPainted=function(){return this._bIsPainted},w.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},w.prototype.round=function(h){return h&&Math.floor(1e3*h)/1e3},w}();function L(w,h){for(var m=1,d=function(P){var N=encodeURI(P).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return N.length+(N.length!=P?3:0)}(w),v=0,Z=f.length;v<=Z;v++){var T=0;switch(h){case r.L:T=f[v][0];break;case r.M:T=f[v][1];break;case r.Q:T=f[v][2];break;case r.H:T=f[v][3]}if(d<=T)break;m++}if(m>f.length)throw new Error("Too long data");return m}Yr=function(w,h){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:r.H},typeof h=="string"&&(h={text:h}),h)for(var m in h)this._htOption[m]=h[m];typeof w=="string"&&(w=document.getElementById(w)),this._htOption.useSVG&&(x=svgDrawer),this._el=w,this._oQRCode=null,this._oDrawing=new x(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},Yr.prototype.makeCode=function(w){this._oQRCode=new t(L(w,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(w),this._oQRCode.make(),this._oDrawing.draw(this._oQRCode)},Yr.prototype.clear=function(){this._oDrawing.clear()},Yr.prototype.getCanvas=function(){for(let w=0;w<this._el.children.length;w++){const h=this._el.children[w];if(h.tagName==="CANVAS")return h}return null},Yr.CorrectLevel=r})();var rh=Yr,ih={exports:{}},sh,oh={exports:{}};function Wt(){return sh||(sh=1,oh.exports=(e=e||function(t,n){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&ua!==void 0&&ua.crypto&&(r=ua.crypto),!r)try{r=pg}catch{}var i=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function y(){}return function(p){var f;return y.prototype=p,f=new y,y.prototype=null,f}}(),o={},l=o.lib={},a=l.Base={extend:function(y){var p=s(this);return y&&p.mixIn(y),p.hasOwnProperty("init")&&this.init!==p.init||(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var p in y)y.hasOwnProperty(p)&&(this[p]=y[p]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}},u=l.WordArray=a.extend({init:function(y,p){y=this.words=y||[],this.sigBytes=p!=n?p:4*y.length},toString:function(y){return(y||S).stringify(this)},concat:function(y){var p=this.words,f=y.words,x=this.sigBytes,L=y.sigBytes;if(this.clamp(),x%4)for(var w=0;w<L;w++){var h=f[w>>>2]>>>24-w%4*8&255;p[x+w>>>2]|=h<<24-(x+w)%4*8}else for(var m=0;m<L;m+=4)p[x+m>>>2]=f[m>>>2];return this.sigBytes+=L,this},clamp:function(){var y=this.words,p=this.sigBytes;y[p>>>2]&=4294967295<<32-p%4*8,y.length=t.ceil(p/4)},clone:function(){var y=a.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var p=[],f=0;f<y;f+=4)p.push(i());return new u.init(p,y)}}),c=o.enc={},S=c.Hex={stringify:function(y){for(var p=y.words,f=y.sigBytes,x=[],L=0;L<f;L++){var w=p[L>>>2]>>>24-L%4*8&255;x.push((w>>>4).toString(16)),x.push((15&w).toString(16))}return x.join("")},parse:function(y){for(var p=y.length,f=[],x=0;x<p;x+=2)f[x>>>3]|=parseInt(y.substr(x,2),16)<<24-x%8*4;return new u.init(f,p/2)}},b=c.Latin1={stringify:function(y){for(var p=y.words,f=y.sigBytes,x=[],L=0;L<f;L++){var w=p[L>>>2]>>>24-L%4*8&255;x.push(String.fromCharCode(w))}return x.join("")},parse:function(y){for(var p=y.length,f=[],x=0;x<p;x++)f[x>>>2]|=(255&y.charCodeAt(x))<<24-x%4*8;return new u.init(f,p)}},g=c.Utf8={stringify:function(y){try{return decodeURIComponent(escape(b.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return b.parse(unescape(encodeURIComponent(y)))}},X=l.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=g.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var p,f=this._data,x=f.words,L=f.sigBytes,w=this.blockSize,h=L/(4*w),m=(h=y?t.ceil(h):t.max((0|h)-this._minBufferSize,0))*w,d=t.min(4*m,L);if(m){for(var v=0;v<m;v+=w)this._doProcessBlock(x,v);p=x.splice(0,m),f.sigBytes-=d}return new u.init(p,d)},clone:function(){var y=a.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0});l.Hasher=X.extend({cfg:a.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){X.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){return y&&this._append(y),this._doFinalize()},blockSize:16,_createHelper:function(y){return function(p,f){return new y.init(f).finalize(p)}},_createHmacHelper:function(y){return function(p,f){return new C.HMAC.init(y,f).finalize(p)}}});var C=o.algo={};return o}(Math),e)),oh.exports;var e}var lh,ha,ah,Zg=(lh||(lh=1,ih.exports=(ha=Wt(),function(){if(typeof ArrayBuffer=="function"){var e=ha.lib.WordArray,t=e.init,n=e.init=function(r){if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),(r instanceof Int8Array||typeof Uint8ClampedArray<"u"&&r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array)&&(r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),r instanceof Uint8Array){for(var i=r.byteLength,s=[],o=0;o<i;o++)s[o>>>2]|=r[o]<<24-o%4*8;t.call(this,s,i)}else t.apply(this,arguments)};n.prototype=e}}(),ha.lib.WordArray)),ih.exports),mr=ir(Zg),uh={exports:{}};function Yc(){return ah||(ah=1,uh.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.algo,l=[],a=[];(function(){function S(C){for(var y=t.sqrt(C),p=2;p<=y;p++)if(!(C%p))return!1;return!0}function b(C){return 4294967296*(C-(0|C))|0}for(var g=2,X=0;X<64;)S(g)&&(X<8&&(l[X]=b(t.pow(g,.5))),a[X]=b(t.pow(g,1/3)),X++),g++})();var u=[],c=o.SHA256=s.extend({_doReset:function(){this._hash=new i.init(l.slice(0))},_doProcessBlock:function(S,b){for(var g=this._hash.words,X=g[0],C=g[1],y=g[2],p=g[3],f=g[4],x=g[5],L=g[6],w=g[7],h=0;h<64;h++){if(h<16)u[h]=0|S[b+h];else{var m=u[h-15],d=(m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3,v=u[h-2],Z=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[h]=d+u[h-7]+Z+u[h-16]}var T=X&C^X&y^C&y,P=(X<<30|X>>>2)^(X<<19|X>>>13)^(X<<10|X>>>22),N=w+((f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25))+(f&x^~f&L)+a[h]+u[h];w=L,L=x,x=f,f=p+N|0,p=y,y=C,C=X,X=N+(P+T)|0}g[0]=g[0]+X|0,g[1]=g[1]+C|0,g[2]=g[2]+y|0,g[3]=g[3]+p|0,g[4]=g[4]+f|0,g[5]=g[5]+x|0,g[6]=g[6]+L|0,g[7]=g[7]+w|0},_doFinalize:function(){var S=this._data,b=S.words,g=8*this._nDataBytes,X=8*S.sigBytes;return b[X>>>5]|=128<<24-X%32,b[14+(X+64>>>9<<4)]=t.floor(g/4294967296),b[15+(X+64>>>9<<4)]=g,S.sigBytes=4*b.length,this._process(),this._hash},clone:function(){var S=s.clone.call(this);return S._hash=this._hash.clone(),S}});n.SHA256=s._createHelper(c),n.HmacSHA256=s._createHmacHelper(c)}(Math),e.SHA256}(Wt())),uh.exports}var xp=ir(Yc());const xg=Kl.CROQUET_PLATFORM==="node";let Lp;function Xp(e){const t=e.sigBytes,n=e.words,r=new Uint8Array(t);let i=0,s=0;for(;i<t;){const o=n[s++];if(r[i++]=(4278190080&o)>>>24,i===t||(r[i++]=(16711680&o)>>>16,i===t)||(r[i++]=(65280&o)>>>8,i===t))break;r[i++]=255&o}return r}function kp(e){function t(r){const i=r.indexOf("{"),s=r.lastIndexOf("}");if(i===-1||s===-1||s<i)return r;const o=r.slice(0,i).replace(/\s+/g," ").replace(/\s\(/,"("),l=r.slice(i+1,s);return`${o.trim()}{${l.trim()}}`}let n=t(""+e);if(!n.startsWith("class")){const r=e.prototype;r&&(n+=Object.getOwnPropertyNames(r).map(i=>`${i}:${t(""+r[i])}`).join(""))}return n}function Cp(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ch(){return D.has("debug","hashing",!1)}Lp=globalThis.crypto&&globalThis.crypto.subtle&&typeof globalThis.crypto.subtle.digest=="function"?globalThis.crypto.subtle.digest.bind(globalThis.crypto.subtle):(e,t)=>{if(e!=="SHA-256")throw Error("Croquet: only SHA-256 available");const n=mr.create(t);return Xp(xp(n)).buffer};let Jt={};const Lg=new TextEncoder;async function Qr(e){const t=Lg.encode(e),n=await async function(r){return r.length===0?"47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU":Cp(await Lp("SHA-256",r))}(t);return Jt[n]={string:e,buffer:t},n}const Kc=[],dh={},hh=new Set,Xg=Date.now();typeof performance>"u"&&(window.performance={now:()=>Date.now()-Xg});const kg=["simulate","update","render","snapshot"],Oo={total:"black",update:"blue",render:"magenta",simulate:"yellow",snapshot:"green",backlog:"red",network:"lightgray"};let si,Kr,al=null,De=null,me=null,fa=0,xt=null,cn=null;function Cg(e){for(al=e;e.firstChild;)e.removeChild(e.firstChild);e.style.background="#faf0dc",xt=document.createElement("canvas"),cn=xt.getContext("2d"),xt.id="text_stats",xt.width=Math.min(140,window.innerWidth),xt.height=36,xt.style.width=xt.width,xt.style.height=xt.height,cn.font="9.5pt sans-serif",e.appendChild(xt),e.title=Object.entries(Oo).map(n=>{let[r,i]=n;return`${i}: ${r}`}).join(`
`),De=document.createElement("canvas"),De.width=Math.min(125,window.innerWidth),De.height=125,De.style.width="100%";const t=document.createElement("div");t.id="innerDiv",e.appendChild(t),t.appendChild(De),me=De.getContext("2d")}const an=[];let fh=0,Do=!1,be=Tp(0);const Fc=1e3/60;function Fr(e){return 20*(1-e/Fc)+60}function Tg(e){si=function(t){const n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.style.width="100%",n.style.position="absolute",n.style.left="0px",al.querySelector("#innerDiv").appendChild(n),n}(e),Kr=si.getContext("2d"),Kr.strokeStyle="rgba(255, 255, 255, 0.5)";for(let t=0;t<60;t+=Fc){const n=Fr(t);Kr.moveTo(0,n),Kr.lineTo(si.width,n),Kr.stroke()}}function Tp(e){return{start:e,total:0,items:{},users:0,backlog:0,network:0,latency:0,activity:1e3,connected:Do}}function Gg(e){be.total=e-be.start;const t=Math.min(120,window.innerWidth);if(an.length>=t&&an.splice(0,an.length-t+1),an.push(be),an.length<=1||!al||al.offsetHeight===0)return;const n=an.slice(1).filter(o=>o.total),r=n.map(o=>o.total).reduce((o,l)=>o+l,0)/n.length,i=Math.max(...n.map(o=>o.total));Math.max(...n.map(o=>Math.max(o.backlog,o.network))),fh=1e3,function(o,l){cn.globalCompositeOperation="copy",cn.fillStyle="rgb(255, 255, 255, 0)",cn.fillRect(0,0,xt.width,xt.height),cn.fillStyle="rgb(0, 0, 0, 1)",cn.globalCompositeOperation="source-over";let a=`${be.users} users, ${Math.round(1e3/o)} fps`;l>70&&(a+=` ${Math.ceil(l).toLocaleString()}ms`),cn.fillText(a,2,15),a=be.backlog<100&&be.activity<1e3?`latency: ${be.latency} ms`:`backlog: ${be.backlog<100?"0.0":(be.backlog/1e3).toFixed(1)} s`,cn.fillText(a,2,33)}(r,i),si||Tg(De),fa===De.width?(me.globalCompositeOperation="copy",me.drawImage(De,1,0,De.width-1,De.height,0,0,De.width-1,De.height),me.globalCompositeOperation="source-over",me.fillStyle="transparent",me.fillRect(De.width-1,0,1,De.height)):fa++;const s=o=>Fr(o/fh*-2*Fc)+5;{const o=an[an.length-1],l=fa-.5;let a=Fr(0);me.beginPath(),me.moveTo(l,a),me.lineTo(l,Fr(o.total)),me.strokeStyle=Oo[o.connected?"total":"network"],me.stroke(),me.beginPath(),me.moveTo(l,a),a=Fr(o.total);let u=0;for(const c of kg)o.items[c]&&(u+=o.items[c],a=Fr(u),me.lineTo(l,a),me.strokeStyle=Oo[c],me.stroke(),me.beginPath(),me.moveTo(l,a));o.network&&(me.beginPath(),me.moveTo(l,s(0)),me.lineTo(l,s(o.network)),me.strokeStyle=Oo.network,me.stroke())}}const zr=[],ar={};let Qt={};const ee={frames:an,animationFrame(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gg(e),be=Tp(e);for(const[n,r]of Object.entries(t))this[n](r)},begin(e){const t=performance.now();be.items[e]=(be.items[e]||0)-t;const n=zr[zr.length-1];return n&&(be.items[n]+=t),zr.push(e),t},end(e){const t=performance.now();be.items[e]+=t;const n=zr.pop();if(n!==e)throw Error(`Unmatched stats calls: expected end("${n}"), got end("${e}")`);const r=zr[zr.length-1];return r&&(be.items[r]-=t),t},backlog(e){be.backlog=Math.max(e,be.backlog)},starvation(e){be.network=e},latency(e){be.latency=e},activity(e){be.activity=e},users(e){be.users=e},connected(e){const t=Do;be.connected=Do=e,t&&!Do&&si&&(si.remove(),Kr=null)},networkTraffic:ar,addNetworkTraffic(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];ar[e]=(ar[e]||0)+t,n&&(ar[`audit_${e}`]=(ar[`audit_${e}`]||0)+t)},resetAuditStats(){for(const e in ar)e.startsWith("audit_")&&(ar[e]=0)},perSecondTally(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(window.logMessageStats)for(const[t,n]of Object.entries(e))Qt[t]=(Qt[t]||0)+n},stepSession(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=Math.floor(Date.now()/1e3);if(!window.logMessageStats)return Qt={second:n},null;let r=null;if(n!==Qt.second){if(Qt.second&&t&&(Qt.requestedMessages||Qt.sentMessagesTotal)){r={...Qt};const i=n-Qt.second;i!==1&&(r.sampleSeconds=i),r.sentBundles&&(r.averageDelay=Math.round(10*r.sendDelay/r.sentMessagesTotal)/10,r.averageBundlePayload=Math.round(r.sentBundlePayload/r.sentBundles)),delete r.second,delete r.sendDelay,delete r.sentBundlePayload}Qt={second:n}}return r}};globalThis.CROQUETSTATS=ee;const mi="ontouchstart"in document.documentElement,Gp=window.parent!==window,Cu=mi?20:12,ph=mi?0:15;let mh=!1,yh=!1,yn,gh=!1;function Yn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e&&$.showMessage(e,{...t,level:"warning"})}function Pp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e&&$.showMessage(e,{...t,level:"status"})}function je(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"error";console.error(`Error during ${e}`,t);const r=(t.stack||"").split(`
`).filter(i=>!i.match(/croquet-.*\.min.js/)).join(`
`);$.showMessage(`Error during ${e}: ${t.message}

${r}`,{level:n,duration:n==="error"?1e4:void 0,stopOnFocus:!0})}try{if(yn=window.localStorage,yn["croquet-debug-persist-allowed"]="true",yn["croquet-debug-persist-allowed"]!=="true")throw Error("localStorage not persisted");delete yn["croquet-debug-persist-allowed"]}catch{console.warn("localStorage not allowed"),yn={}}const Zt={get pinned(){return yn[window.location.pathname+"/croquet-debug-ui-pinned"]==="true"},set pinned(e){yn[window.location.pathname+"/croquet-debug-ui-pinned"]=!!e},get activePage(){return yn[window.location.pathname+"/croquet-debug-ui-activePage"]},set activePage(e){yn[window.location.pathname+"/croquet-debug-ui-activePage"]=e}},_n=e=>{e.preventDefault(),e.stopPropagation()};function pa(e,t,n){const r=document.createElement("canvas"),i=r.width=40*Cu/12,s=r.height=60,o=r.getContext("2d");o.font="36px Arial",o.textAlign="center",o.textBaseline="middle",o.fillStyle="black",o.fillText(e,i/2,.55*s);const l=document.createElement("button");l.id=t,l.className="croquet_dock_button";const a=u=>{u.preventDefault(),u.stopPropagation(),n()};return mi?(l.ontouchstart=a,l.ontouchend=_n,l.onpointerdown=_n,l.onpointerup=_n):(l.onclick=a,l.onpointerdown=_n,l.onpointerup=_n),l.appendChild(r),l}function Pg(e,t){if($.badge===!1)return;const n=function(a){const u=new ll(a),c=["bcdfghjklmnpqrstvwxyz","aeiou"];let S="";for(let b=0;b<5;b++)S+=c[b%2][u.quick()*c[b%2].length|0];return S}(t);for(document.title=document.title.replace(/:.*/,""),document.title+=":"+n;e.firstChild;)e.removeChild(e.firstChild);const r=document.createElement("canvas"),i=r.width=120,s=r.height=40;r.style.width="100%",e.appendChild(r);const o=r.getContext("2d"),l=function(a){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const c=new ll(a),S=[];for(let b=0;b<u;b++)S.push(`hsl(${360*c.quick()}, 50%, 70%)`);return S}(t,2);o.fillStyle=l[0],o.beginPath(),o.moveTo(0,0),o.lineTo(0,s),o.lineTo(i,0),o.closePath(),o.fill(),o.fillStyle=l[1],o.beginPath(),o.moveTo(i,s),o.lineTo(i,0),o.lineTo(0,s),o.closePath(),o.fill(),o.font="30px Arial",o.textAlign="center",o.textBaseline="middle",o.fillStyle="black",o.fillText(n,i/2,s/2)}function Wp(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(;e.firstChild;)e.removeChild(e.firstChild);return new rh(e,{text:t,width:128,height:128,colorDark:"#000000",colorLight:"#ffffff",correctLevel:rh.CorrectLevel.L,...n})}function vh(){if($.root===!1||$.qrcode===!1||D.noqr)return;const e=$.sessionURL;if(!e)return void console.warn("App.sessionURL is not set");const t=jr($.qrcode);t&&(mi||(t.onclick=n=>{n.preventDefault(),n.stopPropagation(),n.shiftKey?function(){const r=document.getElementById("croquet_dock");r&&r.classList.toggle("debug")}():window.open(e)}),Wp(t,e).getCanvas().style.width="100%")}let Mt,ur,ao=0;function Wg(){(function(){if(yh)return;yh=!0;const n=`
        ${Gp?"body { min-height: 100vh }":""}
        #croquet_spinnerOverlay {
            z-index: 1000;
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color:#333;
            opacity:0.9;
            display:flex;
            align-items:center;
            justify-content:center;
            transition: opacity 1.0s ease-out;
        }
        /* https://github.com/lukehaas/css-loaders */
        @keyframes croquet_dots {
            0%, 80%, 100% { box-shadow: 0 2.5em 0 -1.3em; }
            40% { box-shadow: 0 2.5em 0 0; }
        }
        #croquet_loader,
        #croquet_loader::before,
        #croquet_loader::after {
          border-radius: 50%;
          width: 2.5em;
          height: 2.5em;
          animation: croquet_dots 1.8s infinite ease-in-out;
        }
        #croquet_loader {
          color: #fff;
          font-size: 10px;
          margin: 80px auto;
          position: relative;
          text-indent: -9999em;
          animation-delay: -0.16s;
        }
        #croquet_loader::before,
        #croquet_loader::after {
          content: '';
          position: absolute;
          top: 0;
        }
        #croquet_loader::before { left: -3.5em; animation-delay: -0.32s; }
        #croquet_loader::after { left: 3.5em; }
        #croquet_spinnerOverlay.croquet_error>*,
        #croquet_spinnerOverlay.croquet_error>*::before,
        #croquet_spinnerOverlay.croquet_error>*::after {
            color: #f00;
        }
        #croquet_spinnerOverlay.croquet_fatal>*,
        #croquet_spinnerOverlay.croquet_fatal>*::before,
        #croquet_spinnerOverlay.croquet_fatal>*::after {
            color: #f00;
            box-shadow: 0 2.5em 0 0 !important;
            animation: none !important;
        }
`,r=document.createElement("style");r.innerHTML=n,document.head.insertBefore(r,document.head.getElementsByTagName("style")[0])})();const e=document.createElement("div");e.id="croquet_spinnerOverlay";const t=document.createElement("div");return t.id="croquet_loader",t.innerText="Catching up...",e.appendChild(t),e}function jr(e,t){if(e===!1)return!1;if(e instanceof Element)return e;if(typeof e=="string"){const n=document.getElementById(e);if(n)return n}return t?t():null}function wh(){const e=new Uint8Array(arguments.length>0&&arguments[0]!==void 0?arguments[0]:16);return window.crypto.getRandomValues(e),Cp(e.buffer)}const bh=new Set;let Sh=function(){let e=null;const t=document.getElementsByTagName("link");for(const n of t)if(n.getAttribute("rel")==="canonical"){e=n.getAttribute("href");break}return e||window.location.href}();const $={get sessionURL(){return Sh},set sessionURL(e){Sh=e,vh()},root:null,sync:!0,messages:!1,badge:!1,stats:!1,qrcode:!1,makeWidgetDock:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(D.nodock)return;const t=e.debug||D.debug,n=document.getElementById("croquet_dock");n&&n.parentElement.removeChild(n);const r=jr($.root,()=>document.body);if(!r)return;(function(){if(mh)return;mh=!0;const C=`
        #croquet_dock { position: fixed; z-index: 2; border: 3px solid white; bottom: 6px; left: 6px; width: 36px; height: 36px; box-sizing: border-box; background: white; opacity: 0.4; transition: all 0.3s ease; }
        #croquet_dock.active { opacity: 0.95; border-radius: 12px; }
        #croquet_dock.debug { width: 84px; }
        #croquet_dock_bar { position: absolute; border: 3px solid white; width: 100%; height: 30px; box-sizing: border-box; background: white; }

        #croquet_badge { position: absolute; width: 72px; height: 24px; top: 50%; transform: translate(0px, -50%); cursor: none; }
        #croquet_dock.active #croquet_badge { left: 2%; }
        #croquet_dock:not(.debug) #croquet_badge { display: none; }

        .croquet_dock_button { position: absolute; width: ${Cu}%; height: 90%; top: 50%; transform: translate(0px, -50%); border-radius: 20%; }
        .croquet_dock_button:focus { outline: 0; }
        .croquet_dock_button canvas { position: absolute; width: 100%; height: 100%; top: 0px; left: 0px; }
        #croquet_dock:not(.active) .croquet_dock_button { display: none; }
        #croquet_dock_left { right: ${2+ph+Cu+2}% }
        #croquet_dock:not(.debug) #croquet_dock_left { display: none; }
        #croquet_dock_right { right: ${2+ph}%; }
        #croquet_dock:not(.debug) #croquet_dock_right { display: none; }
        #croquet_dock_pin { right: 2%; }
        #croquet_dock_pin.pinned { background: #cce6ff; }

        #croquet_dock_content { position: absolute; left: 2px; top: 2px; right: 2px; bottom: 2px; background: white; overflow: hidden; }
        #croquet_dock.debug:not(.active) #croquet_dock_content { display: none; }
        #croquet_dock.debug:not(.active) #croquet_dock_content div { display: none; }

        #croquet_qrcode { position: absolute; width: 100%; height: 100%;box-sizing: border-box; cursor: crosshair; }
        #croquet_dock.active #croquet_qrcode { border: 6px solid white; }
        #croquet_dock.debug #croquet_qrcode:not(.active) { display: none; }
        #croquet_qrcode canvas { image-rendering: pixelated; }

        #croquet_stats { position: absolute; width: 70%; height: 90%; left: 15%; top: 5%; opacity: 0.8; font-family: sans-serif; }
        #croquet_stats:not(.active) { display: none; }
`,y=document.createElement("style");y.innerHTML=C,document.head.insertBefore(y,document.head.getElementsByTagName("style")[0])})();const i=document.createElement("div");i.id="croquet_dock",t&&i.classList.add("debug"),Gp&&!e.iframe&&(i.style.display="none"),r.appendChild(i);const s=document.createElement("div");let o;s.id="croquet_dock_bar",i.appendChild(s),e.badge!==!1&&(o=document.createElement("div"),o.id="croquet_badge",s.appendChild(o),$.badge=o);const l=document.createElement("div");l.id="croquet_dock_content",i.appendChild(l);const a=[];let u,c;if(e.qrcode!==!1&&$.sessionURL&&(u=document.createElement("div"),u.id="croquet_qrcode",l.appendChild(u),a.push(u.id),$.qrcode=u,t||(Zt.activePage=u.id)),e.stats!==!1&&(c=document.createElement("div"),c.id="croquet_stats",l.appendChild(c),a.push(c.id),$.stats=c),a.length){let C=function(y){const p=a.length;let f,x=0;if(Zt.activePage){const h=a.indexOf(Zt.activePage);h>=0?(x=h,f=document.getElementById(Zt.activePage)):Zt.activePage=null}const L=a[(x+p+y)%p];let w;L===Zt.activePage?w=f:(f&&f.classList.remove("active"),w=document.getElementById(L)),w&&w.classList.add("active"),Zt.activePage=L};a.length>1&&(s.appendChild(pa("<","croquet_dock_left",()=>C(-1))),s.appendChild(pa(">","croquet_dock_right",()=>C(1)))),C(0)}if(!mi&&!e.alwaysPinned){const C=pa("","croquet_dock_pin",()=>{Zt.pinned=!Zt.pinned,y()}),y=()=>{Zt.pinned?C.classList.add("pinned"):C.classList.remove("pinned")};y(),s.appendChild(C)}const S=C=>{i.style.width=`${C}px`;const y=1.18*C;i.style.height=`${y}px`;const p=18*C/100;s.style.height=`${p}px`,l.style.top=`${p+2}px`,o&&(o.style.height=.9*p+"px",o.style.width=.9*p*3+"px"),u&&(u.style.border=8*C/200+"px solid white")};let b=e.fixedSize||200;const g=()=>{i.classList.add("active"),S(b),setTimeout(()=>i.style.transition="none",300)},X=()=>{i.style.transition="",i.classList.remove("active"),i.style.width=i.style.height="",s.style.height="",l.style.top="",o&&(o.style.height=o.style.width=""),u&&(u.style.border="")};if(mi)X(),i.ontouchstart=C=>{C.preventDefault(),C.stopPropagation(),i.classList.contains("active")?X():g()},i.ontouchend=_n,i.onpointerdown=_n,i.onpointerup=_n;else if(e.alwaysPinned?g():(Zt.pinned?g():X(),i.onmouseenter=g,i.onmouseleave=()=>{Zt.pinned||X()}),!e.fixedSize){let C=0;i.addEventListener("wheel",y=>{y.stopPropagation();const p=Date.now();if(p-C<100)return;C=p;let{deltaY:f}=y;f=Math.sign(f)*Math.min(5,Math.abs(f));const x=.8*Math.min(window.innerWidth,window.innerHeight);b=Math.max(166,Math.min(x,i.offsetWidth/1.05**f)),S(b)},{passive:!0})}},makeSessionWidgets:function(e){(function(t){if(!t||$.root===!1)return;const n=jr($.badge);n&&Pg(n,t)})(e),vh(),function(){if($.root===!1||D.nostats)return;const t=jr($.stats);t&&Cg(t)}()},makeQRCanvas(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!$.sessionURL)return null;const t=Wp(document.createElement("div"),$.sessionURL,e);return t&&t.getCanvas()},clearSessionMoniker:function(){$.badge!==!1&&(document.title=document.title.replace(/:.*/,""))},showSyncWait(e){$.root===!1?e=!1:Mt||(Mt=Wg()),function(t){if(ur!==t&&(typeof ur!="string"||t!==!0))if($.sync===!1&&(t=!1),ur=t,t)clearTimeout(ao),ao=setTimeout(()=>{ur&&(jr($.root,()=>document.body).appendChild(Mt),Mt.style.opacity=.9,Mt.className=ur==="error"?"croquet_error":ur==="fatal"?"croquet_fatal":"")},500);else{if(!Mt)return;clearTimeout(ao),Mt.style.opacity=0,Mt.className="",ao=setTimeout(()=>{ur||Mt.parentElement&&Mt.parentElement.removeChild(Mt)},500)}}(e)},messageFunction:function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.level;let r;return n==="error"?(r="orangered,red",console.error(e)):n==="warning"?(r="gold,orange",console.warn(e)):r="silver,gray",function(i,s){const o=jr($.root,()=>document.body);if(o===!1)return null;(function(){if(gh)return;gh=!0;const u=document.createElement("style");u.innerHTML=`/*!
        * Toastify js 1.5.0
        * https://github.com/apvarun/toastify-js
        * @license MIT licensed
        *
        * Copyright (C) 2018 Varun A P
        */
        .toastify {
            padding: 12px 20px;
            color: #ffffff;
            display: inline-block;
            box-shadow: 0 3px 6px -1px rgba(0, 0, 0, 0.12), 0 10px 36px -4px rgba(77, 96, 232, 0.3);
            background: -webkit-linear-gradient(315deg, #73a5ff, #5477f5);
            background: linear-gradient(135deg, #73a5ff, #5477f5);
            position: fixed;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);
            border-radius: 2px;
            cursor: pointer;
            text-decoration: none;
            max-width: calc(50% - 20px);
            z-index: 2147483647;
        }
        .toastify.on {
            opacity: 1;
        }
        .toast-close {
            opacity: 0.4;
            padding: 0 5px;
        }
        .toastify-right {
            right: 15px;
        }
        .toastify-left {
            left: 15px;
        }
        .toastify-top {
            top: -150px;
        }
        .toastify-bottom {
            bottom: -150px;
        }
        .toastify-rounded {
            border-radius: 25px;
        }
        .toastify-avatar {
            width: 1.5em;
            height: 1.5em;
            margin: 0 5px;
            border-radius: 2px;
        }
        @media only screen and (max-width: 360px) {
            .toastify-right, .toastify-left {
                margin-left: auto;
                margin-right: auto;
                left: 0;
                right: 0;
                max-width: fit-content;
            }
        }

        .toastify {
            font-family: sans-serif;
            border-radius: 8px;
        }

        .toastify-center {
            margin-left: auto;
            margin-right: auto;
            left: 0;
            right: 0;
            max-width: fit-content;
            max-width: -moz-fit-content;
        }
`,document.head.insertBefore(u,document.head.getElementsByTagName("style")[0])})();const l={text:i,duration:3e3,gravity:"bottom",position:"right",stopOnFocus:!0,...s};let a;return o instanceof Element&&o!==document.body?(a=o.id,a||(o.id=a="_croquetToastParent")):typeof o=="string"&&(a=o),a&&(l.selector=a),vg.default(l).showToast()}(e,{style:{background:`linear-gradient(90deg,${r})`},...t})},showMessage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.only==="once"){if(bh.has(e))return null;bh.add(e)}return t.level==="fatal"&&(t.level="error",t.showSyncWait="fatal"),t.showSyncWait&&(t.showSyncWait!=="fatal"||t.duration||(t.duration=-1),$.showSyncWait(t.showSyncWait)),D.nomessages||$.root===!1||$.messages===!1||!$.messageFunction?(t.level==="warning"&&console.warn(e),t.level==="error"&&console.error(e),null):$.messageFunction(e,t)},isCroquetHost:e=>e.endsWith("croquet.io")||["localhost","127.0.0.1","[::1]"].includes(e)||e.endsWith("ngrok.io"),referrerURL(){const e=new URL($.sessionURL),t=this.isCroquetHost(e.hostname);return`${e.protocol}//${e.host}${e.pathname}${t?e.search:""}`},autoSession(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{key:"q",force:!1,default:"",keyless:!1};typeof e=="string"&&(e={key:e}),e||(e={});const t=e.key||"q",n=new URL($.sessionURL);let r="";if(!e.force){const o=n.search.slice(1).split("&"),l=o.find(a=>a.split("=")[0]===t);l?r=l.replace(/[^=]*=/,""):e.keyless&&(r=o.find(a=>!a.includes("=")),r||(r=n.hash.slice(1),r&&(n.hash="",n.search?n.searchParams.set(t,r):n.search=r)))}if(r)try{r=decodeURIComponent(r)}catch{}else r=e.default?e.default:this.randomSession(),n.searchParams.set(t,r);const i=n.toString("");window.location.href!==i&&(window.history.replaceState({},"",i),$.sessionURL=i),D.has("debug","session")&&console.log(`Croquet.App.autoSession: "${r}"`);const s=Promise.resolve(r);return s[Symbol.toPrimitive]=()=>(console.warn("Deprecated: Croquet.App.autoSession() return value used directly. It returns a promise now!"),r),s},autoPassword(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{key:"pw",default:"",force:!1,scrub:!1,keyless:!1};typeof e=="string"&&(e={key:e});const t=e.key||"pw",n=e.scrub&&!D.has("debug","password"),r=e.keyless,i=new URL($.sessionURL);let s="";const o=e.force?"":i.hash.slice(1);if(o){const a=o.split("&"),u=a.find(c=>c.split("=")[0]===t);u?(s=u.replace(/[^=]*=/,""),s&&n&&(i.hash=a.filter(c=>c.split("=")[0]!==t).join("&"))):r&&(s=a.find(c=>!c.includes("=")),s&&n&&(i.hash=a.filter(c=>c!==s).join("&")))}if(s||(s=e.default?e.default:this.randomPassword(),i.hash=o?`${o}&${t}=${s}`:r?s:`${t}=${s}`,$.sessionURL=i.href,n&&(i.hash=r?"":o)),D.has("debug","session")&&console.log(`Croquet.App.sessionUrl: ${$.sessionURL}`),window.location.href!==i.href&&window.history.replaceState({},"",i.href),s)try{s=decodeURIComponent(s)}catch{}D.has("debug","session")&&console.log(`Croquet.App.autoPassword: "${s}"`);const l=Promise.resolve(s);return l[Symbol.toPrimitive]=()=>(console.warn("Deprecated: Croquet.App.autoPassword() return value used directly. It returns a promise now!"),s),l},randomSession(){return wh(arguments.length>0&&arguments[0]!==void 0?arguments[0]:10)},randomPassword(){return wh(arguments.length>0&&arguments[0]!==void 0?arguments[0]:16)}},ma="#__vote";function Zh(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r="none";for(const i of["immediate","queued","oncePerFrame","oncePerFrameWhileSynced"])for(const s of e[i])s.for===t?n===null||s.unbound===n?e[i].delete(s):r="subscriber":r==="none"&&(r="others");return r}const Ve=globalThis.CROQUETVD=new class{constructor(){this.subscriptions={},this.subscribers=new Map,this.genericSubscriptions=!1,this.queuedEvents=[],this.perFrameEvents=new Map,this.perSyncedFrameEvents=new Map,this.subscriberIds=0,this.currentEvent=void 0,this.currentEventFromModel=!1}register(e){return"V"+ ++this.subscriberIds}deregister(e){}addSubscription(e,t,n,r,i){if(e.includes(":"))throw Error(`Invalid subscription scope "${e}" (must not contain ':')`);if(i==="vote")return void this.addSubscription(e,t+ma,n,r,"immediate");e!=="*"&&t!=="*"||(this.genericSubscriptions=!0);const s=e+":"+t,o=r;o.for=n;let l=this.subscriptions[s];if(l||(l=this.subscriptions[s]={immediate:new Set,queued:new Set,oncePerFrame:new Set,oncePerFrameWhileSynced:new Set}),!l[i])throw Error(`Unknown subscribe() option: handling="${i}"`);l[i].add(o);let a=this.subscribers.get(n);a||this.subscribers.set(n,a=new Set),a.add(s)}removeSubscription(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;const i=e+":"+t,s=this.subscriptions[i];if(s){const o=Zh(s,n,r);if(o==="none"&&delete this.subscriptions[i],o!=="subscriber"){const l=this.subscribers.get(n);l.delete(i),l.size===0&&this.subscribers.delete(n)}}t.endsWith(ma)||this.removeSubscription(e,t+ma,n)}removeAllSubscriptionsFor(e){const t=this.subscribers.get(e);if(t){for(const n of t){const r=this.subscriptions[n];r?Zh(r,e)==="none"&&delete this.subscriptions[n]:console.error(`Croquet: topic ${n} not found in subscriptions table for ${e} during removeAllSubscriptionsFor()`)}this.subscribers.delete(e)}}subscriptionsFor(e){const t=this.subscriptions[e];if(!t&&!this.genericSubscriptions)return null;const n=[];let r=!!t;if(this.genericSubscriptions){const[i,s]=e.split(":");if(!(i.startsWith("__")&&i.endsWith("__")||s.startsWith("__")&&s.endsWith("__")))for(const l of["*:*",i+":*","*:"+s]){const a=this.subscriptions[l];a&&(n.push([a,l]),!r&&this.hasUserSubcription(a)&&(r=!0))}const o=!r;if(o)for(const l of n)l.push(o)}return t&&n.push([t,e]),n.length===0?null:n}hasUserSubcription(e){for(const t of["immediate","queued","oncePerFrame","oncePerFrameWhileSynced"])for(const n of e[t])if(!n.unbound.__CROQUET__)return!0;return!1}handleEvent(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const r=this.subscriptionsFor(e);if(!r)return;const i=!!n;let s=0,o=0,l=0;for(const[a,u,c]of r)s+=a.queued.size,o+=a.oncePerFrame.size,l+=a.oncePerFrameWhileSynced.size,a.immediate.size>0&&(n||(n=S=>S()),n(()=>{for(const S of a.immediate){const b=this.currentEvent,g=this.currentEventFromModel,X=this.currentEventOnlyGeneric;this.currentEvent=e,this.currentEventFromModel=i,this.currentEventOnlyGeneric=c;try{S(t)}catch(C){console.error(C),console.warn(`Croquet: error "${C.message}" in "immediate" subscription ${u}`)}this.currentEvent=b,this.currentEventFromModel=g,this.currentEventOnlyGeneric=X}}));s>0&&this.queuedEvents.push({topic:e,data:t,fromModel:i}),o>0&&this.perFrameEvents.set(e,{data:t,fromModel:i}),l>0&&this.perSyncedFrameEvents.set(e,{data:t,fromModel:i})}processFrameEvents(e,t){let n=0;const r=(i,s,o,l)=>{const a=this.subscriptionsFor(s);if(!a)return;const u=this.currentEvent,c=this.currentEventFromModel;this.currentEvent=s,this.currentEventFromModel=l;for(const[S,b,g]of a){const X=this.currentEventOnlyGeneric;this.currentEventOnlyGeneric=g;for(const C of S[i]){try{C(o)}catch(y){console.error(y),console.warn(`Croquet: error "${y.message}" in "${i}" subscription ${s}`)}n++}this.currentEventOnlyGeneric=X}this.currentEvent=u,this.currentEventFromModel=c};for(const{topic:i,data:s,fromModel:o}of this.queuedEvents)r("queued",i,s,o);if(this.queuedEvents.length=0,e){for(const[i,{data:s,fromModel:o}]of this.perFrameEvents)r("oncePerFrame",i,s,o);if(this.perFrameEvents.clear(),t){for(const[i,{data:s,fromModel:o}]of this.perSyncedFrameEvents)r("oncePerFrameWhileSynced",i,s,o);this.perSyncedFrameEvents.clear()}for(const{topic:i,data:s,fromModel:o}of this.queuedEvents)r("queued",i,s,o);this.queuedEvents.length=0}return n}};let Kn={get subscribe(){return Kn={subscribe:D.has("debug","subscribe",!1)},Kn.subscribe}};class jc{constructor(t){this.vm=t}register(t){return this.vm.registerModel(t)}deregister(t){this.vm.deregisterModel(t.id)}publish(t,n,r){this.vm.publishFromModel(r,t,n)}subscribe(t,n,r,i){return Kn.subscribe&&console.log(`Model.subscribe("${n}:${r}", ${t} ${(""+i).replace(/\([\s\S]*/,"")})`),this.vm.addSubscription(t,n,r,i)}unsubscribe(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"*";Kn.subscribe&&console.log(`Model.unsubscribe(${n}:${r}", ${t} ${(""+i).replace(/\([\s\S]*/,"")})`),this.vm.removeSubscription(t,n,r,i)}unsubscribeAll(t){Kn.subscribe&&console.log(`Model.unsubscribeAll(${t} ${t.id})`),this.vm.removeAllSubscriptionsFor(t)}future(t,n,r,i){if(yt&&yt.equal(this))return this.vm.future(t,n,r,i);throw Error(`Model.future() called from outside: ${t}`)}cancelFuture(t,n){if(yt&&yt.equal(this))return this.vm.cancelFuture(t,n);throw Error(`Model.cancelFuture() called from outside: ${t}`)}random(){return this.vm.random()}now(){return this.vm.time}equal(t){return t instanceof jc&&t.vm===this.vm}isViewRealm(){return!1}}class Qc{constructor(t){this.vd=Ve,this.vm=t,this.controller=t.controller}valid(){return this.vm===this.controller.vm}register(t){return Ve.register(t)}deregister(t){Ve.deregister(t)}publish(t,n,r){this.vm.publishFromView(r,t,n)}subscribe(t,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"queued";Kn.subscribe&&console.log(`View.subscribe("${i}:${t}", ${n} ${r?r.name||(""+r).replace(/\([\s\S]*/,""):""+r} [${s}])`),Ve.addSubscription(i,t,n,r,s)}unsubscribe(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;Kn.subscribe&&console.log(`View.unsubscribe("${i}:${t}", ${n} ${r?r.name||(""+r).replace(/\([\s\S]*/,""):"*"})`),Ve.removeSubscription(i,t,n,r)}unsubscribeAll(t){Kn.subscribe&&console.log(`View.unsubscribeAll(${t})`),Ve.removeAllSubscriptionsFor(t)}future(t,n){const r=this.vm;return new Proxy(t,{get(i,s){if(typeof t[s]=="function")return new Proxy(t[s],{apply(o,l,a){setTimeout(()=>{t.id&&Gs(r,()=>t[s](...a),!0)},n)}});throw Error("Tried to call "+s+"() on future of "+Object.getPrototypeOf(t).constructor.name+" which is not a function")}})}random(){return Math.random()}now(){return this.vm.time}externalNow(){return this.controller.reflectorTime}extrapolatedNow(){return this.controller.extrapolatedTime}isSynced(){return!!this.controller.synced}equal(t){return t instanceof Qc&&t.vm===this.vm}isViewRealm(){return!0}}let yt=null;function fn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Tried to execute code that requires realm outside of realm.";if(!yt&&e)throw Error(e);return yt}function Ip(e,t){if(yt!==null)throw Error("Can't switch realms from inside realm");try{return yt=new jc(e),t()}finally{yt=null}}function Gs(e,t){if(yt!==null&&!(arguments.length>2&&arguments[2]!==void 0&&arguments[2]))throw Error("Can't switch realms from inside realm");const n=yt;try{return yt=new Qc(e),t()}finally{yt=n}}var Me=function(e){return e!=e},yi=Math.sqrt,Ps=.7853981633974483,Ig=function(e){var t,n;return e===0?.16666666666666713:((e<0?-e:e)<=1?(t=e*(19.562619833175948+e*(e*(5.444622390564711+e*(.004253011369004428*e-.6019598008014124))-16.262479672107002))-8.198089802484825,n=e*(139.51056146574857+e*(e*(70.49610280856842+e*(1*e-14.740913729888538))-147.1791292232726))-49.18853881490881):(t=.004253011369004428+(e=1/e)*(e*(5.444622390564711+e*(e*(19.562619833175948+-8.198089802484825*e)-16.262479672107002))-.6019598008014124),n=1+e*(e*(70.49610280856842+e*(e*(139.51056146574857+-49.18853881490881*e)-147.1791292232726))-14.740913729888538)),t/n)},_g=function(e){var t,n;return e===0?.08333333333333809:((e<0?-e:e)<=1?(t=28.536655482610616+e*(e*(6.968710824104713+e*(.002967721961301243*e-.5634242780008963))-25.56901049652825),n=342.43986579130785+e*(e*(147.0656354026815+e*(1*e-21.947795316429207))-383.8770957603691)):(t=.002967721961301243+(e=1/e)*(e*(6.968710824104713+e*(28.536655482610616*e-25.56901049652825))-.5634242780008963),n=1+e*(e*(147.0656354026815+e*(342.43986579130785*e-383.8770957603691))-21.947795316429207)),t/n)},Tu=function(e){var t,n,r,i,s;if(Me(e))return NaN;if(e>0?r=e:(t=!0,r=-e),r>1)return NaN;if(r>.625)i=(n=1-r)*_g(n),n=yi(n+n),s=Ps-n,s-=n=n*i-6123233995736766e-32,s+=Ps;else{if(r<1e-8)return e;s=r*(s=(n=r*r)*Ig(n))+r}return t?-s:s},Rg=function(e){var t;return Me(e)||e<-1||e>1?NaN:e>.5?2*Tu(yi(.5-.5*e)):(t=Ps-Tu(e),t+=6123233995736766e-32,t+=Ps)},Mg=function(){return typeof Symbol=="function"&&typeof Symbol("foo")=="symbol"}(),Eg=function(){return Mg&&typeof Symbol.toStringTag=="symbol"},Jo=Object.prototype.toString,Ng=function(e){return Jo.call(e)},zg=Object.prototype.hasOwnProperty,Vg=function(e,t){return e!=null&&zg.call(e,t)},_i=typeof Symbol=="function"?Symbol.toStringTag:"",Hg=function(e){var t,n,r;if(e==null)return Jo.call(e);n=e[_i],t=Vg(e,_i);try{e[_i]=void 0}catch{return Jo.call(e)}return r=Jo.call(e),t?e[_i]=n:delete e[_i],r},Fl=Eg()?Hg:Ng,Yg=typeof Uint32Array=="function",Kg=function(e){return Yg&&e instanceof Uint32Array||Fl(e)==="[object Uint32Array]"},ya=4294967295,xh=typeof Uint32Array=="function"?Uint32Array:null,Fg=function(){var e,t;if(typeof xh!="function")return!1;try{t=new xh(t=[1,3.14,-3.14,ya+1,ya+2]),e=Kg(t)&&t[0]===1&&t[1]===3&&t[2]===ya-2&&t[3]===0&&t[4]===1}catch{e=!1}return e},jg=typeof Uint32Array=="function"?Uint32Array:null,Qg=function(){throw new Error("not implemented")},Ci=Fg()?jg:Qg,Ug=typeof Float64Array=="function",Og=function(e){return Ug&&e instanceof Float64Array||Fl(e)==="[object Float64Array]"},Lh=typeof Float64Array=="function"?Float64Array:null,Dg=function(){var e,t;if(typeof Lh!="function")return!1;try{t=new Lh([1,3.14,-3.14,NaN]),e=Og(t)&&t[0]===1&&t[1]===3.14&&t[2]===-3.14&&t[3]!=t[3]}catch{e=!1}return e},Jg=typeof Float64Array=="function"?Float64Array:null,$g=function(){throw new Error("not implemented")},Ti=Dg()?Jg:$g,Bg=typeof Uint8Array=="function",Ag=function(e){return Bg&&e instanceof Uint8Array||Fl(e)==="[object Uint8Array]"},Xh=typeof Uint8Array=="function"?Uint8Array:null,qg=function(){var e,t;if(typeof Xh!="function")return!1;try{t=new Xh(t=[1,3.14,-3.14,256,257]),e=Ag(t)&&t[0]===1&&t[1]===3&&t[2]===253&&t[3]===0&&t[4]===1}catch{e=!1}return e},e2=typeof Uint8Array=="function"?Uint8Array:null,t2=function(){throw new Error("not implemented")},n2=qg()?e2:t2,r2=typeof Uint16Array=="function",i2=function(e){return r2&&e instanceof Uint16Array||Fl(e)==="[object Uint16Array]"},kh=typeof Uint16Array=="function"?Uint16Array:null,s2=function(){var e,t;if(typeof kh!="function")return!1;try{t=new kh(t=[1,3.14,-3.14,65536,65537]),e=i2(t)&&t[0]===1&&t[1]===3&&t[2]===65533&&t[3]===0&&t[4]===1}catch{e=!1}return e},o2=typeof Uint16Array=="function"?Uint16Array:null,_p,l2=function(){throw new Error("not implemented")},Rp={uint16:s2()?o2:l2,uint8:n2};(_p=new Rp.uint16(1))[0]=4660;var Gi=new Rp.uint8(_p.buffer)[0]===52,a2=Gi===!0?1:0,Mp=new Ti(1),u2=new Ci(Mp.buffer),de=function(e){return Mp[0]=e,u2[a2]},c2=Gi===!0?1:0,Gu=new Ti(1),d2=new Ci(Gu.buffer),h2=function(e,t){return Gu[0]=e,d2[c2]=t>>>0,Gu[0]},qt=h2,Kt=Number.POSITIVE_INFINITY,jt=Number.NEGATIVE_INFINITY,tr=1023,f2=function(e){return e===0?.6666666666666735:.6666666666666735+e*(.3999999999940942+e*(.2857142874366239+e*(.22222198432149784+e*(.1818357216161805+e*(.15313837699209373+.14798198605116586*e)))))},ga=.6931471803691238,va=19082149292705877e-26,Ws=function(e){var t,n,r,i,s,o,l,a,u,c;if(e<-1||Me(e))return NaN;if(e===-1)return jt;if(e===Kt||e===0)return e;if(c=1,(r=e<0?-e:e)<.41421356237309503){if(r<1862645149230957e-24)return r<5551115123125783e-32?e:e-e*e*.5;e>-.2928932188134525&&(c=0,i=e,n=1)}return c!==0&&(r<9007199254740992?(s=(c=((n=de(u=1+e))>>20)-tr)>0?1-(u-e):e-(u-1),s/=u):(c=((n=de(u=e))>>20)-tr,s=0),(n&=1048575)<434334?u=qt(u,1072693248|n):(c+=1,u=qt(u,1071644672|n),n=1048576-n>>2),i=u-1),t=.5*i*i,n===0?i===0?c*ga+(s+=c*va):c*ga-((a=t*(1-.6666666666666666*i))-(c*va+s)-i):(a=(l=(o=i/(2+i))*o)*f2(l),c===0?i-(t-o*(t+a)):c*ga-(t-(o*(t+a)+(c*va+s))-i))},jl=.6931471805599453,p2=function(e){return e===0?.3999999999940942:.3999999999940942+e*(.22222198432149784+.15313837699209373*e)},m2=function(e){return e===0?.6666666666666735:.6666666666666735+e*(.2857142874366239+e*(.1818357216161805+.14798198605116586*e))},uo=.6931471803691238,co=19082149292705877e-26,Ch=1048575,Is=function(e){var t,n,r,i,s,o,l,a,u,c,S;return e===0?jt:Me(e)||e<0?NaN:(i=0,(n=de(e))<1048576&&(i-=54,n=de(e*=0x40000000000000)),n>=2146435072?e+e:(i+=(n>>20)-tr|0,i+=(l=(n&=Ch)+614244&1048576)>>20,o=(e=qt(e,n|1072693248^l))-1,(Ch&2+n)<3?o===0?i===0?0:i*uo+i*co:(s=o*o*(.5-.3333333333333333*o),i===0?o-s:i*uo-(s-i*co-o)):(l=n-398458|0,a=440401-n|0,r=(c=(S=(u=o/(2+o))*u)*S)*p2(c),s=S*m2(c)+r,(l|=a)>0?(t=.5*o*o,i===0?o-(t-u*(t+s)):i*uo-(t-(u*(t+s)+i*co)-o)):i===0?o-u*(o-s):i*uo-(u*(o-s)-i*co-o))))},y2=function(e){var t;return Me(e)||e<1?NaN:e===1?0:e>=268435456?Is(e)+jl:e>2?Is(2*e-1/(e+yi(e*e-1))):Ws((t=e-1)+yi(2*t+t*t))},zn=function(e){return e===Kt||e===jt},g2=1/(1<<28),v2=function(e){var t,n,r;return Me(e)||zn(e)?e:(e<0&&(e=-e,t=!0),r=e<g2?e:e>268435456?Is(e)+jl:e>2?Is(2*e+1/(yi(e*e+1)+e)):Ws(e+(n=e*e)/(1+yi(1+n))),t?-r:r)},wa=1.5707963267948966,w2=function(e){return e===0?-64.85021904942025:e*(e*(e*(-.8750608600031904*e-16.157537187333652)-75.00855792314705)-122.88666844901361)-64.85021904942025},b2=function(e){return e===0?194.5506571482614:194.5506571482614+e*(485.3903996359137+e*(432.88106049129027+e*(165.02700983169885+e*(24.858464901423062+1*e))))},Th=6123233995736766e-32,Ep=function(e){var t,n,r,i;return Me(e)||e===0?e:e===Kt?wa:e===jt?-wa:(e<0&&(n=!0,e=-e),t=0,e>2.414213562373095?(r=wa,t=1,e=-1/e):e<=.66?r=0:(r=Ps,t=2,e=(e-1)/(e+1)),i=e*(i=(i=e*e)*w2(i)/b2(i))+e,t===2?i+=.5*Th:t===1&&(i+=Th),r+=i,n?-r:r)},S2=1/(1<<28),Pu,Wu,Z2=function(e){var t,n;return Me(e)||e<-1||e>1?NaN:e===1?Kt:e===-1?jt:(e<0&&(t=!0,e=-e),e<S2?t?-e:e:(n=e<.5?.5*Ws((n=e+e)+n*e/(1-e)):.5*Ws((e+e)/(1-e)),t?-n:n))};Gi===!0?(Pu=1,Wu=0):(Pu=0,Wu=1);var Np={HIGH:Pu,LOW:Wu},zp=new Ti(1),Gh=new Ci(zp.buffer),x2=Np.HIGH,L2=Np.LOW,Ph=function(e,t){return zp[0]=t,e[0]=Gh[x2],e[1]=Gh[L2],e},Iu,_u,Uc=function(e,t){return arguments.length===1?Ph([0,0],e):Ph(e,t)};Gi===!0?(Iu=1,_u=0):(Iu=0,_u=1);var Vp={HIGH:Iu,LOW:_u},Hp=new Ti(1),Wh=new Ci(Hp.buffer),X2=Vp.HIGH,k2=Vp.LOW,C2=function(e,t){return Wh[X2]=e,Wh[k2]=t,Hp[0]},_s=C2,ba=[0,0],un=function(e,t){var n,r;return Uc(ba,e),n=ba[0],n&=2147483647,r=de(t),_s(n|=r&=2147483648,ba[1])},T2=function(e){return!!(de(e)>>>31)},Xn=3.141592653589793,G2=function(e,t){var n;return Me(t)||Me(e)?NaN:zn(t)?t===Kt?zn(e)?un(Xn/4,e):un(0,e):zn(e)?un(3*Xn/4,e):un(Xn,e):zn(e)?un(Xn/2,e):e===0?t>=0&&!T2(t)?un(0,e):un(Xn,e):t===0?un(Xn/2,e):(n=Ep(e/t),t<0?n<=0?n+Xn:n-Xn:n)},Yp=22250738585072014e-324,P2=function(e){return e===0?1.87595182427177:1.87595182427177+e*(e*(1.6214297201053545+e*(.14599619288661245*e-.758397934778766))-1.8849797954337717)},Ih=2147483647,W2=function(e){var t,n,r,i,s;return Me(e)||zn(e)||e===0?e:(n=-2147483648&(r=de(e)),r&=Ih,s=0,e<Yp?(s=0x40000000000000,t=de(s*=e),s=_s(n|(t=(t&Ih)/3+696219795),0)):s=qt(s,n|(t=r/3+715094163)),s*=P2(i=s*s*(s/e)),t=de(s),s=_s(t+1,0),s+=s*(i=((i=e/(s*s))-s)/(s+s+i)))},I2=W2,_2=function(e){return e===0?.0416666666666666:.0416666666666666+e*(2480158728947673e-20*e-.001388888888887411)},R2=function(e){return e===0?-27557314351390663e-23:e*(2087572321298175e-24+-11359647557788195e-27*e)-27557314351390663e-23},os=function(e,t){var n,r,i,s;return i=(s=e*e)*s,r=s*_2(s),r+=i*i*R2(s),(i=1-(n=.5*s))+(1-i-n+(s*r-e*t))},_h=-.16666666666666632,ls=function(e,t){var n,r,i;return n=.00833333333332249+(i=e*e)*(27557313707070068e-22*i-.0001984126982985795)+i*(i*i)*(158969099521155e-24*i-25050760253406863e-24),r=i*e,t===0?e+r*(_h+i*n):e-(i*(.5*t-r*n)-t-r*_h)},M2=Gi===!0?0:1,Kp=new Ti(1),E2=new Ci(Kp.buffer),N2=function(e){return Kp[0]=e,E2[M2]},Fp=Math.floor,Oc=function(e){return e<0?-e:e===0?0:e},Rh=function(e,t){return Me(t)||zn(t)?(e[0]=t,e[1]=0,e):t!==0&&Oc(t)<Yp?(e[0]=4503599627370496*t,e[1]=-52,e):(e[0]=t,e[1]=0,e)},z2=function(e,t){return arguments.length===1?Rh([0,0],e):Rh(e,t)},V2=function(e){var t=de(e);return(t=(2146435072&t)>>>20)-tr|0},H2=V2,Sa=[0,0],Za=[0,0],Y2=function(e,t){var n,r;return e===0||Me(e)||zn(e)?e:(z2(Sa,e),t+=Sa[1],(t+=H2(e=Sa[0]))<-1074?un(0,e):t>1023?e<0?jt:Kt:(t<=-1023?(t+=52,r=2220446049250313e-31):r=1,Uc(Za,e),n=Za[0],n&=2148532223,r*_s(n|=t+tr<<20,Za[1])))},Ai=Y2,jp=[10680707,7228996,1387004,2578385,16069853,12639074,9804092,4427841,16666979,11263675,12935607,2387514,4345298,14681673,3074569,13734428,16653803,1880361,10960616,8533493,3062596,8710556,7349940,6258241,3772886,3769171,3798172,8675211,12450088,3874808,9961438,366607,15675153,9132554,7151469,3571407,2607881,12013382,4155038,6285869,7677882,13102053,15825725,473591,9065106,15363067,6271263,9264392,5636912,4652155,7056368,13614112,10155062,1944035,9527646,15080200,6658437,6231200,6832269,16767104,5075751,3212806,1398474,7579849,6349435,12618859],K2=[1.570796251296997,7549789415861596e-23,5390302529957765e-30,3282003415807913e-37,1270655753080676e-44,12293330898111133e-52,27337005381646456e-60,21674168387780482e-67],xa=16777216,La=5960464477539063e-23,Xa=Ql(new Array(20)),Mh=Ql(new Array(20)),ho=Ql(new Array(20)),Ee=Ql(new Array(20));function Ql(e){var t,n=e.length;for(t=0;t<n;t++)e[t]=0;return e}function Qp(e,t,n,r,i,s,o,l,a){var u,c,S,b,g,X,C,y,p;for(b=s,p=r[n],y=n,g=0;y>0;g++)c=La*p|0,Ee[g]=p-xa*c|0,p=r[y-1]+c,y-=1;if(p=Ai(p,i),p-=8*Fp(.125*p),p-=C=0|p,S=0,i>0?(C+=g=Ee[n-1]>>24-i,Ee[n-1]-=g<<24-i,S=Ee[n-1]>>23-i):i===0?S=Ee[n-1]>>23:p>=.5&&(S=2),S>0){for(C+=1,u=0,g=0;g<n;g++)y=Ee[g],u===0?y!==0&&(u=1,Ee[g]=16777216-y):Ee[g]=16777215-y;if(i>0)switch(i){case 1:Ee[n-1]&=8388607;break;case 2:Ee[n-1]&=4194303}S===2&&(p=1-p,u!==0&&(p-=Ai(1,i)))}if(p===0){for(y=0,g=n-1;g>=s;g--)y|=Ee[g];if(y===0){for(X=1;Ee[s-X]===0;X++);for(g=n+1;g<=n+X;g++){for(a[l+g]=jp[o+g],c=0,y=0;y<=l;y++)c+=e[y]*a[l+(g-y)];r[g]=c}return Qp(e,t,n+=X,r,i,s,o,l,a)}}if(p===0)for(n-=1,i-=24;Ee[n]===0;)n-=1,i-=24;else(p=Ai(p,-i))>=xa?(c=La*p|0,Ee[n]=p-xa*c|0,i+=24,Ee[n+=1]=c):Ee[n]=0|p;for(c=Ai(1,i),g=n;g>=0;g--)r[g]=c*Ee[g],c*=La;for(g=n;g>=0;g--){for(c=0,X=0;X<=b&&X<=n-g;X++)c+=K2[X]*r[g+X];ho[n-g]=c}for(c=0,g=n;g>=0;g--)c+=ho[g];for(t[0]=S===0?c:-c,c=ho[0]-c,g=1;g<=n;g++)c+=ho[g];return t[1]=S===0?c:-c,7&C}var F2=function(e,t,n,r){var i,s,o,l,a,u,c;for((s=(n-3)/24|0)<0&&(s=0),l=n-24*(s+1),u=s-(o=r-1),c=o+4,a=0;a<=c;a++)Xa[a]=u<0?0:jp[u],u+=1;for(a=0;a<=4;a++){for(i=0,u=0;u<=o;u++)i+=e[u]*Xa[o+(a-u)];Mh[a]=i}return Qp(e,t,4,Mh,l,4,s,o,Xa)},j2=Math.round,fo=function(e,t,n){var r,i,s,o,l;return s=e-1.5707963267341256*(r=j2(.6366197723675814*e)),o=6077100506506192e-26*r,l=t>>20,n[0]=s-o,l-(de(n[0])>>20&2047)>16&&(o=20222662487959506e-37*r-((i=s)-(s=i-(o=6077100506303966e-26*r))-o),n[0]=s-o,l-(de(n[0])>>20&2047)>49&&(o=84784276603689e-45*r-((i=s)-(s=i-(o=20222662487111665e-37*r))-o),n[0]=s-o)),n[1]=s-n[0]-o,r},kn=1.5707963267341256,yr=6077100506506192e-26,po=2*yr,mo=3*yr,yo=4*yr,Ri=new Array(3),Mi=new Array(2),Q2=function(e,t){var n,r,i,s,o,l,a;if((i=2147483647&de(e))<=1072243195)return t[0]=e,t[1]=0,0;if(i<=1074752122)return(1048575&i)==598523?fo(e,i,t):i<=1073928572?e>0?(a=e-kn,t[0]=a-yr,t[1]=a-t[0]-yr,1):(a=e+kn,t[0]=a+yr,t[1]=a-t[0]+yr,-1):e>0?(a=e-2*kn,t[0]=a-po,t[1]=a-t[0]-po,2):(a=e+2*kn,t[0]=a+po,t[1]=a-t[0]+po,-2);if(i<=1075594811)return i<=1075183036?i===1074977148?fo(e,i,t):e>0?(a=e-3*kn,t[0]=a-mo,t[1]=a-t[0]-mo,3):(a=e+3*kn,t[0]=a+mo,t[1]=a-t[0]+mo,-3):i===1075388923?fo(e,i,t):e>0?(a=e-4*kn,t[0]=a-yo,t[1]=a-t[0]-yo,4):(a=e+4*kn,t[0]=a+yo,t[1]=a-t[0]+yo,-4);if(i<1094263291)return fo(e,i,t);if(i>=2146435072)return t[0]=NaN,t[1]=NaN,0;for(n=N2(e),a=_s(i-((r=(i>>20)-1046)<<20),n),o=0;o<2;o++)Ri[o]=0|a,a=16777216*(a-Ri[o]);for(Ri[2]=a,s=3;Ri[s-1]===0;)s-=1;return l=F2(Ri,Mi,r,s),e<0?(t[0]=-Mi[0],t[1]=-Mi[1],-l):(t[0]=Mi[0],t[1]=Mi[1],l)},Dc=Q2,rn=[0,0],U2=function(e){var t;if(t=de(e),(t&=2147483647)<=1072243195)return t<1044381696?1:os(e,0);if(t>=2146435072)return NaN;switch(3&Dc(e,rn)){case 0:return os(rn[0],rn[1]);case 1:return-ls(rn[0],rn[1]);case 2:return-os(rn[0],rn[1]);default:return ls(rn[0],rn[1])}},O2=Math.ceil,D2=function(e){return e<0?O2(e):Fp(e)},J2=function(e){return e===0?.16666666666666602:.16666666666666602+e*(e*(6613756321437934e-20+e*(41381367970572385e-24*e-16533902205465252e-22))-.0027777777777015593)},$2=function(e,t,n){var r,i,s;return s=(r=e-t)-(i=r*r)*J2(i),Ai(1-(t-r*s/(2-s)-e),n)},Eh=1.4426950408889634,Up=1/(1<<28),B2=-Up,Zr=function(e){var t;return Me(e)||e===Kt?e:e===jt?0:e>709.782712893384?Kt:e<-745.1332191019411?0:e>B2&&e<Up?1+e:(t=D2(e<0?Eh*e-.5:Eh*e+.5),$2(e-.6931471803691238*t,19082149292705877e-26*t,t))},A2=function(e){return Me(e)?e:(e<0&&(e=-e),e>21?Zr(e)/2:(Zr(e)+Zr(-e))/2)},q2=function(e){return e===0?-.03333333333333313:e*(.0015873015872548146+e*(e*(4008217827329362e-21+-20109921818362437e-23*e)-793650757867488e-19))-.03333333333333313},ka=.6931471803691238,Ca=19082149292705877e-26,Nh=1.4426950408889634,ev=function(e){var t,n,r,i,s,o,l,a,u,c,S,b;if(e===Kt||Me(e))return e;if(e===jt)return-1;if(e===0)return e;if(e<0?(n=!0,l=-e):(n=!1,l=e),l>=38.816242111356935){if(n)return-1;if(l>=709.782712893384)return Kt}if(s=0|de(l),l>.34657359027997264)l<1.0397207708399179?n?(r=e+ka,i=-Ca,b=-1):(r=e-ka,i=Ca,b=1):(b=n?Nh*e-.5:Nh*e+.5,r=e-(c=b|=0)*ka,i=c*Ca),u=r-(e=r-i)-i;else{if(s<1016070144)return e;b=0}return S=(a=e*(t=.5*e))*(((o=1+a*q2(a))-(c=3-o*t))/(6-e*c)),b===0?e-(e*S-a):(S=e*(S-u)-u,S-=a,b===-1?.5*(e-S)-.5:b===1?e<-.25?-2*(S-(e+.5)):1+2*(e-S):b<=-2||b>56?(r=de(l=1-(S-e))+(b<<20)|0,(l=qt(l,r))-1):(c=1,b<20?l=(c=qt(c,r=1072693248-(2097152>>b)|0))-(S-e):(l=e-(S+(c=qt(c,r=tr-b<<20))),l+=1),r=de(l)+(b<<20)|0,qt(l,r)))},tv=Gi===!0?0:1,Ru=new Ti(1),nv=new Ci(Ru.buffer),rv=function(e,t){return Ru[0]=e,nv[tv]=t>>>0,Ru[0]},ul=rv,iv=function(e){return e===0?.3999999999940942:.3999999999940942+e*(.22222198432149784+.15313837699209373*e)},sv=function(e){return e===0?.6666666666666735:.6666666666666735+e*(.2857142874366239+e*(.1818357216161805+.14798198605116586*e))},zh=1048575,ov=function(e){var t,n,r,i,s,o,l,a,u,c;return r=de(e),i=e-1,(zh&2+r)<3?i===0?0:i*i*(.3333333333333333*i-.5):(u=(r&=zh)-398458|0,c=440401-r|0,n=(a=(o=(s=i/(2+i))*s)*o)*iv(a),l=o*sv(a)+n,(u|=c)>0?s*((t=.5*i*i)+l)-t:s*(l-i))},Vh=.4342944818781689,lv=function(e){var t,n,r,i,s,o,l;return Me(e)||e<0?NaN:e===0?jt:(s=0,(n=de(e))<1048576&&(s-=54,n=de(e*=0x40000000000000)),n>=2146435072?e+e:(s+=(n>>20)-tr|0,e=qt(e,(n&=1048575)|1072693248^(i=n+614244&1048576)),o=s+=i>>20,r=ov(e),l=3694239077158931e-28*o+25082946711645275e-27*((e-=1)+r),(l+=(e-(t=ul(e,0))+r)*Vh+t*Vh)+.30102999566361177*o))},av=function(e){return e===0?.3999999999940942:.3999999999940942+e*(.22222198432149784+.15313837699209373*e)},uv=function(e){return e===0?.6666666666666735:.6666666666666735+e*(.2857142874366239+e*(.1818357216161805+.14798198605116586*e))},Hh=1048575,cv=function(e){var t,n,r,i,s,o,l,a,u,c;return r=de(e),i=e-1,(Hh&2+r)<3?i===0?0:i*i*(.3333333333333333*i-.5):(u=(r&=Hh)-398458|0,c=440401-r|0,n=(a=(o=(s=i/(2+i))*s)*o)*av(a),l=o*uv(a)+n,(u|=c)>0?s*((t=.5*i*i)+l)-t:s*(l-i))},Yh=1.4426950407214463,Ta=[0,0],dv=function(e){var t,n,r,i,s;if(Me(e)||e<0)return NaN;if(Uc(Ta,e),s=0,(n=Ta[0])<1048576){if(!(2147483647&n|Ta[1]))return jt;s-=54,n=de(e*=0x40000000000000)}return n>=2146435072?e+e:(s+=(n>>20)-tr|0,e=qt(e,(n&=1048575)|1072693248^(i=n+614244&1048576)),s+=i>>20,r=cv(e),16751713164886512e-26*((e-=1)+r)+(e-(t=ul(e,0))+r)*Yh+t*Yh+s)},sn=[0,0],hv=function(e){var t;if(t=de(e),(t&=2147483647)<=1072243195)return t<1045430272?e:ls(e,0);if(t>=2146435072)return NaN;switch(3&Dc(e,sn)){case 0:return ls(sn[0],sn[1]);case 1:return os(sn[0],sn[1]);case 2:return-ls(sn[0],sn[1]);default:return-os(sn[0],sn[1])}},fv=function(e){var t,n;return e===0?.16666666666666666:((e<0?-e:e)<=1?(t=e*(e*(-.789474443963537*e-163.72585752598383)-11561.443576500522)-351754.9648081514,n=e*(36157.827983443196+e*(1*e-277.7110814206028))-2.1105297888489086e6):(t=(e=1/e)*(e*(-351754.9648081514*e-11561.443576500522)-163.72585752598383)-.789474443963537,n=1+e*(e*(36157.827983443196+-2.1105297888489086e6*e)-277.7110814206028)),t/n)},Op=709.782712893384,pv=Op+jl,mv=Op-jl,yv=function(e){var t;return e===0?e:(t=Oc(e),e>pv||e<-709.089565712824?e>0?Kt:jt:t>1?t>=mv?(t=Zr(.5*t),t*=.5*t,e<0&&(t=-t),t):(t=.5*(t=Zr(t))-.5/t,e<0&&(t=-t),t):e+e*(t*=t)*fv(t))},gv=function(e){return e===0?.13333333333320124:.13333333333320124+e*(.021869488294859542+e*(.0035920791075913124+e*(.0005880412408202641+e*(7817944429395571e-20+-18558637485527546e-21*e))))},vv=function(e){return e===0?.05396825397622605:.05396825397622605+e*(.0088632398235993+e*(.0014562094543252903+e*(.0002464631348184699+e*(7140724913826082e-20+2590730518636337e-20*e))))},Kh=function(e,t,n){var r,i,s,o,l,a,u,c,S;return(i=2147483647&(r=de(e)))>=1072010280&&(e<0&&(e=-e,t=-t),e=(S=.7853981633974483-e)+(c=3061616997868383e-32-t),t=0),o=t+(S=e*e)*((l=S*e)*((o=gv(c=S*S))+(u=S*vv(c)))+t),c=e+(o+=.3333333333333341*l),i>=1072010280?(1-(r>>30&2))*((u=n)-2*(e-(c*c/(c+u)-o))):n===1?c:(ul(S=c,0),u=o-(S-e),ul(a=s=-1/c,0),a+s*((l=1+a*S)+a*u))},Ga=[0,0],wv=function(e){var t,n;return t=de(e),(t&=2147483647)<=1072243195?t<1044381696?e:Kh(e,0,1):t>=2146435072?NaN:(n=Dc(e,Ga),Kh(Ga[0],Ga[1],1-((1&n)<<1)))},bv=function(e){var t,n;return e===0?-.3333333333333332:((e<0?-e:e)<=1?(t=e*(e*(0*e-.9643991794250523)-99.28772310019185)-1614.6876844170845,n=4844.063053251255+e*(2235.4883906010045+e*(112.81167849163293+1*e))):(t=0+(e=1/e)*(e*(-1614.6876844170845*e-99.28772310019185)-.9643991794250523),n=1+e*(112.81167849163293+e*(2235.4883906010045+4844.063053251255*e))),t/n)},Sv=function(e){var t,n;if((n=Oc(e))>44.014845965556525)return e<0?-1:1;if(n>=.625)n=1-2/((t=Zr(2*n))+1),e<0&&(n=-n);else{if(e===0)return e;n=e+e*(t=e*e)*bv(t)}return n};globalThis.CroquetMath===void 0&&(globalThis.CroquetMath={}),Object.assign(globalThis.CroquetMath,{acos:Rg,acosh:y2,asin:Tu,asinh:v2,atan:Ep,atanh:Z2,atan2:G2,cbrt:I2,cos:U2,cosh:A2,exp:Zr,expm1:ev,log:Is,log1p:Ws,log10:lv,log2:dv,sin:hv,sinh:yv,tan:wv,tanh:Sv});const Pa=Math.pow;function Fh(e){return e===1/0||e===-1/0}globalThis.CroquetMath.pow=(e,t)=>{if(isNaN(e)||isNaN(t))return NaN;if(Fh(e)||Fh(t)||e===0||t===0)return Pa(e,t);if(e<0&&!function(r){return Number.isInteger(r)}(t))return NaN;if(t===1)return e;if(t===2)return e*e;if(t===3)return e*e*e;if(t===4)return e*e*e*e;let n=1;return e<0&&(e*=-1,n=Pa(-1,t)),globalThis.CroquetMath.exp(globalThis.CroquetMath.log(e)*t)*n};let Zv=class extends wg.default{poll(){const t=super.poll();return this.array[this.size]=null,t}asArray(){const t=[];return this.forEach(n=>t.push(n)),t}asUnsortedArray(){return this.array.slice(0,this.size)}};var jh,Qh={exports:{}};function Dp(){return jh||(jh=1,Qh.exports=function(e){return function(){var t=e,n=t.lib.WordArray;function r(i,s,o){for(var l=[],a=0,u=0;u<s;u++)if(u%4){var c=o[i.charCodeAt(u-1)]<<u%4*2|o[i.charCodeAt(u)]>>>6-u%4*2;l[a>>>2]|=c<<24-a%4*8,a++}return n.create(l,a)}t.enc.Base64={stringify:function(i){var s=i.words,o=i.sigBytes,l=this._map;i.clamp();for(var a=[],u=0;u<o;u+=3)for(var c=(s[u>>>2]>>>24-u%4*8&255)<<16|(s[u+1>>>2]>>>24-(u+1)%4*8&255)<<8|s[u+2>>>2]>>>24-(u+2)%4*8&255,S=0;S<4&&u+.75*S<o;S++)a.push(l.charAt(c>>>6*(3-S)&63));var b=l.charAt(64);if(b)for(;a.length%4;)a.push(b);return a.join("")},parse:function(i){var s=i.length,o=this._map,l=this._reverseMap;if(!l){l=this._reverseMap=[];for(var a=0;a<o.length;a++)l[o.charCodeAt(a)]=a}var u=o.charAt(64);if(u){var c=i.indexOf(u);c!==-1&&(s=c)}return r(i,s,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(Wt())),Qh.exports}var Uh,dt=ir(Dp()),Oh={exports:{}},Dh,xv=(Uh||(Uh=1,Oh.exports=function(e){return e.enc.Utf8}(Wt())),Oh.exports),Lv=ir(xv),Jh={exports:{}},$h={exports:{}};function Jc(){return Dh||(Dh=1,$h.exports=function(e){(function(){var t=e,n=t.lib.Base,r=t.enc.Utf8;t.algo.HMAC=n.extend({init:function(i,s){i=this._hasher=new i.init,typeof s=="string"&&(s=r.parse(s));var o=i.blockSize,l=4*o;s.sigBytes>l&&(s=i.finalize(s)),s.clamp();for(var a=this._oKey=s.clone(),u=this._iKey=s.clone(),c=a.words,S=u.words,b=0;b<o;b++)c[b]^=1549556828,S[b]^=909522486;a.sigBytes=u.sigBytes=l,this.reset()},reset:function(){var i=this._hasher;i.reset(),i.update(this._iKey)},update:function(i){return this._hasher.update(i),this},finalize:function(i){var s=this._hasher,o=s.finalize(i);return s.reset(),s.finalize(this._oKey.clone().concat(o))}})})()}(Wt())),$h.exports}var Bh,Ah,Xv=(Bh||(Bh=1,Jh.exports=function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,s=t.algo,o=s.SHA256,l=s.HMAC,a=s.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:o,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,c){for(var S=this.cfg,b=l.create(S.hasher,u),g=i.create(),X=i.create([1]),C=g.words,y=X.words,p=S.keySize,f=S.iterations;C.length<p;){var x=b.update(c).finalize(X);b.reset();for(var L=x.words,w=L.length,h=x,m=1;m<f;m++){h=b.finalize(h),b.reset();for(var d=h.words,v=0;v<w;v++)L[v]^=d[v]}g.concat(x),y[0]++}return g.sigBytes=4*p,g}});t.PBKDF2=function(u,c,S){return a.create(S).compute(u,c)}}(),e.PBKDF2}(Wt(),Yc(),Jc())),Jh.exports),qh=ir(Xv),ef={exports:{}},tf={exports:{}};function kv(){return Ah||(Ah=1,tf.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.algo,l=[];(function(){for(var g=0;g<64;g++)l[g]=4294967296*t.abs(t.sin(g+1))|0})();var a=o.MD5=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,X){for(var C=0;C<16;C++){var y=X+C,p=g[y];g[y]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)}var f=this._hash.words,x=g[X+0],L=g[X+1],w=g[X+2],h=g[X+3],m=g[X+4],d=g[X+5],v=g[X+6],Z=g[X+7],T=g[X+8],P=g[X+9],N=g[X+10],F=g[X+11],z=g[X+12],Y=g[X+13],J=g[X+14],_=g[X+15],G=f[0],I=f[1],E=f[2],M=f[3];G=u(G,I,E,M,x,7,l[0]),M=u(M,G,I,E,L,12,l[1]),E=u(E,M,G,I,w,17,l[2]),I=u(I,E,M,G,h,22,l[3]),G=u(G,I,E,M,m,7,l[4]),M=u(M,G,I,E,d,12,l[5]),E=u(E,M,G,I,v,17,l[6]),I=u(I,E,M,G,Z,22,l[7]),G=u(G,I,E,M,T,7,l[8]),M=u(M,G,I,E,P,12,l[9]),E=u(E,M,G,I,N,17,l[10]),I=u(I,E,M,G,F,22,l[11]),G=u(G,I,E,M,z,7,l[12]),M=u(M,G,I,E,Y,12,l[13]),E=u(E,M,G,I,J,17,l[14]),G=c(G,I=u(I,E,M,G,_,22,l[15]),E,M,L,5,l[16]),M=c(M,G,I,E,v,9,l[17]),E=c(E,M,G,I,F,14,l[18]),I=c(I,E,M,G,x,20,l[19]),G=c(G,I,E,M,d,5,l[20]),M=c(M,G,I,E,N,9,l[21]),E=c(E,M,G,I,_,14,l[22]),I=c(I,E,M,G,m,20,l[23]),G=c(G,I,E,M,P,5,l[24]),M=c(M,G,I,E,J,9,l[25]),E=c(E,M,G,I,h,14,l[26]),I=c(I,E,M,G,T,20,l[27]),G=c(G,I,E,M,Y,5,l[28]),M=c(M,G,I,E,w,9,l[29]),E=c(E,M,G,I,Z,14,l[30]),G=S(G,I=c(I,E,M,G,z,20,l[31]),E,M,d,4,l[32]),M=S(M,G,I,E,T,11,l[33]),E=S(E,M,G,I,F,16,l[34]),I=S(I,E,M,G,J,23,l[35]),G=S(G,I,E,M,L,4,l[36]),M=S(M,G,I,E,m,11,l[37]),E=S(E,M,G,I,Z,16,l[38]),I=S(I,E,M,G,N,23,l[39]),G=S(G,I,E,M,Y,4,l[40]),M=S(M,G,I,E,x,11,l[41]),E=S(E,M,G,I,h,16,l[42]),I=S(I,E,M,G,v,23,l[43]),G=S(G,I,E,M,P,4,l[44]),M=S(M,G,I,E,z,11,l[45]),E=S(E,M,G,I,_,16,l[46]),G=b(G,I=S(I,E,M,G,w,23,l[47]),E,M,x,6,l[48]),M=b(M,G,I,E,Z,10,l[49]),E=b(E,M,G,I,J,15,l[50]),I=b(I,E,M,G,d,21,l[51]),G=b(G,I,E,M,z,6,l[52]),M=b(M,G,I,E,h,10,l[53]),E=b(E,M,G,I,N,15,l[54]),I=b(I,E,M,G,L,21,l[55]),G=b(G,I,E,M,T,6,l[56]),M=b(M,G,I,E,_,10,l[57]),E=b(E,M,G,I,v,15,l[58]),I=b(I,E,M,G,Y,21,l[59]),G=b(G,I,E,M,m,6,l[60]),M=b(M,G,I,E,F,10,l[61]),E=b(E,M,G,I,w,15,l[62]),I=b(I,E,M,G,P,21,l[63]),f[0]=f[0]+G|0,f[1]=f[1]+I|0,f[2]=f[2]+E|0,f[3]=f[3]+M|0},_doFinalize:function(){var g=this._data,X=g.words,C=8*this._nDataBytes,y=8*g.sigBytes;X[y>>>5]|=128<<24-y%32;var p=t.floor(C/4294967296),f=C;X[15+(y+64>>>9<<4)]=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),X[14+(y+64>>>9<<4)]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),g.sigBytes=4*(X.length+1),this._process();for(var x=this._hash,L=x.words,w=0;w<4;w++){var h=L[w];L[w]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return x},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g}});function u(g,X,C,y,p,f,x){var L=g+(X&C|~X&y)+p+x;return(L<<f|L>>>32-f)+X}function c(g,X,C,y,p,f,x){var L=g+(X&y|C&~y)+p+x;return(L<<f|L>>>32-f)+X}function S(g,X,C,y,p,f,x){var L=g+(X^C^y)+p+x;return(L<<f|L>>>32-f)+X}function b(g,X,C,y,p,f,x){var L=g+(C^(X|~y))+p+x;return(L<<f|L>>>32-f)+X}n.MD5=s._createHelper(a),n.HmacMD5=s._createHmacHelper(a)}(Math),e.MD5}(Wt())),tf.exports}var nf,rf={exports:{}},sf={exports:{}};function Cv(){return nf||(nf=1,sf.exports=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,s=t.algo,o=[],l=s.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,u){for(var c=this._hash.words,S=c[0],b=c[1],g=c[2],X=c[3],C=c[4],y=0;y<80;y++){if(y<16)o[y]=0|a[u+y];else{var p=o[y-3]^o[y-8]^o[y-14]^o[y-16];o[y]=p<<1|p>>>31}var f=(S<<5|S>>>27)+C+o[y];f+=y<20?1518500249+(b&g|~b&X):y<40?1859775393+(b^g^X):y<60?(b&g|b&X|g&X)-1894007588:(b^g^X)-899497514,C=X,X=g,g=b<<30|b>>>2,b=S,S=f}c[0]=c[0]+S|0,c[1]=c[1]+b|0,c[2]=c[2]+g|0,c[3]=c[3]+X|0,c[4]=c[4]+C|0},_doFinalize:function(){var a=this._data,u=a.words,c=8*this._nDataBytes,S=8*a.sigBytes;return u[S>>>5]|=128<<24-S%32,u[14+(S+64>>>9<<4)]=Math.floor(c/4294967296),u[15+(S+64>>>9<<4)]=c,a.sigBytes=4*u.length,this._process(),this._hash},clone:function(){var a=i.clone.call(this);return a._hash=this._hash.clone(),a}});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1}(Wt())),sf.exports}var of;function lf(){return of||(of=1,rf.exports=function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,s=t.algo,o=s.MD5,l=s.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:o,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,u){for(var c,S=this.cfg,b=S.hasher.create(),g=i.create(),X=g.words,C=S.keySize,y=S.iterations;X.length<C;){c&&b.update(c),c=b.update(a).finalize(u),b.reset();for(var p=1;p<y;p++)c=b.finalize(c),b.reset();g.concat(c)}return g.sigBytes=4*C,g}});t.EvpKDF=function(a,u,c){return l.create(c).compute(a,u)}}(),e.EvpKDF}(Wt(),Cv(),Jc())),rf.exports}var af,uf,cf,Tv=(uf||(uf=1,ef.exports=function(e){return function(){var t=e,n=t.lib.BlockCipher,r=t.algo,i=[],s=[],o=[],l=[],a=[],u=[],c=[],S=[],b=[],g=[];(function(){for(var y=[],p=0;p<256;p++)y[p]=p<128?p<<1:p<<1^283;var f=0,x=0;for(p=0;p<256;p++){var L=x^x<<1^x<<2^x<<3^x<<4;L=L>>>8^255&L^99,i[f]=L,s[L]=f;var w=y[f],h=y[w],m=y[h],d=257*y[L]^16843008*L;o[f]=d<<24|d>>>8,l[f]=d<<16|d>>>16,a[f]=d<<8|d>>>24,u[f]=d,d=16843009*m^65537*h^257*w^16843008*f,c[L]=d<<24|d>>>8,S[L]=d<<16|d>>>16,b[L]=d<<8|d>>>24,g[L]=d,f?(f=w^y[y[y[m^w]]],x^=y[y[x]]):f=x=1}})();var X=[0,1,2,4,8,16,32,64,128,27,54],C=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var y=this._keyPriorReset=this._key,p=y.words,f=y.sigBytes/4,x=4*((this._nRounds=f+6)+1),L=this._keySchedule=[],w=0;w<x;w++)w<f?L[w]=p[w]:(d=L[w-1],w%f?f>6&&w%f==4&&(d=i[d>>>24]<<24|i[d>>>16&255]<<16|i[d>>>8&255]<<8|i[255&d]):(d=i[(d=d<<8|d>>>24)>>>24]<<24|i[d>>>16&255]<<16|i[d>>>8&255]<<8|i[255&d],d^=X[w/f|0]<<24),L[w]=L[w-f]^d);for(var h=this._invKeySchedule=[],m=0;m<x;m++){if(w=x-m,m%4)var d=L[w];else d=L[w-4];h[m]=m<4||w<=4?d:c[i[d>>>24]]^S[i[d>>>16&255]]^b[i[d>>>8&255]]^g[i[255&d]]}}},encryptBlock:function(y,p){this._doCryptBlock(y,p,this._keySchedule,o,l,a,u,i)},decryptBlock:function(y,p){var f=y[p+1];y[p+1]=y[p+3],y[p+3]=f,this._doCryptBlock(y,p,this._invKeySchedule,c,S,b,g,s),f=y[p+1],y[p+1]=y[p+3],y[p+3]=f},_doCryptBlock:function(y,p,f,x,L,w,h,m){for(var d=this._nRounds,v=y[p]^f[0],Z=y[p+1]^f[1],T=y[p+2]^f[2],P=y[p+3]^f[3],N=4,F=1;F<d;F++){var z=x[v>>>24]^L[Z>>>16&255]^w[T>>>8&255]^h[255&P]^f[N++],Y=x[Z>>>24]^L[T>>>16&255]^w[P>>>8&255]^h[255&v]^f[N++],J=x[T>>>24]^L[P>>>16&255]^w[v>>>8&255]^h[255&Z]^f[N++],_=x[P>>>24]^L[v>>>16&255]^w[Z>>>8&255]^h[255&T]^f[N++];v=z,Z=Y,T=J,P=_}z=(m[v>>>24]<<24|m[Z>>>16&255]<<16|m[T>>>8&255]<<8|m[255&P])^f[N++],Y=(m[Z>>>24]<<24|m[T>>>16&255]<<16|m[P>>>8&255]<<8|m[255&v])^f[N++],J=(m[T>>>24]<<24|m[P>>>16&255]<<16|m[v>>>8&255]<<8|m[255&Z])^f[N++],_=(m[P>>>24]<<24|m[v>>>16&255]<<16|m[Z>>>8&255]<<8|m[255&T])^f[N++],y[p]=z,y[p+1]=Y,y[p+2]=J,y[p+3]=_},keySize:8});t.AES=n._createHelper(C)}(),e.AES}(Wt(),Dp(),kv(),lf(),af||(af=1,function(e){e.lib.Cipher||function(t){var n=e,r=n.lib,i=r.Base,s=r.WordArray,o=r.BufferedBlockAlgorithm,l=n.enc;l.Utf8;var a=l.Base64,u=n.algo.EvpKDF,c=r.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(L,w){return this.create(this._ENC_XFORM_MODE,L,w)},createDecryptor:function(L,w){return this.create(this._DEC_XFORM_MODE,L,w)},init:function(L,w,h){this.cfg=this.cfg.extend(h),this._xformMode=L,this._key=w,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(L){return this._append(L),this._process()},finalize:function(L){return L&&this._append(L),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function L(w){return typeof w=="string"?x:p}return function(w){return{encrypt:function(h,m,d){return L(m).encrypt(w,h,m,d)},decrypt:function(h,m,d){return L(m).decrypt(w,h,m,d)}}}}()});r.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var S=n.mode={},b=r.BlockCipherMode=i.extend({createEncryptor:function(L,w){return this.Encryptor.create(L,w)},createDecryptor:function(L,w){return this.Decryptor.create(L,w)},init:function(L,w){this._cipher=L,this._iv=w}}),g=S.CBC=function(){var L=b.extend();function w(h,m,d){var v,Z=this._iv;Z?(v=Z,this._iv=t):v=this._prevBlock;for(var T=0;T<d;T++)h[m+T]^=v[T]}return L.Encryptor=L.extend({processBlock:function(h,m){var d=this._cipher,v=d.blockSize;w.call(this,h,m,v),d.encryptBlock(h,m),this._prevBlock=h.slice(m,m+v)}}),L.Decryptor=L.extend({processBlock:function(h,m){var d=this._cipher,v=d.blockSize,Z=h.slice(m,m+v);d.decryptBlock(h,m),w.call(this,h,m,v),this._prevBlock=Z}}),L}(),X=(n.pad={}).Pkcs7={pad:function(L,w){for(var h=4*w,m=h-L.sigBytes%h,d=m<<24|m<<16|m<<8|m,v=[],Z=0;Z<m;Z+=4)v.push(d);var T=s.create(v,m);L.concat(T)},unpad:function(L){var w=255&L.words[L.sigBytes-1>>>2];L.sigBytes-=w}};r.BlockCipher=c.extend({cfg:c.cfg.extend({mode:g,padding:X}),reset:function(){var L;c.reset.call(this);var w=this.cfg,h=w.iv,m=w.mode;this._xformMode==this._ENC_XFORM_MODE?L=m.createEncryptor:(L=m.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==L?this._mode.init(this,h&&h.words):(this._mode=L.call(m,this,h&&h.words),this._mode.__creator=L)},_doProcessBlock:function(L,w){this._mode.processBlock(L,w)},_doFinalize:function(){var L,w=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(w.pad(this._data,this.blockSize),L=this._process(!0)):(L=this._process(!0),w.unpad(L)),L},blockSize:4});var C=r.CipherParams=i.extend({init:function(L){this.mixIn(L)},toString:function(L){return(L||this.formatter).stringify(this)}}),y=(n.format={}).OpenSSL={stringify:function(L){var w=L.ciphertext,h=L.salt;return(h?s.create([1398893684,1701076831]).concat(h).concat(w):w).toString(a)},parse:function(L){var w,h=a.parse(L),m=h.words;return m[0]==1398893684&&m[1]==1701076831&&(w=s.create(m.slice(2,4)),m.splice(0,4),h.sigBytes-=16),C.create({ciphertext:h,salt:w})}},p=r.SerializableCipher=i.extend({cfg:i.extend({format:y}),encrypt:function(L,w,h,m){m=this.cfg.extend(m);var d=L.createEncryptor(h,m),v=d.finalize(w),Z=d.cfg;return C.create({ciphertext:v,key:h,iv:Z.iv,algorithm:L,mode:Z.mode,padding:Z.padding,blockSize:L.blockSize,formatter:m.format})},decrypt:function(L,w,h,m){return m=this.cfg.extend(m),w=this._parse(w,m.format),L.createDecryptor(h,m).finalize(w.ciphertext)},_parse:function(L,w){return typeof L=="string"?w.parse(L,this):L}}),f=(n.kdf={}).OpenSSL={execute:function(L,w,h,m,d){if(m||(m=s.random(8)),d)v=u.create({keySize:w+h,hasher:d}).compute(L,m);else var v=u.create({keySize:w+h}).compute(L,m);var Z=s.create(v.words.slice(w),4*h);return v.sigBytes=4*w,C.create({key:v,iv:Z,salt:m})}},x=r.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:f}),encrypt:function(L,w,h,m){var d=(m=this.cfg.extend(m)).kdf.execute(h,L.keySize,L.ivSize,m.salt,m.hasher);m.iv=d.iv;var v=p.encrypt.call(this,L,w,d.key,m);return v.mixIn(d),v},decrypt:function(L,w,h,m){m=this.cfg.extend(m),w=this._parse(w,m.format);var d=m.kdf.execute(h,L.keySize,L.ivSize,w.salt,m.hasher);return m.iv=d.iv,p.decrypt.call(this,L,w,d.key,m)}})}()}(Wt(),lf())))),ef.exports),go=ir(Tv),df={exports:{}},Gv=(cf||(cf=1,df.exports=function(e){return e.HmacSHA256}(Wt(),Yc(),Jc())),df.exports),Wa=ir(Gv);function Pi(e){let t=e.length;for(;--t>=0;)e[t]=0}const $c=256,Jp=286,as=30,us=15,Mu=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),$o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Pv=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),hf=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dn=new Array(576);Pi(dn);const cs=new Array(60);Pi(cs);const Rs=new Array(512);Pi(Rs);const ds=new Array(256);Pi(ds);const Bc=new Array(29);Pi(Bc);const cl=new Array(as);function Ia(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let ff,pf,mf;function _a(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Pi(cl);const $p=e=>e<256?Rs[e]:Rs[256+(e>>>7)],Ms=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},nt=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Ms(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Bt=(e,t,n)=>{nt(e,n[2*t],n[2*t+1])},Bp=(e,t)=>{let n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1},Ap=(e,t,n)=>{const r=new Array(16);let i,s,o=0;for(i=1;i<=us;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let l=e[2*s+1];l!==0&&(e[2*s]=Bp(r[l]++,l))}},qp=e=>{let t;for(t=0;t<Jp;t++)e.dyn_ltree[2*t]=0;for(t=0;t<as;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},em=e=>{e.bi_valid>8?Ms(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},yf=(e,t,n,r)=>{const i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},Ra=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&yf(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!yf(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},gf=(e,t,n)=>{let r,i,s,o,l=0;if(e.sym_next!==0)do r=255&e.pending_buf[e.sym_buf+l++],r+=(255&e.pending_buf[e.sym_buf+l++])<<8,i=e.pending_buf[e.sym_buf+l++],r===0?Bt(e,i,t):(s=ds[i],Bt(e,s+$c+1,t),o=Mu[s],o!==0&&(i-=Bc[s],nt(e,i,o)),r--,s=$p(r),Bt(e,s,n),o=$o[s],o!==0&&(r-=cl[s],nt(e,r,o)));while(l<e.sym_next);Bt(e,256,t)},Ma=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,l,a,u=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<s;o++)n[2*o]!==0?(e.heap[++e.heap_len]=u=o,e.depth[o]=0):n[2*o+1]=0;for(;e.heap_len<2;)a=e.heap[++e.heap_len]=u<2?++u:0,n[2*a]=1,e.depth[a]=0,e.opt_len--,i&&(e.static_len-=r[2*a+1]);for(t.max_code=u,o=e.heap_len>>1;o>=1;o--)Ra(e,n,o);a=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ra(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,n[2*a]=n[2*o]+n[2*l],e.depth[a]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,n[2*o+1]=n[2*l+1]=a,e.heap[1]=a++,Ra(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((c,S)=>{const b=S.dyn_tree,g=S.max_code,X=S.stat_desc.static_tree,C=S.stat_desc.has_stree,y=S.stat_desc.extra_bits,p=S.stat_desc.extra_base,f=S.stat_desc.max_length;let x,L,w,h,m,d,v=0;for(h=0;h<=us;h++)c.bl_count[h]=0;for(b[2*c.heap[c.heap_max]+1]=0,x=c.heap_max+1;x<573;x++)L=c.heap[x],h=b[2*b[2*L+1]+1]+1,h>f&&(h=f,v++),b[2*L+1]=h,L>g||(c.bl_count[h]++,m=0,L>=p&&(m=y[L-p]),d=b[2*L],c.opt_len+=d*(h+m),C&&(c.static_len+=d*(X[2*L+1]+m)));if(v!==0){do{for(h=f-1;c.bl_count[h]===0;)h--;c.bl_count[h]--,c.bl_count[h+1]+=2,c.bl_count[f]--,v-=2}while(v>0);for(h=f;h!==0;h--)for(L=c.bl_count[h];L!==0;)w=c.heap[--x],w>g||(b[2*w+1]!==h&&(c.opt_len+=(h-b[2*w+1])*b[2*w],b[2*w+1]=h),L--)}})(e,t),Ap(n,u,e.bl_count)},vf=(e,t,n)=>{let r,i,s=-1,o=t[1],l=0,a=7,u=4;for(o===0&&(a=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++l<a&&i===o||(l<u?e.bl_tree[2*i]+=l:i!==0?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):l<=10?e.bl_tree[34]++:e.bl_tree[36]++,l=0,s=i,o===0?(a=138,u=3):i===o?(a=6,u=3):(a=7,u=4))},wf=(e,t,n)=>{let r,i,s=-1,o=t[1],l=0,a=7,u=4;for(o===0&&(a=138,u=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++l<a&&i===o)){if(l<u)do Bt(e,i,e.bl_tree);while(--l!=0);else i!==0?(i!==s&&(Bt(e,i,e.bl_tree),l--),Bt(e,16,e.bl_tree),nt(e,l-3,2)):l<=10?(Bt(e,17,e.bl_tree),nt(e,l-3,3)):(Bt(e,18,e.bl_tree),nt(e,l-11,7));l=0,s=i,o===0?(a=138,u=3):i===o?(a=6,u=3):(a=7,u=4)}};let bf=!1;const tm=(e,t,n,r)=>{nt(e,0+(r?1:0),3),em(e),Ms(e,n),Ms(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var Wv=(e,t,n,r)=>{let i,s,o=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=(l=>{let a,u=4093624447;for(a=0;a<=31;a++,u>>>=1)if(1&u&&l.dyn_ltree[2*a]!==0)return 0;if(l.dyn_ltree[18]!==0||l.dyn_ltree[20]!==0||l.dyn_ltree[26]!==0)return 1;for(a=32;a<$c;a++)if(l.dyn_ltree[2*a]!==0)return 1;return 0})(e)),Ma(e,e.l_desc),Ma(e,e.d_desc),o=(l=>{let a;for(vf(l,l.dyn_ltree,l.l_desc.max_code),vf(l,l.dyn_dtree,l.d_desc.max_code),Ma(l,l.bl_desc),a=18;a>=3&&l.bl_tree[2*hf[a]+1]===0;a--);return l.opt_len+=3*(a+1)+5+5+4,a})(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&t!==-1?tm(e,t,n,r):e.strategy===4||s===i?(nt(e,2+(r?1:0),3),gf(e,dn,cs)):(nt(e,4+(r?1:0),3),((l,a,u,c)=>{let S;for(nt(l,a-257,5),nt(l,u-1,5),nt(l,c-4,4),S=0;S<c;S++)nt(l,l.bl_tree[2*hf[S]+1],3);wf(l,l.dyn_ltree,a-1),wf(l,l.dyn_dtree,u-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),gf(e,e.dyn_ltree,e.dyn_dtree)),qp(e),r&&em(e)},Iv={_tr_init:e=>{bf||((()=>{let t,n,r,i,s;const o=new Array(16);for(r=0,i=0;i<28;i++)for(Bc[i]=r,t=0;t<1<<Mu[i];t++)ds[r++]=i;for(ds[r-1]=i,s=0,i=0;i<16;i++)for(cl[i]=s,t=0;t<1<<$o[i];t++)Rs[s++]=i;for(s>>=7;i<as;i++)for(cl[i]=s<<7,t=0;t<1<<$o[i]-7;t++)Rs[256+s++]=i;for(n=0;n<=us;n++)o[n]=0;for(t=0;t<=143;)dn[2*t+1]=8,t++,o[8]++;for(;t<=255;)dn[2*t+1]=9,t++,o[9]++;for(;t<=279;)dn[2*t+1]=7,t++,o[7]++;for(;t<=287;)dn[2*t+1]=8,t++,o[8]++;for(Ap(dn,287,o),t=0;t<as;t++)cs[2*t+1]=5,cs[2*t]=Bp(t,5);ff=new Ia(dn,Mu,257,Jp,us),pf=new Ia(cs,$o,0,as,us),mf=new Ia(new Array(0),Pv,0,19,7)})(),bf=!0),e.l_desc=new _a(e.dyn_ltree,ff),e.d_desc=new _a(e.dyn_dtree,pf),e.bl_desc=new _a(e.bl_tree,mf),e.bi_buf=0,e.bi_valid=0,qp(e)},_tr_stored_block:tm,_tr_flush_block:Wv,_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ds[n]+$c+1)]++,e.dyn_dtree[2*$p(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{nt(e,2,3),Bt(e,256,dn),(t=>{t.bi_valid===16?(Ms(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(e)}},Es=(e,t,n,r)=>{let i=65535&e,s=e>>>16&65535,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16};const _v=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Ie=(e,t,n,r)=>{const i=_v,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^i[255&(e^t[o])];return~e},Cr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_r={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Rv,_tr_stored_block:Eu,_tr_flush_block:Mv,_tr_tally:Fn,_tr_align:Ev}=Iv,{Z_NO_FLUSH:jn,Z_PARTIAL_FLUSH:Nv,Z_FULL_FLUSH:zv,Z_FINISH:kt,Z_BLOCK:Sf,Z_OK:Ne,Z_STREAM_END:Zf,Z_STREAM_ERROR:$t,Z_DATA_ERROR:Vv,Z_BUF_ERROR:Ea,Z_DEFAULT_COMPRESSION:Hv,Z_FILTERED:Yv,Z_HUFFMAN_ONLY:vo,Z_RLE:Kv,Z_FIXED:Fv,Z_DEFAULT_STRATEGY:jv,Z_UNKNOWN:Qv,Z_DEFLATED:dl}=_r,gr=258,en=262,oi=42,fr=113,qi=666,pr=(e,t)=>(e.msg=Cr[t],t),xf=e=>2*e-(e>4?9:0),Rn=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Uv=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let Qn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const ut=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},pt=(e,t)=>{Mv(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ut(e.strm)},re=(e,t)=>{e.pending_buf[e.pending++]=t},Ei=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Nu=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=Es(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Ie(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},nm=(e,t)=>{let n,r,i=e.max_chain_length,s=e.strstart,o=e.prev_length,l=e.nice_match;const a=e.strstart>e.w_size-en?e.strstart-(e.w_size-en):0,u=e.window,c=e.w_mask,S=e.prev,b=e.strstart+gr;let g=u[s+o-1],X=u[s+o];e.prev_length>=e.good_match&&(i>>=2),l>e.lookahead&&(l=e.lookahead);do if(n=t,u[n+o]===X&&u[n+o-1]===g&&u[n]===u[s]&&u[++n]===u[s+1]){s+=2,n++;do;while(u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&s<b);if(r=gr-(b-s),s=b-gr,r>o){if(e.match_start=t,o=r,r>=l)break;g=u[s+o-1],X=u[s+o]}}while((t=S[t&c])>a&&--i!=0);return o<=e.lookahead?o:e.lookahead},Ur=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-en)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Uv(e),r+=t),e.strm.avail_in===0)break;if(n=Nu(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Qn(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Qn(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<en&&e.strm.avail_in!==0)},rm=(e,t)=>{let n,r,i,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,l=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<s&&(n===0&&t!==kt||t===jn||n!==r+e.strm.avail_in)))break;o=t===kt&&n===r+e.strm.avail_in?1:0,Eu(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,ut(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(Nu(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:t!==jn&&t!==kt&&e.strm.avail_in===0&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Nu(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,s=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=s||(r||t===kt)&&t!==jn&&e.strm.avail_in===0&&r<=i)&&(n=r>i?i:r,o=t===kt&&e.strm.avail_in===0&&n===r?1:0,Eu(e,e.block_start,n,o),e.block_start+=n,ut(e.strm)),o?3:1)},Na=(e,t)=>{let n,r;for(;;){if(e.lookahead<en){if(Ur(e),e.lookahead<en&&t===jn)return 1;if(e.lookahead===0)break}if(n=0,e.lookahead>=3&&(e.ins_h=Qn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-en&&(e.match_length=nm(e,n)),e.match_length>=3)if(r=Fn(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=Qn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!=0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Qn(e,e.ins_h,e.window[e.strstart+1]);else r=Fn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(pt(e,!1),e.strm.avail_out===0))return 1}return e.insert=e.strstart<2?e.strstart:2,t===kt?(pt(e,!0),e.strm.avail_out===0?3:4):e.sym_next&&(pt(e,!1),e.strm.avail_out===0)?1:2},Vr=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<en){if(Ur(e),e.lookahead<en&&t===jn)return 1;if(e.lookahead===0)break}if(n=0,e.lookahead>=3&&(e.ins_h=Qn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-en&&(e.match_length=nm(e,n),e.match_length<=5&&(e.strategy===Yv||e.match_length===3&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=Fn(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Qn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!=0);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(pt(e,!1),e.strm.avail_out===0))return 1}else if(e.match_available){if(r=Fn(e,0,e.window[e.strstart-1]),r&&pt(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Fn(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===kt?(pt(e,!0),e.strm.avail_out===0?3:4):e.sym_next&&(pt(e,!1),e.strm.avail_out===0)?1:2};function Ut(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const es=[new Ut(0,0,0,0,rm),new Ut(4,4,8,4,Na),new Ut(4,5,16,8,Na),new Ut(4,6,32,32,Na),new Ut(4,4,16,16,Vr),new Ut(8,16,32,32,Vr),new Ut(8,16,128,128,Vr),new Ut(8,32,128,256,Vr),new Ut(32,128,258,1024,Vr),new Ut(32,258,258,4096,Vr)];function Ov(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=dl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Rn(this.dyn_ltree),Rn(this.dyn_dtree),Rn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Rn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Rn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ts=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==oi&&t.status!==57&&t.status!==69&&t.status!==73&&t.status!==91&&t.status!==103&&t.status!==fr&&t.status!==qi?1:0},im=e=>{if(ts(e))return pr(e,$t);e.total_in=e.total_out=0,e.data_type=Qv;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?57:t.wrap?oi:fr,e.adler=t.wrap===2?0:1,t.last_flush=-2,Rv(t),Ne},sm=e=>{const t=im(e);var n;return t===Ne&&((n=e.state).window_size=2*n.w_size,Rn(n.head),n.max_lazy_match=es[n.level].max_lazy,n.good_match=es[n.level].good_length,n.nice_match=es[n.level].nice_length,n.max_chain_length=es[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Lf=(e,t,n,r,i,s)=>{if(!e)return $t;let o=1;if(t===Hv&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>9||n!==dl||r<8||r>15||t<0||t>9||s<0||s>Fv||r===8&&o!==1)return pr(e,$t);r===8&&(r=9);const l=new Ov;return e.state=l,l.strm=e,l.status=oi,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=3*(l.lit_bufsize-1),l.level=t,l.strategy=s,l.method=n,sm(e)};var hs={deflateInit:(e,t)=>Lf(e,t,dl,15,8,jv),deflateInit2:Lf,deflateReset:sm,deflateResetKeep:im,deflateSetHeader:(e,t)=>ts(e)||e.state.wrap!==2?$t:(e.state.gzhead=t,Ne),deflate:(e,t)=>{if(ts(e)||t>Sf||t<0)return e?pr(e,$t):$t;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===qi&&t!==kt)return pr(e,e.avail_out===0?Ea:$t);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(ut(e),e.avail_out===0)return n.last_flush=-1,Ne}else if(e.avail_in===0&&xf(t)<=xf(r)&&t!==kt)return pr(e,Ea);if(n.status===qi&&e.avail_in!==0)return pr(e,Ea);if(n.status===oi&&n.wrap===0&&(n.status=fr),n.status===oi){let i=dl+(n.w_bits-8<<4)<<8,s=-1;if(s=n.strategy>=vo||n.level<2?0:n.level<6?1:n.level===6?2:3,i|=s<<6,n.strstart!==0&&(i|=32),i+=31-i%31,Ei(n,i),n.strstart!==0&&(Ei(n,e.adler>>>16),Ei(n,65535&e.adler)),e.adler=1,n.status=fr,ut(e),n.pending!==0)return n.last_flush=-1,Ne}if(n.status===57){if(e.adler=0,re(n,31),re(n,139),re(n,8),n.gzhead)re(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),re(n,255&n.gzhead.time),re(n,n.gzhead.time>>8&255),re(n,n.gzhead.time>>16&255),re(n,n.gzhead.time>>24&255),re(n,n.level===9?2:n.strategy>=vo||n.level<2?4:0),re(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(re(n,255&n.gzhead.extra.length),re(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Ie(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(re(n,0),re(n,0),re(n,0),re(n,0),re(n,0),re(n,n.level===9?2:n.strategy>=vo||n.level<2?4:0),re(n,3),n.status=fr,ut(e),n.pending!==0)return n.last_flush=-1,Ne}if(n.status===69){if(n.gzhead.extra){let i=n.pending,s=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let l=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+l),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=Ie(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=l,ut(e),n.pending!==0)return n.last_flush=-1,Ne;i=0,s-=l}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(e.adler=Ie(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=73}if(n.status===73){if(n.gzhead.name){let i,s=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(e.adler=Ie(e.adler,n.pending_buf,n.pending-s,s)),ut(e),n.pending!==0)return n.last_flush=-1,Ne;s=0}i=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,re(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(e.adler=Ie(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=91}if(n.status===91){if(n.gzhead.comment){let i,s=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(e.adler=Ie(e.adler,n.pending_buf,n.pending-s,s)),ut(e),n.pending!==0)return n.last_flush=-1,Ne;s=0}i=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,re(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(e.adler=Ie(e.adler,n.pending_buf,n.pending-s,s))}n.status=103}if(n.status===103){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ut(e),n.pending!==0))return n.last_flush=-1,Ne;re(n,255&e.adler),re(n,e.adler>>8&255),e.adler=0}if(n.status=fr,ut(e),n.pending!==0)return n.last_flush=-1,Ne}if(e.avail_in!==0||n.lookahead!==0||t!==jn&&n.status!==qi){let i=n.level===0?rm(n,t):n.strategy===vo?((s,o)=>{let l;for(;;){if(s.lookahead===0&&(Ur(s),s.lookahead===0)){if(o===jn)return 1;break}if(s.match_length=0,l=Fn(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,l&&(pt(s,!1),s.strm.avail_out===0))return 1}return s.insert=0,o===kt?(pt(s,!0),s.strm.avail_out===0?3:4):s.sym_next&&(pt(s,!1),s.strm.avail_out===0)?1:2})(n,t):n.strategy===Kv?((s,o)=>{let l,a,u,c;const S=s.window;for(;;){if(s.lookahead<=gr){if(Ur(s),s.lookahead<=gr&&o===jn)return 1;if(s.lookahead===0)break}if(s.match_length=0,s.lookahead>=3&&s.strstart>0&&(u=s.strstart-1,a=S[u],a===S[++u]&&a===S[++u]&&a===S[++u])){c=s.strstart+gr;do;while(a===S[++u]&&a===S[++u]&&a===S[++u]&&a===S[++u]&&a===S[++u]&&a===S[++u]&&a===S[++u]&&a===S[++u]&&u<c);s.match_length=gr-(c-u),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=3?(l=Fn(s,1,s.match_length-3),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(l=Fn(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),l&&(pt(s,!1),s.strm.avail_out===0))return 1}return s.insert=0,o===kt?(pt(s,!0),s.strm.avail_out===0?3:4):s.sym_next&&(pt(s,!1),s.strm.avail_out===0)?1:2})(n,t):es[n.level].func(n,t);if(i!==3&&i!==4||(n.status=qi),i===1||i===3)return e.avail_out===0&&(n.last_flush=-1),Ne;if(i===2&&(t===Nv?Ev(n):t!==Sf&&(Eu(n,0,0,!1),t===zv&&(Rn(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ut(e),e.avail_out===0))return n.last_flush=-1,Ne}return t!==kt?Ne:n.wrap<=0?Zf:(n.wrap===2?(re(n,255&e.adler),re(n,e.adler>>8&255),re(n,e.adler>>16&255),re(n,e.adler>>24&255),re(n,255&e.total_in),re(n,e.total_in>>8&255),re(n,e.total_in>>16&255),re(n,e.total_in>>24&255)):(Ei(n,e.adler>>>16),Ei(n,65535&e.adler)),ut(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Ne:Zf)},deflateEnd:e=>{if(ts(e))return $t;const t=e.state.status;return e.state=null,t===fr?pr(e,Vv):Ne},deflateSetDictionary:(e,t)=>{let n=t.length;if(ts(e))return $t;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==oi||r.lookahead)return $t;if(i===1&&(e.adler=Es(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(Rn(r.head),r.strstart=0,r.block_start=0,r.insert=0);let a=new Uint8Array(r.w_size);a.set(t.subarray(n-r.w_size,n),0),t=a,n=r.w_size}const s=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ur(r);r.lookahead>=3;){let a=r.strstart,u=r.lookahead-2;do r.ins_h=Qn(r,r.ins_h,r.window[a+3-1]),r.prev[a&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=a,a++;while(--u);r.strstart=a,r.lookahead=2,Ur(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=l,e.avail_in=s,r.wrap=i,Ne},deflateInfo:"pako deflate (from Nodeca project)"};const Dv=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var om=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)Dv(n,r)&&(e[r]=n[r])}}return e},lm=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let o=e[r];n.set(o,i),i+=o.length}return n};let am=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{am=!1}const Ns=new Uint8Array(256);for(let e=0;e<256;e++)Ns[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ns[254]=Ns[254]=1;var Ac=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,o=e.length,l=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(64512&n)==55296&&i+1<o&&(r=e.charCodeAt(i+1),(64512&r)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),s=0,i=0;s<l;i++)n=e.charCodeAt(i),(64512&n)==55296&&i+1<o&&(r=e.charCodeAt(i+1),(64512&r)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},Jv=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const s=new Array(2*n);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){s[i++]=o;continue}let l=Ns[o];if(l>4)s[i++]=65533,r+=l-1;else{for(o&=l===2?31:l===3?15:7;l>1&&r<n;)o=o<<6|63&e[r++],l--;l>1?s[i++]=65533:o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|1023&o)}}return((o,l)=>{if(l<65534&&o.subarray&&am)return String.fromCharCode.apply(null,o.length===l?o:o.subarray(0,l));let a="";for(let u=0;u<l;u++)a+=String.fromCharCode(o[u]);return a})(s,i)},$v=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(192&e[n])==128;)n--;return n<0||n===0?t:n+Ns[e[n]]>t?n:t},um=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const cm=Object.prototype.toString,{Z_NO_FLUSH:Bv,Z_SYNC_FLUSH:Av,Z_FULL_FLUSH:qv,Z_FINISH:ew,Z_OK:hl,Z_STREAM_END:tw,Z_DEFAULT_COMPRESSION:nw,Z_DEFAULT_STRATEGY:rw,Z_DEFLATED:iw}=_r;function fs(e){this.options=om({level:nw,method:iw,chunkSize:16384,windowBits:15,memLevel:8,strategy:rw},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new um,this.strm.avail_out=0;let n=hs.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==hl)throw new Error(Cr[n]);if(t.header&&hs.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(r=typeof t.dictionary=="string"?Ac(t.dictionary):cm.call(t.dictionary)==="[object ArrayBuffer]"?new Uint8Array(t.dictionary):t.dictionary,n=hs.deflateSetDictionary(this.strm,r),n!==hl)throw new Error(Cr[n]);this._dict_set=!0}}function za(e,t){const n=new fs(t);if(n.push(e,!0),n.err)throw n.msg||Cr[n.err];return n.result}fs.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=t===~~t?t:t===!0?ew:Bv,typeof e=="string"?n.input=Ac(e):cm.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===Av||s===qv)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=hs.deflate(n,s),i===tw)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=hs.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===hl;if(n.avail_out!==0){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(n.avail_in===0)break}else this.onData(n.output)}return!0},fs.prototype.onData=function(e){this.chunks.push(e)},fs.prototype.onEnd=function(e){e===hl&&(this.result=lm(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var sw={Deflate:fs,deflate:za,deflateRaw:function(e,t){return(t=t||{}).raw=!0,za(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,za(e,t)},constants:_r};const wo=16209;var ow=function(e,t){let n,r,i,s,o,l,a,u,c,S,b,g,X,C,y,p,f,x,L,w,h,m,d,v;const Z=e.state;n=e.next_in,d=e.input,r=n+(e.avail_in-5),i=e.next_out,v=e.output,s=i-(t-e.avail_out),o=i+(e.avail_out-257),l=Z.dmax,a=Z.wsize,u=Z.whave,c=Z.wnext,S=Z.window,b=Z.hold,g=Z.bits,X=Z.lencode,C=Z.distcode,y=(1<<Z.lenbits)-1,p=(1<<Z.distbits)-1;e:do{g<15&&(b+=d[n++]<<g,g+=8,b+=d[n++]<<g,g+=8),f=X[b&y];t:for(;;){if(x=f>>>24,b>>>=x,g-=x,x=f>>>16&255,x===0)v[i++]=65535&f;else{if(!(16&x)){if(64&x){if(32&x){Z.mode=16191;break e}e.msg="invalid literal/length code",Z.mode=wo;break e}f=X[(65535&f)+(b&(1<<x)-1)];continue t}for(L=65535&f,x&=15,x&&(g<x&&(b+=d[n++]<<g,g+=8),L+=b&(1<<x)-1,b>>>=x,g-=x),g<15&&(b+=d[n++]<<g,g+=8,b+=d[n++]<<g,g+=8),f=C[b&p];;){if(x=f>>>24,b>>>=x,g-=x,x=f>>>16&255,16&x){if(w=65535&f,x&=15,g<x&&(b+=d[n++]<<g,g+=8,g<x&&(b+=d[n++]<<g,g+=8)),w+=b&(1<<x)-1,w>l){e.msg="invalid distance too far back",Z.mode=wo;break e}if(b>>>=x,g-=x,x=i-s,w>x){if(x=w-x,x>u&&Z.sane){e.msg="invalid distance too far back",Z.mode=wo;break e}if(h=0,m=S,c===0){if(h+=a-x,x<L){L-=x;do v[i++]=S[h++];while(--x);h=i-w,m=v}}else if(c<x){if(h+=a+c-x,x-=c,x<L){L-=x;do v[i++]=S[h++];while(--x);if(h=0,c<L){x=c,L-=x;do v[i++]=S[h++];while(--x);h=i-w,m=v}}}else if(h+=c-x,x<L){L-=x;do v[i++]=S[h++];while(--x);h=i-w,m=v}for(;L>2;)v[i++]=m[h++],v[i++]=m[h++],v[i++]=m[h++],L-=3;L&&(v[i++]=m[h++],L>1&&(v[i++]=m[h++]))}else{h=i-w;do v[i++]=v[h++],v[i++]=v[h++],v[i++]=v[h++],L-=3;while(L>2);L&&(v[i++]=v[h++],L>1&&(v[i++]=v[h++]))}break}if(64&x){e.msg="invalid distance code",Z.mode=wo;break e}f=C[(65535&f)+(b&(1<<x)-1)]}}break}}while(n<r&&i<o);L=g>>3,n-=L,g-=L<<3,b&=(1<<g)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<o?o-i+257:257-(i-o),Z.hold=b,Z.bits=g};const bo=15,lw=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),aw=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),uw=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),cw=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ps=(e,t,n,r,i,s,o,l)=>{const a=l.bits;let u,c,S,b,g,X,C=0,y=0,p=0,f=0,x=0,L=0,w=0,h=0,m=0,d=0,v=null;const Z=new Uint16Array(16),T=new Uint16Array(16);let P,N,F,z=null;for(C=0;C<=bo;C++)Z[C]=0;for(y=0;y<r;y++)Z[t[n+y]]++;for(x=a,f=bo;f>=1&&Z[f]===0;f--);if(x>f&&(x=f),f===0)return i[s++]=20971520,i[s++]=20971520,l.bits=1,0;for(p=1;p<f&&Z[p]===0;p++);for(x<p&&(x=p),h=1,C=1;C<=bo;C++)if(h<<=1,h-=Z[C],h<0)return-1;if(h>0&&(e===0||f!==1))return-1;for(T[1]=0,C=1;C<bo;C++)T[C+1]=T[C]+Z[C];for(y=0;y<r;y++)t[n+y]!==0&&(o[T[t[n+y]]++]=y);if(e===0?(v=z=o,X=20):e===1?(v=lw,z=aw,X=257):(v=uw,z=cw,X=0),d=0,y=0,C=p,g=s,L=x,w=0,S=-1,m=1<<x,b=m-1,e===1&&m>852||e===2&&m>592)return 1;for(;;){P=C-w,o[y]+1<X?(N=0,F=o[y]):o[y]>=X?(N=z[o[y]-X],F=v[o[y]-X]):(N=96,F=0),u=1<<C-w,c=1<<L,p=c;do c-=u,i[g+(d>>w)+c]=P<<24|N<<16|F;while(c!==0);for(u=1<<C-1;d&u;)u>>=1;if(u!==0?(d&=u-1,d+=u):d=0,y++,--Z[C]==0){if(C===f)break;C=t[n+o[y]]}if(C>x&&(d&b)!==S){for(w===0&&(w=x),g+=p,L=C-w,h=1<<L;L+w<f&&(h-=Z[L+w],!(h<=0));)L++,h<<=1;if(m+=1<<L,e===1&&m>852||e===2&&m>592)return 1;S=d&b,i[S]=x<<24|L<<16|g-s}}return d!==0&&(i[g+d]=C-w<<24|64<<16),l.bits=x,0};const{Z_FINISH:Xf,Z_BLOCK:dw,Z_TREES:So,Z_OK:xr,Z_STREAM_END:hw,Z_NEED_DICT:fw,Z_STREAM_ERROR:Ct,Z_DATA_ERROR:dm,Z_MEM_ERROR:hm,Z_BUF_ERROR:pw,Z_DEFLATED:kf}=_r,Ul=16180,fl=16190,on=16191,Va=16192,Ha=16194,Zo=16199,xo=16200,Ya=16206,he=16209,Cf=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function mw(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lr=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Ul||t.mode>16211?1:0},fm=e=>{if(Lr(e))return Ct;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Ul,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,xr},pm=e=>{if(Lr(e))return Ct;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,fm(e)},mm=(e,t)=>{let n;if(Lr(e))return Ct;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Ct:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,pm(e))},Tf=(e,t)=>{if(!e)return Ct;const n=new mw;e.state=n,n.strm=e,n.window=null,n.mode=Ul;const r=mm(e,t);return r!==xr&&(e.state=null),r};let Ka,Fa,Gf=!0;const yw=e=>{if(Gf){Ka=new Int32Array(512),Fa=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ps(1,e.lens,0,288,Ka,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ps(2,e.lens,0,32,Fa,0,e.work,{bits:5}),Gf=!1}e.lencode=Ka,e.lenbits=9,e.distcode=Fa,e.distbits=5},ym=(e,t,n,r)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),(r-=i)?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var gw=(e,t)=>{let n,r,i,s,o,l,a,u,c,S,b,g,X,C,y,p,f,x,L,w,h,m,d=0;const v=new Uint8Array(4);let Z,T;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lr(e)||!e.output||!e.input&&e.avail_in!==0)return Ct;n=e.state,n.mode===on&&(n.mode=Va),o=e.next_out,i=e.output,a=e.avail_out,s=e.next_in,r=e.input,l=e.avail_in,u=n.hold,c=n.bits,S=l,b=a,m=xr;e:for(;;)switch(n.mode){case Ul:if(n.wrap===0){n.mode=Va;break}for(;c<16;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}if(2&n.wrap&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,v[0]=255&u,v[1]=u>>>8&255,n.check=Ie(n.check,v,2,0),u=0,c=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=he;break}if((15&u)!==kf){e.msg="unknown compression method",n.mode=he;break}if(u>>>=4,c-=4,h=8+(15&u),n.wbits===0&&(n.wbits=h),h>15||h>n.wbits){e.msg="invalid window size",n.mode=he;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&u?16189:on,u=0,c=0;break;case 16181:for(;c<16;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}if(n.flags=u,(255&n.flags)!==kf){e.msg="unknown compression method",n.mode=he;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=he;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&4&n.wrap&&(v[0]=255&u,v[1]=u>>>8&255,n.check=Ie(n.check,v,2,0)),u=0,c=0,n.mode=16182;case 16182:for(;c<32;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}n.head&&(n.head.time=u),512&n.flags&&4&n.wrap&&(v[0]=255&u,v[1]=u>>>8&255,v[2]=u>>>16&255,v[3]=u>>>24&255,n.check=Ie(n.check,v,4,0)),u=0,c=0,n.mode=16183;case 16183:for(;c<16;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&4&n.wrap&&(v[0]=255&u,v[1]=u>>>8&255,n.check=Ie(n.check,v,2,0)),u=0,c=0,n.mode=16184;case 16184:if(1024&n.flags){for(;c<16;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&4&n.wrap&&(v[0]=255&u,v[1]=u>>>8&255,n.check=Ie(n.check,v,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(g=n.length,g>l&&(g=l),g&&(n.head&&(h=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+g),h)),512&n.flags&&4&n.wrap&&(n.check=Ie(n.check,r,g,s)),l-=g,s+=g,n.length-=g),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(l===0)break e;g=0;do h=r[s+g++],n.head&&h&&n.length<65536&&(n.head.name+=String.fromCharCode(h));while(h&&g<l);if(512&n.flags&&4&n.wrap&&(n.check=Ie(n.check,r,g,s)),l-=g,s+=g,h)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(l===0)break e;g=0;do h=r[s+g++],n.head&&h&&n.length<65536&&(n.head.comment+=String.fromCharCode(h));while(h&&g<l);if(512&n.flags&&4&n.wrap&&(n.check=Ie(n.check,r,g,s)),l-=g,s+=g,h)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;c<16;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}if(4&n.wrap&&u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=he;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=on;break;case 16189:for(;c<32;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}e.adler=n.check=Cf(u),u=0,c=0,n.mode=fl;case fl:if(n.havedict===0)return e.next_out=o,e.avail_out=a,e.next_in=s,e.avail_in=l,n.hold=u,n.bits=c,fw;e.adler=n.check=1,n.mode=on;case on:if(t===dw||t===So)break e;case Va:if(n.last){u>>>=7&c,c-=7&c,n.mode=Ya;break}for(;c<3;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}switch(n.last=1&u,u>>>=1,c-=1,3&u){case 0:n.mode=16193;break;case 1:if(yw(n),n.mode=Zo,t===So){u>>>=2,c-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=he}u>>>=2,c-=2;break;case 16193:for(u>>>=7&c,c-=7&c;c<32;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=he;break}if(n.length=65535&u,u=0,c=0,n.mode=Ha,t===So)break e;case Ha:n.mode=16195;case 16195:if(g=n.length,g){if(g>l&&(g=l),g>a&&(g=a),g===0)break e;i.set(r.subarray(s,s+g),o),l-=g,s+=g,a-=g,o+=g,n.length-=g;break}n.mode=on;break;case 16196:for(;c<14;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}if(n.nlen=257+(31&u),u>>>=5,c-=5,n.ndist=1+(31&u),u>>>=5,c-=5,n.ncode=4+(15&u),u>>>=4,c-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=he;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;c<3;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}n.lens[P[n.have++]]=7&u,u>>>=3,c-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Z={bits:n.lenbits},m=ps(0,n.lens,0,19,n.lencode,0,n.work,Z),n.lenbits=Z.bits,m){e.msg="invalid code lengths set",n.mode=he;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;d=n.lencode[u&(1<<n.lenbits)-1],y=d>>>24,p=d>>>16&255,f=65535&d,!(y<=c);){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}if(f<16)u>>>=y,c-=y,n.lens[n.have++]=f;else{if(f===16){for(T=y+2;c<T;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}if(u>>>=y,c-=y,n.have===0){e.msg="invalid bit length repeat",n.mode=he;break}h=n.lens[n.have-1],g=3+(3&u),u>>>=2,c-=2}else if(f===17){for(T=y+3;c<T;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}u>>>=y,c-=y,h=0,g=3+(7&u),u>>>=3,c-=3}else{for(T=y+7;c<T;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}u>>>=y,c-=y,h=0,g=11+(127&u),u>>>=7,c-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=he;break}for(;g--;)n.lens[n.have++]=h}}if(n.mode===he)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=he;break}if(n.lenbits=9,Z={bits:n.lenbits},m=ps(1,n.lens,0,n.nlen,n.lencode,0,n.work,Z),n.lenbits=Z.bits,m){e.msg="invalid literal/lengths set",n.mode=he;break}if(n.distbits=6,n.distcode=n.distdyn,Z={bits:n.distbits},m=ps(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Z),n.distbits=Z.bits,m){e.msg="invalid distances set",n.mode=he;break}if(n.mode=Zo,t===So)break e;case Zo:n.mode=xo;case xo:if(l>=6&&a>=258){e.next_out=o,e.avail_out=a,e.next_in=s,e.avail_in=l,n.hold=u,n.bits=c,ow(e,b),o=e.next_out,i=e.output,a=e.avail_out,s=e.next_in,r=e.input,l=e.avail_in,u=n.hold,c=n.bits,n.mode===on&&(n.back=-1);break}for(n.back=0;d=n.lencode[u&(1<<n.lenbits)-1],y=d>>>24,p=d>>>16&255,f=65535&d,!(y<=c);){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}if(p&&!(240&p)){for(x=y,L=p,w=f;d=n.lencode[w+((u&(1<<x+L)-1)>>x)],y=d>>>24,p=d>>>16&255,f=65535&d,!(x+y<=c);){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}u>>>=x,c-=x,n.back+=x}if(u>>>=y,c-=y,n.back+=y,n.length=f,p===0){n.mode=16205;break}if(32&p){n.back=-1,n.mode=on;break}if(64&p){e.msg="invalid literal/length code",n.mode=he;break}n.extra=15&p,n.mode=16201;case 16201:if(n.extra){for(T=n.extra;c<T;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;d=n.distcode[u&(1<<n.distbits)-1],y=d>>>24,p=d>>>16&255,f=65535&d,!(y<=c);){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}if(!(240&p)){for(x=y,L=p,w=f;d=n.distcode[w+((u&(1<<x+L)-1)>>x)],y=d>>>24,p=d>>>16&255,f=65535&d,!(x+y<=c);){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}u>>>=x,c-=x,n.back+=x}if(u>>>=y,c-=y,n.back+=y,64&p){e.msg="invalid distance code",n.mode=he;break}n.offset=f,n.extra=15&p,n.mode=16203;case 16203:if(n.extra){for(T=n.extra;c<T;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=he;break}n.mode=16204;case 16204:if(a===0)break e;if(g=b-a,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=he;break}g>n.wnext?(g-=n.wnext,X=n.wsize-g):X=n.wnext-g,g>n.length&&(g=n.length),C=n.window}else C=i,X=o-n.offset,g=n.length;g>a&&(g=a),a-=g,n.length-=g;do i[o++]=C[X++];while(--g);n.length===0&&(n.mode=xo);break;case 16205:if(a===0)break e;i[o++]=n.length,a--,n.mode=xo;break;case Ya:if(n.wrap){for(;c<32;){if(l===0)break e;l--,u|=r[s++]<<c,c+=8}if(b-=a,e.total_out+=b,n.total+=b,4&n.wrap&&b&&(e.adler=n.check=n.flags?Ie(n.check,i,b,o-b):Es(n.check,i,b,o-b)),b=a,4&n.wrap&&(n.flags?u:Cf(u))!==n.check){e.msg="incorrect data check",n.mode=he;break}u=0,c=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;c<32;){if(l===0)break e;l--,u+=r[s++]<<c,c+=8}if(4&n.wrap&&u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=he;break}u=0,c=0}n.mode=16208;case 16208:m=hw;break e;case he:m=dm;break e;case 16210:return hm;default:return Ct}return e.next_out=o,e.avail_out=a,e.next_in=s,e.avail_in=l,n.hold=u,n.bits=c,(n.wsize||b!==e.avail_out&&n.mode<he&&(n.mode<Ya||t!==Xf))&&ym(e,e.output,e.next_out,b-e.avail_out),S-=e.avail_in,b-=e.avail_out,e.total_in+=S,e.total_out+=b,n.total+=b,4&n.wrap&&b&&(e.adler=n.check=n.flags?Ie(n.check,i,b,e.next_out-b):Es(n.check,i,b,e.next_out-b)),e.data_type=n.bits+(n.last?64:0)+(n.mode===on?128:0)+(n.mode===Zo||n.mode===Ha?256:0),(S===0&&b===0||t===Xf)&&m===xr&&(m=pw),m},pn={inflateReset:pm,inflateReset2:mm,inflateResetKeep:fm,inflateInit:e=>Tf(e,15),inflateInit2:Tf,inflate:gw,inflateEnd:e=>{if(Lr(e))return Ct;let t=e.state;return t.window&&(t.window=null),e.state=null,xr},inflateGetHeader:(e,t)=>{if(Lr(e))return Ct;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,xr):Ct},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,s;return Lr(e)?Ct:(r=e.state,r.wrap!==0&&r.mode!==fl?Ct:r.mode===fl&&(i=1,i=Es(i,t,n,0),i!==r.check)?dm:(s=ym(e,t,n,n),s?(r.mode=16210,hm):(r.havedict=1,xr)))},inflateInfo:"pako inflate (from Nodeca project)"},vw=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const gm=Object.prototype.toString,{Z_NO_FLUSH:ww,Z_FINISH:bw,Z_OK:ms,Z_STREAM_END:ja,Z_NEED_DICT:Qa,Z_STREAM_ERROR:Sw,Z_DATA_ERROR:Pf,Z_MEM_ERROR:Zw}=_r;function ys(e){this.options=om({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new um,this.strm.avail_out=0;let n=pn.inflateInit2(this.strm,t.windowBits);if(n!==ms)throw new Error(Cr[n]);if(this.header=new vw,pn.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ac(t.dictionary):gm.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=pn.inflateSetDictionary(this.strm,t.dictionary),n!==ms)))throw new Error(Cr[n])}function Ua(e,t){const n=new ys(t);if(n.push(e),n.err)throw n.msg||Cr[n.err];return n.result}ys.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(o=t===~~t?t:t===!0?bw:ww,gm.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=pn.inflate(n,o),s===Qa&&i&&(s=pn.inflateSetDictionary(n,i),s===ms?s=pn.inflate(n,o):s===Pf&&(s=Qa));n.avail_in>0&&s===ja&&n.state.wrap>0&&e[n.next_in]!==0;)pn.inflateReset(n),s=pn.inflate(n,o);switch(s){case Sw:case Pf:case Qa:case Zw:return this.onEnd(s),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||s===ja))if(this.options.to==="string"){let a=$v(n.output,n.next_out),u=n.next_out-a,c=Jv(n.output,a);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(a,a+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==ms||l!==0){if(s===ja)return s=pn.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},ys.prototype.onData=function(e){this.chunks.push(e)},ys.prototype.onEnd=function(e){e===ms&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=lm(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var xw={Inflate:ys,inflate:Ua,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Ua(e,t)},ungzip:Ua,constants:_r};const{Deflate:Lw,deflate:Xw,deflateRaw:kw,gzip:Cw}=sw,{Inflate:Tw,inflate:Gw,inflateRaw:Pw,ungzip:Ww}=xw;var Iw={Deflate:Lw,deflate:Xw,deflateRaw:kw,gzip:Cw,Inflate:Tw,inflate:Gw,inflateRaw:Pw,ungzip:Ww,constants:_r};class _w{constructor(){this.url="(offline)",this.readyState=WebSocket.CONNECTING,this.bufferedAmount=0,setTimeout(()=>{this.readyState=WebSocket.OPEN,this.onopen&&this.onopen()},50),this.start=Date.now()}send(t){const{id:n,action:r,args:i}=JSON.parse(t);switch(r){case"JOIN":return this.id=n,this.ticks=i.ticks.tick,this.seq=-16>>>0,this.reply("SYNC",{messages:[],time:this.time,seq:this.seq,tove:i.tove,reflector:"offline"}),this.reply("RECV",[this.time,++this.seq,{what:"users",joined:[i.user],active:1,total:1}]),void this.tick();case"SEND":{const s=[...i];return s[0]=this.time,s[1]=++this.seq,void this.reply("RECV",s)}case"PULSE":return;default:throw Error("Offline unhandled "+r)}}close(t,n){this.readyState=WebSocket.CLOSING,setTimeout(()=>{this.readyState=WebSocket.CLOSED,this.onclose&&this.onclose({code:t,reason:n})},50)}get time(){return Date.now()-this.start}tick(){clearInterval(this.ticker),this.ticker=setInterval(()=>{this.reply("TICK",{time:this.time})},this.ticks)}reply(t,n){setTimeout(()=>{this.onmessage&&this.onmessage({data:JSON.stringify({id:this.id,action:t,args:n})})},50)}}var op;const Rw=!!((op=globalThis.navigator)!=null&&op.userAgent.toLowerCase().includes("firefox"));let ue={get connection(){return ue={connection:D.has("debug","connection",!0)},ue.connection}};class Mw{static get name(){return"CroquetWebRTCConnection"}constructor(t){var n;this.clientId=(n=4,Math.random().toString(36).substring(2,2+n)),ue.connection&&console.log(`${this.clientId} WebRTCConnection created`),this.pc=null,this.dataChannel=null,this.signaling=null,this.connectionTypes={},this.onopen=null,this.onmessage=null,this.onerror=null,this.onclose=null,this.onconnected=null,this.twoStageConnection=!0,this.url="synchronizer",this.bufferedAmount=0,this.openConnection(t)}isConnecting(){var t;return((t=this.signaling)==null?void 0:t.readyState)===WebSocket.OPEN}async openConnection(t){var n;try{await this.openSignalingChannel(t),ue.connection&&console.log(`${this.clientId} signaling ready`),this.onopen&&this.onopen(),await this.createPeerConnection(),ue.connection&&console.log(`${this.clientId} peer connection created`),this.dataChannel=this.pc.createDataChannel(`client-${this.clientId}`),ue.connection&&console.log(`${this.clientId} data channel created`),this.dataChannel.onopen=s=>this.onDataChannelOpen(s),this.dataChannel.onmessage=s=>this.onDataChannelMessage(s),this.dataChannel.onclosing=s=>this.onDataChannelClosing(s),this.dataChannel.onclose=s=>this.onDataChannelClose(s),this.dataChannel.onerror=s=>this.onDataChannelError(s);const r=await this.pc.createOffer();if(((n=this.signaling)==null?void 0:n.readyState)!==WebSocket.OPEN||(this.negotiationTimeout=setTimeout(()=>{delete this.negotiationTimeout,this.dataChannelFlowing?this.signalingCloseScheduled||(ue.connection&&console.log(`${this.clientId} ICE negotiation timed out but appears to have succeeded`),this.scheduleSignalingClose()):this.synchronizerDisconnected(1006,"ICE negotiation timed out")},5e3),this.signalToSessionRunner({type:"offer",sdp:r.sdp}),await this.pc.setLocalDescription(r),!this.pc.sctp))return;const i=this.pc.sctp.transport.iceTransport;i.onselectedcandidatepairchange=s=>{ue.connection&&console.log(`${this.clientId} ICE candidate pair changed`);const o=i.getSelectedCandidatePair();this.connectionTypes.local=o.local.type,this.connectionTypes.remote=o.remote.type,this.logConnectionState()}}catch(r){this.synchronizerDisconnected(r.code||4003,r.message)}}openSignalingChannel(t){return this.signaling?(console.warn(`${this.clientId} signaling channel already open`),Promise.resolve()):(this.synchronizerGatheringComplete=!1,this.localGatheringComplete=!1,this.dataChannelFlowing=!1,this.signalingCloseScheduled=!1,this.signalingKey=Math.random(),new Promise(n=>{this.signaling=new WebSocket(t),this.signaling.onopen=()=>{ue.connection&&console.log(`${this.clientId} signaling socket opened`)},this.signaling.onmessage=r=>{const i=JSON.parse(r.data);if(i.what==="READY")return this.clientId+=`_${i.id}`,void n();if(i.what!=="ERROR")if(i.type)switch(ue.connection&&console.log(`${this.clientId} received signal of type "${i.type}"`),i.type){case"answer":this.handleAnswer(i);break;case"candidate":this.handleCandidate(i);break;case"gathering-complete":this.synchronizerGatheringComplete=!0;break;default:ue.connection&&console.log(`${this.clientId} unhandled: ${i.type}`)}else console.error(`${this.clientId} unexpected message: ${r.data}`);else console.error(`${this.clientId} registry error: ${i.reason}`)},this.signaling.onclose=r=>{ue.connection&&console.log(`${this.clientId} signaling socket closed unexpectedly (${r.code})`),this.synchronizerDisconnected(r.code,r.reason)},this.signaling.onerror=r=>{ue.connection&&console.log(`${this.clientId} signaling socket error`,r),this.synchronizerError()}}))}clearNegotiationTimeout(){this.negotiationTimeout&&(clearTimeout(this.negotiationTimeout),delete this.negotiationTimeout)}signalToSessionRunner(t){const n=JSON.stringify(t);try{this.signaling.send(n)}catch(r){console.error(`${this.clientId} WebRTC signaling send error`,r)}}async logConnectionState(){var r;if(Rw&&this.pc)try{const i=await this.pc.getStats();if(i){let s=null;for(const l of i.values())if(l.type==="transport"){s=l.selectedCandidatePairId;break}let o=i.get(s);if(!o){for(const l of i.values())if(l.type==="candidate-pair"&&l.selected){o=l;break}}o&&(this.connectionTypes.local=i.get(o.localCandidateId).candidateType,this.connectionTypes.remote=i.get(o.remoteCandidateId).candidateType)}}catch{}const t=this.connectionTypes.local||"",n=this.connectionTypes.remote||"";if(ue.connection&&console.log(`${this.clientId} RTCDataChannel connection state: "${this.dataChannel.readyState}" (client connection="${t}"; synchronizer connection="${n}")`),((r=this.signaling)==null?void 0:r.readyState)===WebSocket.OPEN){const i={type:"selectedCandidatePair",clientType:t,syncType:n};this.signalToSessionRunner(i)}}close(t,n){this.cleanUpConnection()}synchronizerDisconnected(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1006,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"connection to synchronizer lost";this.synchronizerCloseReason&&(t=this.synchronizerCloseReason[0],n=this.synchronizerCloseReason[1]),this.cleanUpConnection(),this.onclose&&this.onclose({code:t,reason:n})}synchronizerError(t){this.onerror&&this.onerror(),this.synchronizerDisconnected(void 0,t)}cleanUpConnection(){this.closeSignalingChannel();const{pc:t}=this;t&&(this.pc=null,t.close(),clearInterval(this.peerConnectionStatsInterval)),this.dataChannel=null}closeSignalingChannel(){this.clearNegotiationTimeout(),this.signaling&&(this.signaling.onclose=null,this.signaling.onerror=null,this.signaling.close(),this.signaling=null)}async createPeerConnection(){let t;globalThis.iceServersP||(globalThis.iceServersP=new Promise((i,s)=>{let o=3;const l=()=>{fetch("https://croquet-io.metered.live/api/v1/turn/credentials?apiKey=3884257c85a346055ba19433467284912001").then(a=>{if(a.status!==200)throw Error(`status=${a.status}`);return a.json()}).then(a=>{i(a)}).catch(a=>{console.warn("error in fetching ICE servers",a),--o>0?setTimeout(l,250):s()})};l()}));try{t=await globalThis.iceServersP}catch{const s=new Error("failed to fetch ICE servers");throw s.code=4200,s}const n=new Set,r=this.pc=new globalThis.RTCPeerConnection({iceServers:t});r.onnegotiationneeded=i=>{r===this.pc&&ue.connection&&console.log(`${this.clientId} negotiationneeded event fired`)},r.onsignalingstatechange=i=>{r===this.pc&&ue.connection&&console.log(`${this.clientId} signaling state: "${r.signalingState}"`)},r.onconnectionstatechange=i=>{if(r!==this.pc)return;const{connectionState:s,iceConnectionState:o}=r;ue.connection&&console.log(`${this.clientId} connection state: "${s}" (cf. ICE connection state: "${o}")`),s!=="disconnected"&&s!=="failed"||this.synchronizerDisconnected()},r.oniceconnectionstatechange=i=>{if(r!==this.pc)return;const s=r.iceConnectionState,o=this.dataChannel.readyState;ue.connection&&console.log(`${this.clientId} ICE connection state: "${s}"; data channel: "${o}"`),s==="failed"&&this.synchronizerDisconnected(4003,"ICE negotiation failed")},r.onicegatheringstatechange=i=>{if(r!==this.pc)return;const s=r.iceGatheringState;ue.connection&&console.log(`${this.clientId} ICE gathering state: "${s}"`),s==="complete"&&(this.localGatheringComplete=!0)},r.onicecandidate=i=>{var s;if(r===this.pc)if(i.candidate){if(((s=this.signaling)==null?void 0:s.readyState)===WebSocket.OPEN){const o={type:"candidate",candidate:i.candidate.candidate,sdpMid:i.candidate.sdpMid,sdpMLineIndex:i.candidate.sdpMLineIndex};this.signalToSessionRunner(o)}}else this.localGatheringComplete=!0},r.onicecandidateerror=i=>{if(r===this.pc&&ue.connection){const s=`${i.errorCode}|${i.url}`;n.has(s)||(i.errorCode===701?console.log(`${this.clientId} ICE 701 warning on ${i.url}`):console.log(`${this.clientId} ICE error from ${i.url}: ${i.errorCode} ${i.errorText}`),n.add(s))}}}async handleAnswer(t){this.pc?await this.pc.setRemoteDescription(t):console.error("no peerconnection")}async handleCandidate(t){this.pc?t.candidate?await this.pc.addIceCandidate(t):await this.pc.addIceCandidate(null):console.error("no peerconnection")}send(t){this.dataChannel?this.dataChannel.send(t):console.warn(`${this.clientId} no data channel to send: ${t}`)}onDataChannelOpen(t){ue.connection&&console.log(`${this.clientId} RTCDataChannel open`),this.onconnected&&this.onconnected(),this.logConnectionState()}onDataChannelMessage(t){if(!this.onmessage)return;this.dataChannelFlowing=!0,!this.signalingCloseScheduled&&this.synchronizerGatheringComplete&&this.localGatheringComplete&&(this.clearNegotiationTimeout(),this.scheduleSignalingClose());const n=t.data;if(n.startsWith("!ping"))this.send(n.replace("ping","pong"));else if(n.startsWith("!close")){const r=n.split("|");this.synchronizerCloseReason=[Number(r[1]),r[2]]}else this.onmessage(t)}onDataChannelError(t){console.error(`${this.clientId} RTCDataChannel error`,t),this.synchronizerError(t.errorDetail)}onDataChannelClosing(t){this.pc&&(ue.connection&&console.log(`${this.clientId} data channel closing`),this.synchronizerDisconnected())}onDataChannelClose(t){this.pc&&(ue.connection&&console.log(`${this.clientId} data channel closed`),this.synchronizerDisconnected())}scheduleSignalingClose(){this.signalingCloseScheduled=!0,ue.connection&&console.log(`${this.clientId} signaling channel closure scheduled`);const{signalingKey:t}=this;setTimeout(()=>{t===this.signalingKey&&(ue.connection&&console.log(`${this.clientId} closing signaling channel`),this.closeSignalingChannel())},1e3)}async defunct_readConnectionType(){const t=await this.pc.getStats();if(t){let n=null;for(const[i,s]of t)if(s.type==="transport"){n=s.selectedCandidatePairId;break}let r=t.get(n);if(!r){for(const[i,s]of t)if(s.type==="candidate-pair"&&s.selected){r=s;break}}if(r){for(const[i,s]of t)if(i===r.remoteCandidateId)return s.candidateType}}return""}}function Ew(e,t,n){var r=t===void 0?null:t,i=function(a,u){var c=atob(a);if(u){for(var S=new Uint8Array(c.length),b=0,g=c.length;b<g;++b)S[b]=c.charCodeAt(b);return String.fromCharCode.apply(null,new Uint16Array(S.buffer))}return c}(e,n!==void 0&&n),s=i.indexOf(`
`,10)+1,o=i.substring(s)+(r?"//# sourceMappingURL="+r:""),l=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(l)}var Wf,If,_f,Oa,Nw=(Wf="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKioKICogQ29weXJpZ2h0IENyb3F1ZXQgQ29ycG9yYXRpb24gMjAyNAogKiBCdW5kbGUgb2YgQGNyb3F1ZXQvY3JvcXVldAogKiBEYXRlOiAyMDI0LTEwLTE2CiAqIFZlcnNpb246IDIuMC4wLTM5CiAqLwoKIWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciB0PSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6e307ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwiZGVmYXVsdCIpP3QuZGVmYXVsdDp0fXZhciByLG49e2V4cG9ydHM6e319O3J8fChyPTEsZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGUscj1PYmplY3QucHJvdG90eXBlLG49ci5oYXNPd25Qcm9wZXJ0eSxpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24odCxlLHIpe3RbZV09ci52YWx1ZX0sYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxzPWEuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIixvPWEuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsbD1hLnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyI7ZnVuY3Rpb24gaCh0LGUscil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSx0W2VdfXRyeXtoKHt9LCIiKX1jYXRjaCh0KXtoPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFtlXT1yfX1mdW5jdGlvbiBjKHQsZSxyLG4pe3ZhciBhPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgeT9lOnkscz1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKSxvPW5ldyBPKG58fFtdKTtyZXR1cm4gaShzLCJfaW52b2tlIix7dmFsdWU6RSh0LHIsbyl9KSxzfWZ1bmN0aW9uIHUodCxlLHIpe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6dC5jYWxsKGUscil9fWNhdGNoKHQpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOnR9fX10LndyYXA9Yzt2YXIgXz0ic3VzcGVuZGVkU3RhcnQiLGQ9InN1c3BlbmRlZFlpZWxkIixmPSJleGVjdXRpbmciLHA9ImNvbXBsZXRlZCIsZz17fTtmdW5jdGlvbiB5KCl7fWZ1bmN0aW9uIHcoKXt9ZnVuY3Rpb24gdigpe312YXIgbT17fTtoKG0scywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgYj1PYmplY3QuZ2V0UHJvdG90eXBlT2YseD1iJiZiKGIoUihbXSkpKTt4JiZ4IT09ciYmbi5jYWxsKHgscykmJihtPXgpO3ZhciBrPXYucHJvdG90eXBlPXkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobSk7ZnVuY3Rpb24geih0KXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2godCxlLChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW52b2tlKGUsdCl9KSl9KSl9ZnVuY3Rpb24gQSh0LGUpe2Z1bmN0aW9uIHIoaSxhLHMsbyl7dmFyIGw9dSh0W2ldLHQsYSk7aWYoInRocm93IiE9PWwudHlwZSl7dmFyIGg9bC5hcmcsYz1oLnZhbHVlO3JldHVybiBjJiYib2JqZWN0Ij09dHlwZW9mIGMmJm4uY2FsbChjLCJfX2F3YWl0Iik/ZS5yZXNvbHZlKGMuX19hd2FpdCkudGhlbigoZnVuY3Rpb24odCl7cigibmV4dCIsdCxzLG8pfSksKGZ1bmN0aW9uKHQpe3IoInRocm93Iix0LHMsbyl9KSk6ZS5yZXNvbHZlKGMpLnRoZW4oKGZ1bmN0aW9uKHQpe2gudmFsdWU9dCxzKGgpfSksKGZ1bmN0aW9uKHQpe3JldHVybiByKCJ0aHJvdyIsdCxzLG8pfSkpfW8obC5hcmcpfXZhciBhO2kodGhpcywiX2ludm9rZSIse3ZhbHVlOmZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxpKXtyKHQsbixlLGkpfSkpfXJldHVybiBhPWE/YS50aGVuKGksaSk6aSgpfX0pfWZ1bmN0aW9uIEUodCxyLG4pe3ZhciBpPV87cmV0dXJuIGZ1bmN0aW9uKGEscyl7aWYoaT09PWYpdGhyb3cgbmV3IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYoaT09PXApe2lmKCJ0aHJvdyI9PT1hKXRocm93IHM7cmV0dXJue3ZhbHVlOmUsZG9uZTohMH19Zm9yKG4ubWV0aG9kPWEsbi5hcmc9czs7KXt2YXIgbz1uLmRlbGVnYXRlO2lmKG8pe3ZhciBsPVMobyxuKTtpZihsKXtpZihsPT09Zyljb250aW51ZTtyZXR1cm4gbH19aWYoIm5leHQiPT09bi5tZXRob2Qpbi5zZW50PW4uX3NlbnQ9bi5hcmc7ZWxzZSBpZigidGhyb3ciPT09bi5tZXRob2Qpe2lmKGk9PT1fKXRocm93IGk9cCxuLmFyZztuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKX1lbHNlInJldHVybiI9PT1uLm1ldGhvZCYmbi5hYnJ1cHQoInJldHVybiIsbi5hcmcpO2k9Zjt2YXIgaD11KHQscixuKTtpZigibm9ybWFsIj09PWgudHlwZSl7aWYoaT1uLmRvbmU/cDpkLGguYXJnPT09Zyljb250aW51ZTtyZXR1cm57dmFsdWU6aC5hcmcsZG9uZTpuLmRvbmV9fSJ0aHJvdyI9PT1oLnR5cGUmJihpPXAsbi5tZXRob2Q9InRocm93IixuLmFyZz1oLmFyZyl9fX1mdW5jdGlvbiBTKHQscil7dmFyIG49ci5tZXRob2QsaT10Lml0ZXJhdG9yW25dO2lmKGk9PT1lKXJldHVybiByLmRlbGVnYXRlPW51bGwsInRocm93Ij09PW4mJnQuaXRlcmF0b3IucmV0dXJuJiYoci5tZXRob2Q9InJldHVybiIsci5hcmc9ZSxTKHQsciksInRocm93Ij09PXIubWV0aG9kKXx8InJldHVybiIhPT1uJiYoci5tZXRob2Q9InRocm93IixyLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICciK24rIicgbWV0aG9kIikpLGc7dmFyIGE9dShpLHQuaXRlcmF0b3Isci5hcmcpO2lmKCJ0aHJvdyI9PT1hLnR5cGUpcmV0dXJuIHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9YS5hcmcsci5kZWxlZ2F0ZT1udWxsLGc7dmFyIHM9YS5hcmc7cmV0dXJuIHM/cy5kb25lPyhyW3QucmVzdWx0TmFtZV09cy52YWx1ZSxyLm5leHQ9dC5uZXh0TG9jLCJyZXR1cm4iIT09ci5tZXRob2QmJihyLm1ldGhvZD0ibmV4dCIsci5hcmc9ZSksci5kZWxlZ2F0ZT1udWxsLGcpOnM6KHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxyLmRlbGVnYXRlPW51bGwsZyl9ZnVuY3Rpb24gQih0KXt2YXIgZT17dHJ5TG9jOnRbMF19OzEgaW4gdCYmKGUuY2F0Y2hMb2M9dFsxXSksMiBpbiB0JiYoZS5maW5hbGx5TG9jPXRbMl0sZS5hZnRlckxvYz10WzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaChlKX1mdW5jdGlvbiBMKHQpe3ZhciBlPXQuY29tcGxldGlvbnx8e307ZS50eXBlPSJub3JtYWwiLGRlbGV0ZSBlLmFyZyx0LmNvbXBsZXRpb249ZX1mdW5jdGlvbiBPKHQpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSx0LmZvckVhY2goQix0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBSKHQpe2lmKG51bGwhPXQpe3ZhciByPXRbc107aWYocilyZXR1cm4gci5jYWxsKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0Lm5leHQpcmV0dXJuIHQ7aWYoIWlzTmFOKHQubGVuZ3RoKSl7dmFyIGk9LTEsYT1mdW5jdGlvbiByKCl7Zm9yKDsrK2k8dC5sZW5ndGg7KWlmKG4uY2FsbCh0LGkpKXJldHVybiByLnZhbHVlPXRbaV0sci5kb25lPSExLHI7cmV0dXJuIHIudmFsdWU9ZSxyLmRvbmU9ITAscn07cmV0dXJuIGEubmV4dD1hfX10aHJvdyBuZXcgVHlwZUVycm9yKHR5cGVvZiB0KyIgaXMgbm90IGl0ZXJhYmxlIil9cmV0dXJuIHcucHJvdG90eXBlPXYsaShrLCJjb25zdHJ1Y3RvciIse3ZhbHVlOnYsY29uZmlndXJhYmxlOiEwfSksaSh2LCJjb25zdHJ1Y3RvciIse3ZhbHVlOncsY29uZmlndXJhYmxlOiEwfSksdy5kaXNwbGF5TmFtZT1oKHYsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSx0LmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PXd8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LHQubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LHYpOih0Ll9fcHJvdG9fXz12LGgodCxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGspLHR9LHQuYXdyYXA9ZnVuY3Rpb24odCl7cmV0dXJue19fYXdhaXQ6dH19LHooQS5wcm90b3R5cGUpLGgoQS5wcm90b3R5cGUsbywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSx0LkFzeW5jSXRlcmF0b3I9QSx0LmFzeW5jPWZ1bmN0aW9uKGUscixuLGksYSl7dm9pZCAwPT09YSYmKGE9UHJvbWlzZSk7dmFyIHM9bmV3IEEoYyhlLHIsbixpKSxhKTtyZXR1cm4gdC5pc0dlbmVyYXRvckZ1bmN0aW9uKHIpP3M6cy5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOnMubmV4dCgpfSkpfSx6KGspLGgoayxsLCJHZW5lcmF0b3IiKSxoKGsscywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxoKGssInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0pKSx0LmtleXM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpLHI9W107Zm9yKHZhciBuIGluIGUpci5wdXNoKG4pO3JldHVybiByLnJldmVyc2UoKSxmdW5jdGlvbiB0KCl7Zm9yKDtyLmxlbmd0aDspe3ZhciBuPXIucG9wKCk7aWYobiBpbiBlKXJldHVybiB0LnZhbHVlPW4sdC5kb25lPSExLHR9cmV0dXJuIHQuZG9uZT0hMCx0fX0sdC52YWx1ZXM9UixPLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TyxyZXNldDpmdW5jdGlvbih0KXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD1lLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPWUsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goTCksIXQpZm9yKHZhciByIGluIHRoaXMpInQiPT09ci5jaGFyQXQoMCkmJm4uY2FsbCh0aGlzLHIpJiYhaXNOYU4oK3Iuc2xpY2UoMSkpJiYodGhpc1tyXT1lKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZG9uZSl0aHJvdyB0O3ZhciByPXRoaXM7ZnVuY3Rpb24gaShuLGkpe3JldHVybiBvLnR5cGU9InRocm93IixvLmFyZz10LHIubmV4dD1uLGkmJihyLm1ldGhvZD0ibmV4dCIsci5hcmc9ZSksISFpfWZvcih2YXIgYT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7YT49MDstLWEpe3ZhciBzPXRoaXMudHJ5RW50cmllc1thXSxvPXMuY29tcGxldGlvbjtpZigicm9vdCI9PT1zLnRyeUxvYylyZXR1cm4gaSgiZW5kIik7aWYocy50cnlMb2M8PXRoaXMucHJldil7dmFyIGw9bi5jYWxsKHMsImNhdGNoTG9jIiksaD1uLmNhbGwocywiZmluYWxseUxvYyIpO2lmKGwmJmgpe2lmKHRoaXMucHJldjxzLmNhdGNoTG9jKXJldHVybiBpKHMuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxzLmZpbmFsbHlMb2MpcmV0dXJuIGkocy5maW5hbGx5TG9jKX1lbHNlIGlmKGwpe2lmKHRoaXMucHJldjxzLmNhdGNoTG9jKXJldHVybiBpKHMuY2F0Y2hMb2MsITApfWVsc2V7aWYoIWgpdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxzLmZpbmFsbHlMb2MpcmV0dXJuIGkocy5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtyPj0wOy0tcil7dmFyIGk9dGhpcy50cnlFbnRyaWVzW3JdO2lmKGkudHJ5TG9jPD10aGlzLnByZXYmJm4uY2FsbChpLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxpLmZpbmFsbHlMb2Mpe3ZhciBhPWk7YnJlYWt9fWEmJigiYnJlYWsiPT09dHx8ImNvbnRpbnVlIj09PXQpJiZhLnRyeUxvYzw9ZSYmZTw9YS5maW5hbGx5TG9jJiYoYT1udWxsKTt2YXIgcz1hP2EuY29tcGxldGlvbjp7fTtyZXR1cm4gcy50eXBlPXQscy5hcmc9ZSxhPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PWEuZmluYWxseUxvYyxnKTp0aGlzLmNvbXBsZXRlKHMpfSxjb21wbGV0ZTpmdW5jdGlvbih0LGUpe2lmKCJ0aHJvdyI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuImJyZWFrIj09PXQudHlwZXx8ImNvbnRpbnVlIj09PXQudHlwZT90aGlzLm5leHQ9dC5hcmc6InJldHVybiI9PT10LnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz10LmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09dC50eXBlJiZlJiYodGhpcy5uZXh0PWUpLGd9LGZpbmlzaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbZV07aWYoci5maW5hbGx5TG9jPT09dClyZXR1cm4gdGhpcy5jb21wbGV0ZShyLmNvbXBsZXRpb24sci5hZnRlckxvYyksTChyKSxnfX0sY2F0Y2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW2VdO2lmKHIudHJ5TG9jPT09dCl7dmFyIG49ci5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1uLnR5cGUpe3ZhciBpPW4uYXJnO0wocil9cmV0dXJuIGl9fXRocm93IG5ldyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpSKHQpLHJlc3VsdE5hbWU6cixuZXh0TG9jOm59LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9ZSksZ319LHR9KHQuZXhwb3J0cyk7dHJ5e2dsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lPWV9Y2F0Y2godCl7Im9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lPWU6RnVuY3Rpb24oInIiLCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByIikoZSl9fShuKSk7dmFyIGksYT17ZXhwb3J0czp7fX07dmFyIHM9KGl8fChpPTEsZnVuY3Rpb24odCl7Y29uc3QgZT00LHI9MCxuPTEsaT0yO2Z1bmN0aW9uIGEodCl7bGV0IGU9dC5sZW5ndGg7Zm9yKDstLWU+PTA7KXRbZV09MH1jb25zdCBzPTAsbz0xLGw9MixoPTMsYz0yNTgsdT0yOSxfPTI1NixkPV8rMSt1LGY9MzAscD0xOSxnPTIqZCsxLHk9MTUsdz0xNix2PTcsbT0yNTYsYj0xNix4PTE3LGs9MTgsej1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwXSksQT1uZXcgVWludDhBcnJheShbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10pLEU9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMiwzLDddKSxTPW5ldyBVaW50OEFycmF5KFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSksQj01MTIsTD1uZXcgQXJyYXkoMiooZCsyKSk7YShMKTtjb25zdCBPPW5ldyBBcnJheSgyKmYpO2EoTyk7Y29uc3QgUj1uZXcgQXJyYXkoQik7YShSKTtjb25zdCBEPW5ldyBBcnJheShjLWgrMSk7YShEKTtjb25zdCBVPW5ldyBBcnJheSh1KTthKFUpO2NvbnN0IEM9bmV3IEFycmF5KGYpO2Z1bmN0aW9uIFQodCxlLHIsbixpKXt0aGlzLnN0YXRpY190cmVlPXQsdGhpcy5leHRyYV9iaXRzPWUsdGhpcy5leHRyYV9iYXNlPXIsdGhpcy5lbGVtcz1uLHRoaXMubWF4X2xlbmd0aD1pLHRoaXMuaGFzX3N0cmVlPXQmJnQubGVuZ3RofWxldCBGLEgsWjtmdW5jdGlvbiBNKHQsZSl7dGhpcy5keW5fdHJlZT10LHRoaXMubWF4X2NvZGU9MCx0aGlzLnN0YXRfZGVzYz1lfWEoQyk7Y29uc3QgTj10PT50PDI1Nj9SW3RdOlJbMjU2Kyh0Pj4+NyldLEk9KHQsZSk9Pnt0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXT0yNTUmZSx0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXT1lPj4+OCYyNTV9LFA9KHQsZSxyKT0+e3QuYmlfdmFsaWQ+dy1yPyh0LmJpX2J1Znw9ZTw8dC5iaV92YWxpZCY2NTUzNSxJKHQsdC5iaV9idWYpLHQuYmlfYnVmPWU+PnctdC5iaV92YWxpZCx0LmJpX3ZhbGlkKz1yLXcpOih0LmJpX2J1Znw9ZTw8dC5iaV92YWxpZCY2NTUzNSx0LmJpX3ZhbGlkKz1yKX0saj0odCxlLHIpPT57UCh0LHJbMiplXSxyWzIqZSsxXSl9LCQ9KHQsZSk9PntsZXQgcj0wO2Rve3J8PTEmdCx0Pj4+PTEscjw8PTF9d2hpbGUoLS1lPjApO3JldHVybiByPj4+MX0sSz10PT57MTY9PT10LmJpX3ZhbGlkPyhJKHQsdC5iaV9idWYpLHQuYmlfYnVmPTAsdC5iaV92YWxpZD0wKTp0LmJpX3ZhbGlkPj04JiYodC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109MjU1JnQuYmlfYnVmLHQuYmlfYnVmPj49OCx0LmJpX3ZhbGlkLT04KX0sWD0odCxlKT0+e2NvbnN0IHI9ZS5keW5fdHJlZSxuPWUubWF4X2NvZGUsaT1lLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxhPWUuc3RhdF9kZXNjLmhhc19zdHJlZSxzPWUuc3RhdF9kZXNjLmV4dHJhX2JpdHMsbz1lLnN0YXRfZGVzYy5leHRyYV9iYXNlLGw9ZS5zdGF0X2Rlc2MubWF4X2xlbmd0aDtsZXQgaCxjLHUsXyxkLGYscD0wO2ZvcihfPTA7Xzw9eTtfKyspdC5ibF9jb3VudFtfXT0wO2ZvcihyWzIqdC5oZWFwW3QuaGVhcF9tYXhdKzFdPTAsaD10LmhlYXBfbWF4KzE7aDxnO2grKyljPXQuaGVhcFtoXSxfPXJbMipyWzIqYysxXSsxXSsxLF8+bCYmKF89bCxwKyspLHJbMipjKzFdPV8sYz5ufHwodC5ibF9jb3VudFtfXSsrLGQ9MCxjPj1vJiYoZD1zW2Mtb10pLGY9clsyKmNdLHQub3B0X2xlbis9ZiooXytkKSxhJiYodC5zdGF0aWNfbGVuKz1mKihpWzIqYysxXStkKSkpO2lmKDAhPT1wKXtkb3tmb3IoXz1sLTE7MD09PXQuYmxfY291bnRbX107KV8tLTt0LmJsX2NvdW50W19dLS0sdC5ibF9jb3VudFtfKzFdKz0yLHQuYmxfY291bnRbbF0tLSxwLT0yfXdoaWxlKHA+MCk7Zm9yKF89bDswIT09XztfLS0pZm9yKGM9dC5ibF9jb3VudFtfXTswIT09YzspdT10LmhlYXBbLS1oXSx1Pm58fChyWzIqdSsxXSE9PV8mJih0Lm9wdF9sZW4rPShfLXJbMip1KzFdKSpyWzIqdV0sclsyKnUrMV09XyksYy0tKX19LEc9KHQsZSxyKT0+e2NvbnN0IG49bmV3IEFycmF5KHkrMSk7bGV0IGksYSxzPTA7Zm9yKGk9MTtpPD15O2krKylzPXMrcltpLTFdPDwxLG5baV09cztmb3IoYT0wO2E8PWU7YSsrKXtsZXQgZT10WzIqYSsxXTswIT09ZSYmKHRbMiphXT0kKG5bZV0rKyxlKSl9fSxXPSgpPT57bGV0IHQsZSxyLG4saTtjb25zdCBhPW5ldyBBcnJheSh5KzEpO2ZvcihyPTAsbj0wO248dS0xO24rKylmb3IoVVtuXT1yLHQ9MDt0PDE8PHpbbl07dCsrKURbcisrXT1uO2ZvcihEW3ItMV09bixpPTAsbj0wO248MTY7bisrKWZvcihDW25dPWksdD0wO3Q8MTw8QVtuXTt0KyspUltpKytdPW47Zm9yKGk+Pj03O248ZjtuKyspZm9yKENbbl09aTw8Nyx0PTA7dDwxPDxBW25dLTc7dCsrKVJbMjU2K2krK109bjtmb3IoZT0wO2U8PXk7ZSsrKWFbZV09MDtmb3IodD0wO3Q8PTE0MzspTFsyKnQrMV09OCx0KyssYVs4XSsrO2Zvcig7dDw9MjU1OylMWzIqdCsxXT05LHQrKyxhWzldKys7Zm9yKDt0PD0yNzk7KUxbMip0KzFdPTcsdCsrLGFbN10rKztmb3IoO3Q8PTI4NzspTFsyKnQrMV09OCx0KyssYVs4XSsrO2ZvcihHKEwsZCsxLGEpLHQ9MDt0PGY7dCsrKU9bMip0KzFdPTUsT1syKnRdPSQodCw1KTtGPW5ldyBUKEwseixfKzEsZCx5KSxIPW5ldyBUKE8sQSwwLGYseSksWj1uZXcgVChuZXcgQXJyYXkoMCksRSwwLHAsdil9LFk9dD0+e2xldCBlO2ZvcihlPTA7ZTxkO2UrKyl0LmR5bl9sdHJlZVsyKmVdPTA7Zm9yKGU9MDtlPGY7ZSsrKXQuZHluX2R0cmVlWzIqZV09MDtmb3IoZT0wO2U8cDtlKyspdC5ibF90cmVlWzIqZV09MDt0LmR5bl9sdHJlZVsyKm1dPTEsdC5vcHRfbGVuPXQuc3RhdGljX2xlbj0wLHQuc3ltX25leHQ9dC5tYXRjaGVzPTB9LHE9dD0+e3QuYmlfdmFsaWQ+OD9JKHQsdC5iaV9idWYpOnQuYmlfdmFsaWQ+MCYmKHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPXQuYmlfYnVmKSx0LmJpX2J1Zj0wLHQuYmlfdmFsaWQ9MH0sVj0odCxlLHIsbik9Pntjb25zdCBpPTIqZSxhPTIqcjtyZXR1cm4gdFtpXTx0W2FdfHx0W2ldPT09dFthXSYmbltlXTw9bltyXX0sUT0odCxlLHIpPT57Y29uc3Qgbj10LmhlYXBbcl07bGV0IGk9cjw8MTtmb3IoO2k8PXQuaGVhcF9sZW4mJihpPHQuaGVhcF9sZW4mJlYoZSx0LmhlYXBbaSsxXSx0LmhlYXBbaV0sdC5kZXB0aCkmJmkrKywhVihlLG4sdC5oZWFwW2ldLHQuZGVwdGgpKTspdC5oZWFwW3JdPXQuaGVhcFtpXSxyPWksaTw8PTE7dC5oZWFwW3JdPW59LEo9KHQsZSxyKT0+e2xldCBuLGksYSxzLG89MDtpZigwIT09dC5zeW1fbmV4dClkb3tuPTI1NSZ0LnBlbmRpbmdfYnVmW3Quc3ltX2J1ZitvKytdLG4rPSgyNTUmdC5wZW5kaW5nX2J1Zlt0LnN5bV9idWYrbysrXSk8PDgsaT10LnBlbmRpbmdfYnVmW3Quc3ltX2J1ZitvKytdLDA9PT1uP2oodCxpLGUpOihhPURbaV0saih0LGErXysxLGUpLHM9elthXSwwIT09cyYmKGktPVVbYV0sUCh0LGkscykpLG4tLSxhPU4obiksaih0LGEscikscz1BW2FdLDAhPT1zJiYobi09Q1thXSxQKHQsbixzKSkpfXdoaWxlKG88dC5zeW1fbmV4dCk7aih0LG0sZSl9LHR0PSh0LGUpPT57Y29uc3Qgcj1lLmR5bl90cmVlLG49ZS5zdGF0X2Rlc2Muc3RhdGljX3RyZWUsaT1lLnN0YXRfZGVzYy5oYXNfc3RyZWUsYT1lLnN0YXRfZGVzYy5lbGVtcztsZXQgcyxvLGwsaD0tMTtmb3IodC5oZWFwX2xlbj0wLHQuaGVhcF9tYXg9ZyxzPTA7czxhO3MrKykwIT09clsyKnNdPyh0LmhlYXBbKyt0LmhlYXBfbGVuXT1oPXMsdC5kZXB0aFtzXT0wKTpyWzIqcysxXT0wO2Zvcig7dC5oZWFwX2xlbjwyOylsPXQuaGVhcFsrK3QuaGVhcF9sZW5dPWg8Mj8rK2g6MCxyWzIqbF09MSx0LmRlcHRoW2xdPTAsdC5vcHRfbGVuLS0saSYmKHQuc3RhdGljX2xlbi09blsyKmwrMV0pO2ZvcihlLm1heF9jb2RlPWgscz10LmhlYXBfbGVuPj4xO3M+PTE7cy0tKVEodCxyLHMpO2w9YTtkb3tzPXQuaGVhcFsxXSx0LmhlYXBbMV09dC5oZWFwW3QuaGVhcF9sZW4tLV0sUSh0LHIsMSksbz10LmhlYXBbMV0sdC5oZWFwWy0tdC5oZWFwX21heF09cyx0LmhlYXBbLS10LmhlYXBfbWF4XT1vLHJbMipsXT1yWzIqc10rclsyKm9dLHQuZGVwdGhbbF09KHQuZGVwdGhbc10+PXQuZGVwdGhbb10/dC5kZXB0aFtzXTp0LmRlcHRoW29dKSsxLHJbMipzKzFdPXJbMipvKzFdPWwsdC5oZWFwWzFdPWwrKyxRKHQsciwxKX13aGlsZSh0LmhlYXBfbGVuPj0yKTt0LmhlYXBbLS10LmhlYXBfbWF4XT10LmhlYXBbMV0sWCh0LGUpLEcocixoLHQuYmxfY291bnQpfSxldD0odCxlLHIpPT57bGV0IG4saSxhPS0xLHM9ZVsxXSxvPTAsbD03LGg9NDtmb3IoMD09PXMmJihsPTEzOCxoPTMpLGVbMioocisxKSsxXT02NTUzNSxuPTA7bjw9cjtuKyspaT1zLHM9ZVsyKihuKzEpKzFdLCsrbzxsJiZpPT09c3x8KG88aD90LmJsX3RyZWVbMippXSs9bzowIT09aT8oaSE9PWEmJnQuYmxfdHJlZVsyKmldKyssdC5ibF90cmVlWzIqYl0rKyk6bzw9MTA/dC5ibF90cmVlWzIqeF0rKzp0LmJsX3RyZWVbMiprXSsrLG89MCxhPWksMD09PXM/KGw9MTM4LGg9Myk6aT09PXM/KGw9NixoPTMpOihsPTcsaD00KSl9LHJ0PSh0LGUscik9PntsZXQgbixpLGE9LTEscz1lWzFdLG89MCxsPTcsaD00O2ZvcigwPT09cyYmKGw9MTM4LGg9Myksbj0wO248PXI7bisrKWlmKGk9cyxzPWVbMioobisxKSsxXSwhKCsrbzxsJiZpPT09cykpe2lmKG88aClkb3tqKHQsaSx0LmJsX3RyZWUpfXdoaWxlKDAhPS0tbyk7ZWxzZSAwIT09aT8oaSE9PWEmJihqKHQsaSx0LmJsX3RyZWUpLG8tLSksaih0LGIsdC5ibF90cmVlKSxQKHQsby0zLDIpKTpvPD0xMD8oaih0LHgsdC5ibF90cmVlKSxQKHQsby0zLDMpKTooaih0LGssdC5ibF90cmVlKSxQKHQsby0xMSw3KSk7bz0wLGE9aSwwPT09cz8obD0xMzgsaD0zKTppPT09cz8obD02LGg9Myk6KGw9NyxoPTQpfX0sbnQ9dD0+e2xldCBlO2ZvcihldCh0LHQuZHluX2x0cmVlLHQubF9kZXNjLm1heF9jb2RlKSxldCh0LHQuZHluX2R0cmVlLHQuZF9kZXNjLm1heF9jb2RlKSx0dCh0LHQuYmxfZGVzYyksZT1wLTE7ZT49MyYmMD09PXQuYmxfdHJlZVsyKlNbZV0rMV07ZS0tKTtyZXR1cm4gdC5vcHRfbGVuKz0zKihlKzEpKzUrNSs0LGV9LGl0PSh0LGUscixuKT0+e2xldCBpO2ZvcihQKHQsZS0yNTcsNSksUCh0LHItMSw1KSxQKHQsbi00LDQpLGk9MDtpPG47aSsrKVAodCx0LmJsX3RyZWVbMipTW2ldKzFdLDMpO3J0KHQsdC5keW5fbHRyZWUsZS0xKSxydCh0LHQuZHluX2R0cmVlLHItMSl9LGF0PXQ9PntsZXQgZSxpPTQwOTM2MjQ0NDc7Zm9yKGU9MDtlPD0zMTtlKyssaT4+Pj0xKWlmKDEmaSYmMCE9PXQuZHluX2x0cmVlWzIqZV0pcmV0dXJuIHI7aWYoMCE9PXQuZHluX2x0cmVlWzE4XXx8MCE9PXQuZHluX2x0cmVlWzIwXXx8MCE9PXQuZHluX2x0cmVlWzI2XSlyZXR1cm4gbjtmb3IoZT0zMjtlPF87ZSsrKWlmKDAhPT10LmR5bl9sdHJlZVsyKmVdKXJldHVybiBuO3JldHVybiByfTtsZXQgc3Q9ITE7Y29uc3Qgb3Q9KHQsZSxyLG4pPT57UCh0LChzPDwxKSsobj8xOjApLDMpLHEodCksSSh0LHIpLEkodCx+ciksciYmdC5wZW5kaW5nX2J1Zi5zZXQodC53aW5kb3cuc3ViYXJyYXkoZSxlK3IpLHQucGVuZGluZyksdC5wZW5kaW5nKz1yfSxsdD0odCxyLG4sYSk9PntsZXQgcyxoLGM9MDt0LmxldmVsPjA/KHQuc3RybS5kYXRhX3R5cGU9PT1pJiYodC5zdHJtLmRhdGFfdHlwZT1hdCh0KSksdHQodCx0LmxfZGVzYyksdHQodCx0LmRfZGVzYyksYz1udCh0KSxzPXQub3B0X2xlbiszKzc+Pj4zLGg9dC5zdGF0aWNfbGVuKzMrNz4+PjMsaDw9cyYmKHM9aCkpOnM9aD1uKzUsbis0PD1zJiYtMSE9PXI/b3QodCxyLG4sYSk6dC5zdHJhdGVneT09PWV8fGg9PT1zPyhQKHQsKG88PDEpKyhhPzE6MCksMyksSih0LEwsTykpOihQKHQsKGw8PDEpKyhhPzE6MCksMyksaXQodCx0LmxfZGVzYy5tYXhfY29kZSsxLHQuZF9kZXNjLm1heF9jb2RlKzEsYysxKSxKKHQsdC5keW5fbHRyZWUsdC5keW5fZHRyZWUpKSxZKHQpLGEmJnEodCl9O3ZhciBodD17X3RyX2luaXQ6dD0+e3N0fHwoVygpLHN0PSEwKSx0LmxfZGVzYz1uZXcgTSh0LmR5bl9sdHJlZSxGKSx0LmRfZGVzYz1uZXcgTSh0LmR5bl9kdHJlZSxIKSx0LmJsX2Rlc2M9bmV3IE0odC5ibF90cmVlLFopLHQuYmlfYnVmPTAsdC5iaV92YWxpZD0wLFkodCl9LF90cl9zdG9yZWRfYmxvY2s6b3QsX3RyX2ZsdXNoX2Jsb2NrOmx0LF90cl90YWxseToodCxlLHIpPT4odC5wZW5kaW5nX2J1Zlt0LnN5bV9idWYrdC5zeW1fbmV4dCsrXT1lLHQucGVuZGluZ19idWZbdC5zeW1fYnVmK3Quc3ltX25leHQrK109ZT4+OCx0LnBlbmRpbmdfYnVmW3Quc3ltX2J1Zit0LnN5bV9uZXh0KytdPXIsMD09PWU/dC5keW5fbHRyZWVbMipyXSsrOih0Lm1hdGNoZXMrKyxlLS0sdC5keW5fbHRyZWVbMiooRFtyXStfKzEpXSsrLHQuZHluX2R0cmVlWzIqTihlKV0rKyksdC5zeW1fbmV4dD09PXQuc3ltX2VuZCksX3RyX2FsaWduOnQ9PntQKHQsbzw8MSwzKSxqKHQsbSxMKSxLKHQpfX0sY3Q9KHQsZSxyLG4pPT57bGV0IGk9NjU1MzUmdCxhPXQ+Pj4xNiY2NTUzNSxzPTA7Zm9yKDswIT09cjspe3M9cj4yZTM/MmUzOnIsci09cztkb3tpPWkrZVtuKytdfDAsYT1hK2l8MH13aGlsZSgtLXMpO2klPTY1NTIxLGElPTY1NTIxfXJldHVybiBpfGE8PDE2fTtjb25zdCB1dD1uZXcgVWludDMyQXJyYXkoKCgpPT57bGV0IHQsZT1bXTtmb3IodmFyIHI9MDtyPDI1NjtyKyspe3Q9cjtmb3IodmFyIG49MDtuPDg7bisrKXQ9MSZ0PzM5ODgyOTIzODRedD4+PjE6dD4+PjE7ZVtyXT10fXJldHVybiBlfSkoKSk7dmFyIF90PSh0LGUscixuKT0+e2NvbnN0IGk9dXQsYT1uK3I7dF49LTE7Zm9yKGxldCByPW47cjxhO3IrKyl0PXQ+Pj44XmlbMjU1Jih0XmVbcl0pXTtyZXR1cm5+dH0sZHQ9ezI6Im5lZWQgZGljdGlvbmFyeSIsMToic3RyZWFtIGVuZCIsMDoiIiwiLTEiOiJmaWxlIGVycm9yIiwiLTIiOiJzdHJlYW0gZXJyb3IiLCItMyI6ImRhdGEgZXJyb3IiLCItNCI6Imluc3VmZmljaWVudCBtZW1vcnkiLCItNSI6ImJ1ZmZlciBlcnJvciIsIi02IjoiaW5jb21wYXRpYmxlIHZlcnNpb24ifSxmdD17Wl9OT19GTFVTSDowLFpfUEFSVElBTF9GTFVTSDoxLFpfU1lOQ19GTFVTSDoyLFpfRlVMTF9GTFVTSDozLFpfRklOSVNIOjQsWl9CTE9DSzo1LFpfVFJFRVM6NixaX09LOjAsWl9TVFJFQU1fRU5EOjEsWl9ORUVEX0RJQ1Q6MixaX0VSUk5POi0xLFpfU1RSRUFNX0VSUk9SOi0yLFpfREFUQV9FUlJPUjotMyxaX01FTV9FUlJPUjotNCxaX0JVRl9FUlJPUjotNSxaX05PX0NPTVBSRVNTSU9OOjAsWl9CRVNUX1NQRUVEOjEsWl9CRVNUX0NPTVBSRVNTSU9OOjksWl9ERUZBVUxUX0NPTVBSRVNTSU9OOi0xLFpfRklMVEVSRUQ6MSxaX0hVRkZNQU5fT05MWToyLFpfUkxFOjMsWl9GSVhFRDo0LFpfREVGQVVMVF9TVFJBVEVHWTowLFpfQklOQVJZOjAsWl9URVhUOjEsWl9VTktOT1dOOjIsWl9ERUZMQVRFRDo4fTtjb25zdHtfdHJfaW5pdDpwdCxfdHJfc3RvcmVkX2Jsb2NrOmd0LF90cl9mbHVzaF9ibG9jazp5dCxfdHJfdGFsbHk6d3QsX3RyX2FsaWduOnZ0fT1odCx7Wl9OT19GTFVTSDptdCxaX1BBUlRJQUxfRkxVU0g6YnQsWl9GVUxMX0ZMVVNIOnh0LFpfRklOSVNIOmt0LFpfQkxPQ0s6enQsWl9PSzpBdCxaX1NUUkVBTV9FTkQ6RXQsWl9TVFJFQU1fRVJST1I6U3QsWl9EQVRBX0VSUk9SOkJ0LFpfQlVGX0VSUk9SOkx0LFpfREVGQVVMVF9DT01QUkVTU0lPTjpPdCxaX0ZJTFRFUkVEOlJ0LFpfSFVGRk1BTl9PTkxZOkR0LFpfUkxFOlV0LFpfRklYRUQ6Q3QsWl9ERUZBVUxUX1NUUkFURUdZOlR0LFpfVU5LTk9XTjpGdCxaX0RFRkxBVEVEOkh0fT1mdCxadD05LE10PTE1LE50PTgsSXQ9Mjg2LFB0PTMwLGp0PTE5LCR0PTIqSXQrMSxLdD0xNSxYdD0zLEd0PTI1OCxXdD1HdCtYdCsxLFl0PTMyLHF0PTQyLFZ0PTU3LFF0PTY5LEp0PTczLHRlPTkxLGVlPTEwMyxyZT0xMTMsbmU9NjY2LGllPTEsYWU9MixzZT0zLG9lPTQsbGU9MyxoZT0odCxlKT0+KHQubXNnPWR0W2VdLGUpLGNlPXQ9PjIqdC0odD40Pzk6MCksdWU9dD0+e2xldCBlPXQubGVuZ3RoO2Zvcig7LS1lPj0wOyl0W2VdPTB9LF9lPXQ9PntsZXQgZSxyLG4saT10Lndfc2l6ZTtlPXQuaGFzaF9zaXplLG49ZTtkb3tyPXQuaGVhZFstLW5dLHQuaGVhZFtuXT1yPj1pP3ItaTowfXdoaWxlKC0tZSk7ZT1pLG49ZTtkb3tyPXQucHJldlstLW5dLHQucHJldltuXT1yPj1pP3ItaTowfXdoaWxlKC0tZSl9O2xldCBkZT0odCxlLHIpPT4oZTw8dC5oYXNoX3NoaWZ0XnIpJnQuaGFzaF9tYXNrO2NvbnN0IGZlPXQ9Pntjb25zdCBlPXQuc3RhdGU7bGV0IHI9ZS5wZW5kaW5nO3I+dC5hdmFpbF9vdXQmJihyPXQuYXZhaWxfb3V0KSwwIT09ciYmKHQub3V0cHV0LnNldChlLnBlbmRpbmdfYnVmLnN1YmFycmF5KGUucGVuZGluZ19vdXQsZS5wZW5kaW5nX291dCtyKSx0Lm5leHRfb3V0KSx0Lm5leHRfb3V0Kz1yLGUucGVuZGluZ19vdXQrPXIsdC50b3RhbF9vdXQrPXIsdC5hdmFpbF9vdXQtPXIsZS5wZW5kaW5nLT1yLDA9PT1lLnBlbmRpbmcmJihlLnBlbmRpbmdfb3V0PTApKX0scGU9KHQsZSk9Pnt5dCh0LHQuYmxvY2tfc3RhcnQ+PTA/dC5ibG9ja19zdGFydDotMSx0LnN0cnN0YXJ0LXQuYmxvY2tfc3RhcnQsZSksdC5ibG9ja19zdGFydD10LnN0cnN0YXJ0LGZlKHQuc3RybSl9LGdlPSh0LGUpPT57dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZX0seWU9KHQsZSk9Pnt0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXT1lPj4+OCYyNTUsdC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109MjU1JmV9LHdlPSh0LGUscixuKT0+e2xldCBpPXQuYXZhaWxfaW47cmV0dXJuIGk+biYmKGk9biksMD09PWk/MDoodC5hdmFpbF9pbi09aSxlLnNldCh0LmlucHV0LnN1YmFycmF5KHQubmV4dF9pbix0Lm5leHRfaW4raSksciksMT09PXQuc3RhdGUud3JhcD90LmFkbGVyPWN0KHQuYWRsZXIsZSxpLHIpOjI9PT10LnN0YXRlLndyYXAmJih0LmFkbGVyPV90KHQuYWRsZXIsZSxpLHIpKSx0Lm5leHRfaW4rPWksdC50b3RhbF9pbis9aSxpKX0sdmU9KHQsZSk9PntsZXQgcixuLGk9dC5tYXhfY2hhaW5fbGVuZ3RoLGE9dC5zdHJzdGFydCxzPXQucHJldl9sZW5ndGgsbz10Lm5pY2VfbWF0Y2g7Y29uc3QgbD10LnN0cnN0YXJ0PnQud19zaXplLVd0P3Quc3Ryc3RhcnQtKHQud19zaXplLVd0KTowLGg9dC53aW5kb3csYz10LndfbWFzayx1PXQucHJldixfPXQuc3Ryc3RhcnQrR3Q7bGV0IGQ9aFthK3MtMV0sZj1oW2Erc107dC5wcmV2X2xlbmd0aD49dC5nb29kX21hdGNoJiYoaT4+PTIpLG8+dC5sb29rYWhlYWQmJihvPXQubG9va2FoZWFkKTtkb3tpZihyPWUsaFtyK3NdPT09ZiYmaFtyK3MtMV09PT1kJiZoW3JdPT09aFthXSYmaFsrK3JdPT09aFthKzFdKXthKz0yLHIrKztkb3t9d2hpbGUoaFsrK2FdPT09aFsrK3JdJiZoWysrYV09PT1oWysrcl0mJmhbKythXT09PWhbKytyXSYmaFsrK2FdPT09aFsrK3JdJiZoWysrYV09PT1oWysrcl0mJmhbKythXT09PWhbKytyXSYmaFsrK2FdPT09aFsrK3JdJiZoWysrYV09PT1oWysrcl0mJmE8Xyk7aWYobj1HdC0oXy1hKSxhPV8tR3Qsbj5zKXtpZih0Lm1hdGNoX3N0YXJ0PWUscz1uLG4+PW8pYnJlYWs7ZD1oW2Ercy0xXSxmPWhbYStzXX19fXdoaWxlKChlPXVbZSZjXSk+bCYmMCE9LS1pKTtyZXR1cm4gczw9dC5sb29rYWhlYWQ/czp0Lmxvb2thaGVhZH0sbWU9dD0+e2NvbnN0IGU9dC53X3NpemU7bGV0IHIsbixpO2Rve2lmKG49dC53aW5kb3dfc2l6ZS10Lmxvb2thaGVhZC10LnN0cnN0YXJ0LHQuc3Ryc3RhcnQ+PWUrKGUtV3QpJiYodC53aW5kb3cuc2V0KHQud2luZG93LnN1YmFycmF5KGUsZStlLW4pLDApLHQubWF0Y2hfc3RhcnQtPWUsdC5zdHJzdGFydC09ZSx0LmJsb2NrX3N0YXJ0LT1lLHQuaW5zZXJ0PnQuc3Ryc3RhcnQmJih0Lmluc2VydD10LnN0cnN0YXJ0KSxfZSh0KSxuKz1lKSwwPT09dC5zdHJtLmF2YWlsX2luKWJyZWFrO2lmKHI9d2UodC5zdHJtLHQud2luZG93LHQuc3Ryc3RhcnQrdC5sb29rYWhlYWQsbiksdC5sb29rYWhlYWQrPXIsdC5sb29rYWhlYWQrdC5pbnNlcnQ+PVh0KWZvcihpPXQuc3Ryc3RhcnQtdC5pbnNlcnQsdC5pbnNfaD10LndpbmRvd1tpXSx0Lmluc19oPWRlKHQsdC5pbnNfaCx0LndpbmRvd1tpKzFdKTt0Lmluc2VydCYmKHQuaW5zX2g9ZGUodCx0Lmluc19oLHQud2luZG93W2krWHQtMV0pLHQucHJldltpJnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPWksaSsrLHQuaW5zZXJ0LS0sISh0Lmxvb2thaGVhZCt0Lmluc2VydDxYdCkpOyk7fXdoaWxlKHQubG9va2FoZWFkPFd0JiYwIT09dC5zdHJtLmF2YWlsX2luKX0sYmU9KHQsZSk9PntsZXQgcixuLGksYT10LnBlbmRpbmdfYnVmX3NpemUtNT50Lndfc2l6ZT90Lndfc2l6ZTp0LnBlbmRpbmdfYnVmX3NpemUtNSxzPTAsbz10LnN0cm0uYXZhaWxfaW47ZG97aWYocj02NTUzNSxpPXQuYmlfdmFsaWQrNDI+PjMsdC5zdHJtLmF2YWlsX291dDxpKWJyZWFrO2lmKGk9dC5zdHJtLmF2YWlsX291dC1pLG49dC5zdHJzdGFydC10LmJsb2NrX3N0YXJ0LHI+bit0LnN0cm0uYXZhaWxfaW4mJihyPW4rdC5zdHJtLmF2YWlsX2luKSxyPmkmJihyPWkpLHI8YSYmKDA9PT1yJiZlIT09a3R8fGU9PT1tdHx8ciE9PW4rdC5zdHJtLmF2YWlsX2luKSlicmVhaztzPWU9PT1rdCYmcj09PW4rdC5zdHJtLmF2YWlsX2luPzE6MCxndCh0LDAsMCxzKSx0LnBlbmRpbmdfYnVmW3QucGVuZGluZy00XT1yLHQucGVuZGluZ19idWZbdC5wZW5kaW5nLTNdPXI+PjgsdC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmctMl09fnIsdC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmctMV09fnI+PjgsZmUodC5zdHJtKSxuJiYobj5yJiYobj1yKSx0LnN0cm0ub3V0cHV0LnNldCh0LndpbmRvdy5zdWJhcnJheSh0LmJsb2NrX3N0YXJ0LHQuYmxvY2tfc3RhcnQrbiksdC5zdHJtLm5leHRfb3V0KSx0LnN0cm0ubmV4dF9vdXQrPW4sdC5zdHJtLmF2YWlsX291dC09bix0LnN0cm0udG90YWxfb3V0Kz1uLHQuYmxvY2tfc3RhcnQrPW4sci09biksciYmKHdlKHQuc3RybSx0LnN0cm0ub3V0cHV0LHQuc3RybS5uZXh0X291dCxyKSx0LnN0cm0ubmV4dF9vdXQrPXIsdC5zdHJtLmF2YWlsX291dC09cix0LnN0cm0udG90YWxfb3V0Kz1yKX13aGlsZSgwPT09cyk7cmV0dXJuIG8tPXQuc3RybS5hdmFpbF9pbixvJiYobz49dC53X3NpemU/KHQubWF0Y2hlcz0yLHQud2luZG93LnNldCh0LnN0cm0uaW5wdXQuc3ViYXJyYXkodC5zdHJtLm5leHRfaW4tdC53X3NpemUsdC5zdHJtLm5leHRfaW4pLDApLHQuc3Ryc3RhcnQ9dC53X3NpemUsdC5pbnNlcnQ9dC5zdHJzdGFydCk6KHQud2luZG93X3NpemUtdC5zdHJzdGFydDw9byYmKHQuc3Ryc3RhcnQtPXQud19zaXplLHQud2luZG93LnNldCh0LndpbmRvdy5zdWJhcnJheSh0Lndfc2l6ZSx0Lndfc2l6ZSt0LnN0cnN0YXJ0KSwwKSx0Lm1hdGNoZXM8MiYmdC5tYXRjaGVzKyssdC5pbnNlcnQ+dC5zdHJzdGFydCYmKHQuaW5zZXJ0PXQuc3Ryc3RhcnQpKSx0LndpbmRvdy5zZXQodC5zdHJtLmlucHV0LnN1YmFycmF5KHQuc3RybS5uZXh0X2luLW8sdC5zdHJtLm5leHRfaW4pLHQuc3Ryc3RhcnQpLHQuc3Ryc3RhcnQrPW8sdC5pbnNlcnQrPW8+dC53X3NpemUtdC5pbnNlcnQ/dC53X3NpemUtdC5pbnNlcnQ6byksdC5ibG9ja19zdGFydD10LnN0cnN0YXJ0KSx0LmhpZ2hfd2F0ZXI8dC5zdHJzdGFydCYmKHQuaGlnaF93YXRlcj10LnN0cnN0YXJ0KSxzP29lOmUhPT1tdCYmZSE9PWt0JiYwPT09dC5zdHJtLmF2YWlsX2luJiZ0LnN0cnN0YXJ0PT09dC5ibG9ja19zdGFydD9hZTooaT10LndpbmRvd19zaXplLXQuc3Ryc3RhcnQsdC5zdHJtLmF2YWlsX2luPmkmJnQuYmxvY2tfc3RhcnQ+PXQud19zaXplJiYodC5ibG9ja19zdGFydC09dC53X3NpemUsdC5zdHJzdGFydC09dC53X3NpemUsdC53aW5kb3cuc2V0KHQud2luZG93LnN1YmFycmF5KHQud19zaXplLHQud19zaXplK3Quc3Ryc3RhcnQpLDApLHQubWF0Y2hlczwyJiZ0Lm1hdGNoZXMrKyxpKz10Lndfc2l6ZSx0Lmluc2VydD50LnN0cnN0YXJ0JiYodC5pbnNlcnQ9dC5zdHJzdGFydCkpLGk+dC5zdHJtLmF2YWlsX2luJiYoaT10LnN0cm0uYXZhaWxfaW4pLGkmJih3ZSh0LnN0cm0sdC53aW5kb3csdC5zdHJzdGFydCxpKSx0LnN0cnN0YXJ0Kz1pLHQuaW5zZXJ0Kz1pPnQud19zaXplLXQuaW5zZXJ0P3Qud19zaXplLXQuaW5zZXJ0OmkpLHQuaGlnaF93YXRlcjx0LnN0cnN0YXJ0JiYodC5oaWdoX3dhdGVyPXQuc3Ryc3RhcnQpLGk9dC5iaV92YWxpZCs0Mj4+MyxpPXQucGVuZGluZ19idWZfc2l6ZS1pPjY1NTM1PzY1NTM1OnQucGVuZGluZ19idWZfc2l6ZS1pLGE9aT50Lndfc2l6ZT90Lndfc2l6ZTppLG49dC5zdHJzdGFydC10LmJsb2NrX3N0YXJ0LChuPj1hfHwobnx8ZT09PWt0KSYmZSE9PW10JiYwPT09dC5zdHJtLmF2YWlsX2luJiZuPD1pKSYmKHI9bj5pP2k6bixzPWU9PT1rdCYmMD09PXQuc3RybS5hdmFpbF9pbiYmcj09PW4/MTowLGd0KHQsdC5ibG9ja19zdGFydCxyLHMpLHQuYmxvY2tfc3RhcnQrPXIsZmUodC5zdHJtKSkscz9zZTppZSl9LHhlPSh0LGUpPT57bGV0IHIsbjtmb3IoOzspe2lmKHQubG9va2FoZWFkPFd0KXtpZihtZSh0KSx0Lmxvb2thaGVhZDxXdCYmZT09PW10KXJldHVybiBpZTtpZigwPT09dC5sb29rYWhlYWQpYnJlYWt9aWYocj0wLHQubG9va2FoZWFkPj1YdCYmKHQuaW5zX2g9ZGUodCx0Lmluc19oLHQud2luZG93W3Quc3Ryc3RhcnQrWHQtMV0pLHI9dC5wcmV2W3Quc3Ryc3RhcnQmdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09dC5zdHJzdGFydCksMCE9PXImJnQuc3Ryc3RhcnQtcjw9dC53X3NpemUtV3QmJih0Lm1hdGNoX2xlbmd0aD12ZSh0LHIpKSx0Lm1hdGNoX2xlbmd0aD49WHQpaWYobj13dCh0LHQuc3Ryc3RhcnQtdC5tYXRjaF9zdGFydCx0Lm1hdGNoX2xlbmd0aC1YdCksdC5sb29rYWhlYWQtPXQubWF0Y2hfbGVuZ3RoLHQubWF0Y2hfbGVuZ3RoPD10Lm1heF9sYXp5X21hdGNoJiZ0Lmxvb2thaGVhZD49WHQpe3QubWF0Y2hfbGVuZ3RoLS07ZG97dC5zdHJzdGFydCsrLHQuaW5zX2g9ZGUodCx0Lmluc19oLHQud2luZG93W3Quc3Ryc3RhcnQrWHQtMV0pLHI9dC5wcmV2W3Quc3Ryc3RhcnQmdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09dC5zdHJzdGFydH13aGlsZSgwIT0tLXQubWF0Y2hfbGVuZ3RoKTt0LnN0cnN0YXJ0Kyt9ZWxzZSB0LnN0cnN0YXJ0Kz10Lm1hdGNoX2xlbmd0aCx0Lm1hdGNoX2xlbmd0aD0wLHQuaW5zX2g9dC53aW5kb3dbdC5zdHJzdGFydF0sdC5pbnNfaD1kZSh0LHQuaW5zX2gsdC53aW5kb3dbdC5zdHJzdGFydCsxXSk7ZWxzZSBuPXd0KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0XSksdC5sb29rYWhlYWQtLSx0LnN0cnN0YXJ0Kys7aWYobiYmKHBlKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gaWV9cmV0dXJuIHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8WHQtMT90LnN0cnN0YXJ0Olh0LTEsZT09PWt0PyhwZSh0LCEwKSwwPT09dC5zdHJtLmF2YWlsX291dD9zZTpvZSk6dC5zeW1fbmV4dCYmKHBlKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KT9pZTphZX0sa2U9KHQsZSk9PntsZXQgcixuLGk7Zm9yKDs7KXtpZih0Lmxvb2thaGVhZDxXdCl7aWYobWUodCksdC5sb29rYWhlYWQ8V3QmJmU9PT1tdClyZXR1cm4gaWU7aWYoMD09PXQubG9va2FoZWFkKWJyZWFrfWlmKHI9MCx0Lmxvb2thaGVhZD49WHQmJih0Lmluc19oPWRlKHQsdC5pbnNfaCx0LndpbmRvd1t0LnN0cnN0YXJ0K1h0LTFdKSxyPXQucHJldlt0LnN0cnN0YXJ0JnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPXQuc3Ryc3RhcnQpLHQucHJldl9sZW5ndGg9dC5tYXRjaF9sZW5ndGgsdC5wcmV2X21hdGNoPXQubWF0Y2hfc3RhcnQsdC5tYXRjaF9sZW5ndGg9WHQtMSwwIT09ciYmdC5wcmV2X2xlbmd0aDx0Lm1heF9sYXp5X21hdGNoJiZ0LnN0cnN0YXJ0LXI8PXQud19zaXplLVd0JiYodC5tYXRjaF9sZW5ndGg9dmUodCxyKSx0Lm1hdGNoX2xlbmd0aDw9NSYmKHQuc3RyYXRlZ3k9PT1SdHx8dC5tYXRjaF9sZW5ndGg9PT1YdCYmdC5zdHJzdGFydC10Lm1hdGNoX3N0YXJ0PjQwOTYpJiYodC5tYXRjaF9sZW5ndGg9WHQtMSkpLHQucHJldl9sZW5ndGg+PVh0JiZ0Lm1hdGNoX2xlbmd0aDw9dC5wcmV2X2xlbmd0aCl7aT10LnN0cnN0YXJ0K3QubG9va2FoZWFkLVh0LG49d3QodCx0LnN0cnN0YXJ0LTEtdC5wcmV2X21hdGNoLHQucHJldl9sZW5ndGgtWHQpLHQubG9va2FoZWFkLT10LnByZXZfbGVuZ3RoLTEsdC5wcmV2X2xlbmd0aC09Mjtkb3srK3Quc3Ryc3RhcnQ8PWkmJih0Lmluc19oPWRlKHQsdC5pbnNfaCx0LndpbmRvd1t0LnN0cnN0YXJ0K1h0LTFdKSxyPXQucHJldlt0LnN0cnN0YXJ0JnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPXQuc3Ryc3RhcnQpfXdoaWxlKDAhPS0tdC5wcmV2X2xlbmd0aCk7aWYodC5tYXRjaF9hdmFpbGFibGU9MCx0Lm1hdGNoX2xlbmd0aD1YdC0xLHQuc3Ryc3RhcnQrKyxuJiYocGUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiBpZX1lbHNlIGlmKHQubWF0Y2hfYXZhaWxhYmxlKXtpZihuPXd0KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0LTFdKSxuJiZwZSh0LCExKSx0LnN0cnN0YXJ0KyssdC5sb29rYWhlYWQtLSwwPT09dC5zdHJtLmF2YWlsX291dClyZXR1cm4gaWV9ZWxzZSB0Lm1hdGNoX2F2YWlsYWJsZT0xLHQuc3Ryc3RhcnQrKyx0Lmxvb2thaGVhZC0tfXJldHVybiB0Lm1hdGNoX2F2YWlsYWJsZSYmKG49d3QodCwwLHQud2luZG93W3Quc3Ryc3RhcnQtMV0pLHQubWF0Y2hfYXZhaWxhYmxlPTApLHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8WHQtMT90LnN0cnN0YXJ0Olh0LTEsZT09PWt0PyhwZSh0LCEwKSwwPT09dC5zdHJtLmF2YWlsX291dD9zZTpvZSk6dC5zeW1fbmV4dCYmKHBlKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KT9pZTphZX0semU9KHQsZSk9PntsZXQgcixuLGksYTtjb25zdCBzPXQud2luZG93O2Zvcig7Oyl7aWYodC5sb29rYWhlYWQ8PUd0KXtpZihtZSh0KSx0Lmxvb2thaGVhZDw9R3QmJmU9PT1tdClyZXR1cm4gaWU7aWYoMD09PXQubG9va2FoZWFkKWJyZWFrfWlmKHQubWF0Y2hfbGVuZ3RoPTAsdC5sb29rYWhlYWQ+PVh0JiZ0LnN0cnN0YXJ0PjAmJihpPXQuc3Ryc3RhcnQtMSxuPXNbaV0sbj09PXNbKytpXSYmbj09PXNbKytpXSYmbj09PXNbKytpXSkpe2E9dC5zdHJzdGFydCtHdDtkb3t9d2hpbGUobj09PXNbKytpXSYmbj09PXNbKytpXSYmbj09PXNbKytpXSYmbj09PXNbKytpXSYmbj09PXNbKytpXSYmbj09PXNbKytpXSYmbj09PXNbKytpXSYmbj09PXNbKytpXSYmaTxhKTt0Lm1hdGNoX2xlbmd0aD1HdC0oYS1pKSx0Lm1hdGNoX2xlbmd0aD50Lmxvb2thaGVhZCYmKHQubWF0Y2hfbGVuZ3RoPXQubG9va2FoZWFkKX1pZih0Lm1hdGNoX2xlbmd0aD49WHQ/KHI9d3QodCwxLHQubWF0Y2hfbGVuZ3RoLVh0KSx0Lmxvb2thaGVhZC09dC5tYXRjaF9sZW5ndGgsdC5zdHJzdGFydCs9dC5tYXRjaF9sZW5ndGgsdC5tYXRjaF9sZW5ndGg9MCk6KHI9d3QodCwwLHQud2luZG93W3Quc3Ryc3RhcnRdKSx0Lmxvb2thaGVhZC0tLHQuc3Ryc3RhcnQrKyksciYmKHBlKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gaWV9cmV0dXJuIHQuaW5zZXJ0PTAsZT09PWt0PyhwZSh0LCEwKSwwPT09dC5zdHJtLmF2YWlsX291dD9zZTpvZSk6dC5zeW1fbmV4dCYmKHBlKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KT9pZTphZX0sQWU9KHQsZSk9PntsZXQgcjtmb3IoOzspe2lmKDA9PT10Lmxvb2thaGVhZCYmKG1lKHQpLDA9PT10Lmxvb2thaGVhZCkpe2lmKGU9PT1tdClyZXR1cm4gaWU7YnJlYWt9aWYodC5tYXRjaF9sZW5ndGg9MCxyPXd0KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0XSksdC5sb29rYWhlYWQtLSx0LnN0cnN0YXJ0KyssciYmKHBlKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gaWV9cmV0dXJuIHQuaW5zZXJ0PTAsZT09PWt0PyhwZSh0LCEwKSwwPT09dC5zdHJtLmF2YWlsX291dD9zZTpvZSk6dC5zeW1fbmV4dCYmKHBlKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KT9pZTphZX07ZnVuY3Rpb24gRWUodCxlLHIsbixpKXt0aGlzLmdvb2RfbGVuZ3RoPXQsdGhpcy5tYXhfbGF6eT1lLHRoaXMubmljZV9sZW5ndGg9cix0aGlzLm1heF9jaGFpbj1uLHRoaXMuZnVuYz1pfWNvbnN0IFNlPVtuZXcgRWUoMCwwLDAsMCxiZSksbmV3IEVlKDQsNCw4LDQseGUpLG5ldyBFZSg0LDUsMTYsOCx4ZSksbmV3IEVlKDQsNiwzMiwzMix4ZSksbmV3IEVlKDQsNCwxNiwxNixrZSksbmV3IEVlKDgsMTYsMzIsMzIsa2UpLG5ldyBFZSg4LDE2LDEyOCwxMjgsa2UpLG5ldyBFZSg4LDMyLDEyOCwyNTYsa2UpLG5ldyBFZSgzMiwxMjgsMjU4LDEwMjQsa2UpLG5ldyBFZSgzMiwyNTgsMjU4LDQwOTYsa2UpXSxCZT10PT57dC53aW5kb3dfc2l6ZT0yKnQud19zaXplLHVlKHQuaGVhZCksdC5tYXhfbGF6eV9tYXRjaD1TZVt0LmxldmVsXS5tYXhfbGF6eSx0Lmdvb2RfbWF0Y2g9U2VbdC5sZXZlbF0uZ29vZF9sZW5ndGgsdC5uaWNlX21hdGNoPVNlW3QubGV2ZWxdLm5pY2VfbGVuZ3RoLHQubWF4X2NoYWluX2xlbmd0aD1TZVt0LmxldmVsXS5tYXhfY2hhaW4sdC5zdHJzdGFydD0wLHQuYmxvY2tfc3RhcnQ9MCx0Lmxvb2thaGVhZD0wLHQuaW5zZXJ0PTAsdC5tYXRjaF9sZW5ndGg9dC5wcmV2X2xlbmd0aD1YdC0xLHQubWF0Y2hfYXZhaWxhYmxlPTAsdC5pbnNfaD0wfTtmdW5jdGlvbiBMZSgpe3RoaXMuc3RybT1udWxsLHRoaXMuc3RhdHVzPTAsdGhpcy5wZW5kaW5nX2J1Zj1udWxsLHRoaXMucGVuZGluZ19idWZfc2l6ZT0wLHRoaXMucGVuZGluZ19vdXQ9MCx0aGlzLnBlbmRpbmc9MCx0aGlzLndyYXA9MCx0aGlzLmd6aGVhZD1udWxsLHRoaXMuZ3ppbmRleD0wLHRoaXMubWV0aG9kPUh0LHRoaXMubGFzdF9mbHVzaD0tMSx0aGlzLndfc2l6ZT0wLHRoaXMud19iaXRzPTAsdGhpcy53X21hc2s9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMud2luZG93X3NpemU9MCx0aGlzLnByZXY9bnVsbCx0aGlzLmhlYWQ9bnVsbCx0aGlzLmluc19oPTAsdGhpcy5oYXNoX3NpemU9MCx0aGlzLmhhc2hfYml0cz0wLHRoaXMuaGFzaF9tYXNrPTAsdGhpcy5oYXNoX3NoaWZ0PTAsdGhpcy5ibG9ja19zdGFydD0wLHRoaXMubWF0Y2hfbGVuZ3RoPTAsdGhpcy5wcmV2X21hdGNoPTAsdGhpcy5tYXRjaF9hdmFpbGFibGU9MCx0aGlzLnN0cnN0YXJ0PTAsdGhpcy5tYXRjaF9zdGFydD0wLHRoaXMubG9va2FoZWFkPTAsdGhpcy5wcmV2X2xlbmd0aD0wLHRoaXMubWF4X2NoYWluX2xlbmd0aD0wLHRoaXMubWF4X2xhenlfbWF0Y2g9MCx0aGlzLmxldmVsPTAsdGhpcy5zdHJhdGVneT0wLHRoaXMuZ29vZF9tYXRjaD0wLHRoaXMubmljZV9tYXRjaD0wLHRoaXMuZHluX2x0cmVlPW5ldyBVaW50MTZBcnJheSgyKiR0KSx0aGlzLmR5bl9kdHJlZT1uZXcgVWludDE2QXJyYXkoMiooMipQdCsxKSksdGhpcy5ibF90cmVlPW5ldyBVaW50MTZBcnJheSgyKigyKmp0KzEpKSx1ZSh0aGlzLmR5bl9sdHJlZSksdWUodGhpcy5keW5fZHRyZWUpLHVlKHRoaXMuYmxfdHJlZSksdGhpcy5sX2Rlc2M9bnVsbCx0aGlzLmRfZGVzYz1udWxsLHRoaXMuYmxfZGVzYz1udWxsLHRoaXMuYmxfY291bnQ9bmV3IFVpbnQxNkFycmF5KEt0KzEpLHRoaXMuaGVhcD1uZXcgVWludDE2QXJyYXkoMipJdCsxKSx1ZSh0aGlzLmhlYXApLHRoaXMuaGVhcF9sZW49MCx0aGlzLmhlYXBfbWF4PTAsdGhpcy5kZXB0aD1uZXcgVWludDE2QXJyYXkoMipJdCsxKSx1ZSh0aGlzLmRlcHRoKSx0aGlzLnN5bV9idWY9MCx0aGlzLmxpdF9idWZzaXplPTAsdGhpcy5zeW1fbmV4dD0wLHRoaXMuc3ltX2VuZD0wLHRoaXMub3B0X2xlbj0wLHRoaXMuc3RhdGljX2xlbj0wLHRoaXMubWF0Y2hlcz0wLHRoaXMuaW5zZXJ0PTAsdGhpcy5iaV9idWY9MCx0aGlzLmJpX3ZhbGlkPTB9Y29uc3QgT2U9dD0+e2lmKCF0KXJldHVybiAxO2NvbnN0IGU9dC5zdGF0ZTtyZXR1cm4hZXx8ZS5zdHJtIT09dHx8ZS5zdGF0dXMhPT1xdCYmZS5zdGF0dXMhPT1WdCYmZS5zdGF0dXMhPT1RdCYmZS5zdGF0dXMhPT1KdCYmZS5zdGF0dXMhPT10ZSYmZS5zdGF0dXMhPT1lZSYmZS5zdGF0dXMhPT1yZSYmZS5zdGF0dXMhPT1uZT8xOjB9LFJlPXQ9PntpZihPZSh0KSlyZXR1cm4gaGUodCxTdCk7dC50b3RhbF9pbj10LnRvdGFsX291dD0wLHQuZGF0YV90eXBlPUZ0O2NvbnN0IGU9dC5zdGF0ZTtyZXR1cm4gZS5wZW5kaW5nPTAsZS5wZW5kaW5nX291dD0wLGUud3JhcDwwJiYoZS53cmFwPS1lLndyYXApLGUuc3RhdHVzPTI9PT1lLndyYXA/VnQ6ZS53cmFwP3F0OnJlLHQuYWRsZXI9Mj09PWUud3JhcD8wOjEsZS5sYXN0X2ZsdXNoPS0yLHB0KGUpLEF0fSxEZT10PT57Y29uc3QgZT1SZSh0KTtyZXR1cm4gZT09PUF0JiZCZSh0LnN0YXRlKSxlfSxVZT0odCxlLHIsbixpLGEpPT57aWYoIXQpcmV0dXJuIFN0O2xldCBzPTE7aWYoZT09PU90JiYoZT02KSxuPDA/KHM9MCxuPS1uKTpuPjE1JiYocz0yLG4tPTE2KSxpPDF8fGk+WnR8fHIhPT1IdHx8bjw4fHxuPjE1fHxlPDB8fGU+OXx8YTwwfHxhPkN0fHw4PT09biYmMSE9PXMpcmV0dXJuIGhlKHQsU3QpOzg9PT1uJiYobj05KTtjb25zdCBvPW5ldyBMZTtyZXR1cm4gdC5zdGF0ZT1vLG8uc3RybT10LG8uc3RhdHVzPXF0LG8ud3JhcD1zLG8uZ3poZWFkPW51bGwsby53X2JpdHM9bixvLndfc2l6ZT0xPDxvLndfYml0cyxvLndfbWFzaz1vLndfc2l6ZS0xLG8uaGFzaF9iaXRzPWkrNyxvLmhhc2hfc2l6ZT0xPDxvLmhhc2hfYml0cyxvLmhhc2hfbWFzaz1vLmhhc2hfc2l6ZS0xLG8uaGFzaF9zaGlmdD1+figoby5oYXNoX2JpdHMrWHQtMSkvWHQpLG8ud2luZG93PW5ldyBVaW50OEFycmF5KDIqby53X3NpemUpLG8uaGVhZD1uZXcgVWludDE2QXJyYXkoby5oYXNoX3NpemUpLG8ucHJldj1uZXcgVWludDE2QXJyYXkoby53X3NpemUpLG8ubGl0X2J1ZnNpemU9MTw8aSs2LG8ucGVuZGluZ19idWZfc2l6ZT00Km8ubGl0X2J1ZnNpemUsby5wZW5kaW5nX2J1Zj1uZXcgVWludDhBcnJheShvLnBlbmRpbmdfYnVmX3NpemUpLG8uc3ltX2J1Zj1vLmxpdF9idWZzaXplLG8uc3ltX2VuZD0zKihvLmxpdF9idWZzaXplLTEpLG8ubGV2ZWw9ZSxvLnN0cmF0ZWd5PWEsby5tZXRob2Q9cixEZSh0KX07dmFyIENlPXtkZWZsYXRlSW5pdDoodCxlKT0+VWUodCxlLEh0LE10LE50LFR0KSxkZWZsYXRlSW5pdDI6VWUsZGVmbGF0ZVJlc2V0OkRlLGRlZmxhdGVSZXNldEtlZXA6UmUsZGVmbGF0ZVNldEhlYWRlcjoodCxlKT0+T2UodCl8fDIhPT10LnN0YXRlLndyYXA/U3Q6KHQuc3RhdGUuZ3poZWFkPWUsQXQpLGRlZmxhdGU6KHQsZSk9PntpZihPZSh0KXx8ZT56dHx8ZTwwKXJldHVybiB0P2hlKHQsU3QpOlN0O2NvbnN0IHI9dC5zdGF0ZTtpZighdC5vdXRwdXR8fDAhPT10LmF2YWlsX2luJiYhdC5pbnB1dHx8ci5zdGF0dXM9PT1uZSYmZSE9PWt0KXJldHVybiBoZSh0LDA9PT10LmF2YWlsX291dD9MdDpTdCk7Y29uc3Qgbj1yLmxhc3RfZmx1c2g7aWYoci5sYXN0X2ZsdXNoPWUsMCE9PXIucGVuZGluZyl7aWYoZmUodCksMD09PXQuYXZhaWxfb3V0KXJldHVybiByLmxhc3RfZmx1c2g9LTEsQXR9ZWxzZSBpZigwPT09dC5hdmFpbF9pbiYmY2UoZSk8PWNlKG4pJiZlIT09a3QpcmV0dXJuIGhlKHQsTHQpO2lmKHIuc3RhdHVzPT09bmUmJjAhPT10LmF2YWlsX2luKXJldHVybiBoZSh0LEx0KTtpZihyLnN0YXR1cz09PXF0JiYwPT09ci53cmFwJiYoci5zdGF0dXM9cmUpLHIuc3RhdHVzPT09cXQpe2xldCBlPUh0KyhyLndfYml0cy04PDw0KTw8OCxuPS0xO2lmKG49ci5zdHJhdGVneT49RHR8fHIubGV2ZWw8Mj8wOnIubGV2ZWw8Nj8xOjY9PT1yLmxldmVsPzI6MyxlfD1uPDw2LDAhPT1yLnN0cnN0YXJ0JiYoZXw9WXQpLGUrPTMxLWUlMzEseWUocixlKSwwIT09ci5zdHJzdGFydCYmKHllKHIsdC5hZGxlcj4+PjE2KSx5ZShyLDY1NTM1JnQuYWRsZXIpKSx0LmFkbGVyPTEsci5zdGF0dXM9cmUsZmUodCksMCE9PXIucGVuZGluZylyZXR1cm4gci5sYXN0X2ZsdXNoPS0xLEF0fWlmKHIuc3RhdHVzPT09VnQpaWYodC5hZGxlcj0wLGdlKHIsMzEpLGdlKHIsMTM5KSxnZShyLDgpLHIuZ3poZWFkKWdlKHIsKHIuZ3poZWFkLnRleHQ/MTowKSsoci5nemhlYWQuaGNyYz8yOjApKyhyLmd6aGVhZC5leHRyYT80OjApKyhyLmd6aGVhZC5uYW1lPzg6MCkrKHIuZ3poZWFkLmNvbW1lbnQ/MTY6MCkpLGdlKHIsMjU1JnIuZ3poZWFkLnRpbWUpLGdlKHIsci5nemhlYWQudGltZT4+OCYyNTUpLGdlKHIsci5nemhlYWQudGltZT4+MTYmMjU1KSxnZShyLHIuZ3poZWFkLnRpbWU+PjI0JjI1NSksZ2Uociw5PT09ci5sZXZlbD8yOnIuc3RyYXRlZ3k+PUR0fHxyLmxldmVsPDI/NDowKSxnZShyLDI1NSZyLmd6aGVhZC5vcyksci5nemhlYWQuZXh0cmEmJnIuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKGdlKHIsMjU1JnIuZ3poZWFkLmV4dHJhLmxlbmd0aCksZ2UocixyLmd6aGVhZC5leHRyYS5sZW5ndGg+PjgmMjU1KSksci5nemhlYWQuaGNyYyYmKHQuYWRsZXI9X3QodC5hZGxlcixyLnBlbmRpbmdfYnVmLHIucGVuZGluZywwKSksci5nemluZGV4PTAsci5zdGF0dXM9UXQ7ZWxzZSBpZihnZShyLDApLGdlKHIsMCksZ2UociwwKSxnZShyLDApLGdlKHIsMCksZ2Uociw5PT09ci5sZXZlbD8yOnIuc3RyYXRlZ3k+PUR0fHxyLmxldmVsPDI/NDowKSxnZShyLGxlKSxyLnN0YXR1cz1yZSxmZSh0KSwwIT09ci5wZW5kaW5nKXJldHVybiByLmxhc3RfZmx1c2g9LTEsQXQ7aWYoci5zdGF0dXM9PT1RdCl7aWYoci5nemhlYWQuZXh0cmEpe2xldCBlPXIucGVuZGluZyxuPSg2NTUzNSZyLmd6aGVhZC5leHRyYS5sZW5ndGgpLXIuZ3ppbmRleDtmb3IoO3IucGVuZGluZytuPnIucGVuZGluZ19idWZfc2l6ZTspe2xldCBpPXIucGVuZGluZ19idWZfc2l6ZS1yLnBlbmRpbmc7aWYoci5wZW5kaW5nX2J1Zi5zZXQoci5nemhlYWQuZXh0cmEuc3ViYXJyYXkoci5nemluZGV4LHIuZ3ppbmRleCtpKSxyLnBlbmRpbmcpLHIucGVuZGluZz1yLnBlbmRpbmdfYnVmX3NpemUsci5nemhlYWQuaGNyYyYmci5wZW5kaW5nPmUmJih0LmFkbGVyPV90KHQuYWRsZXIsci5wZW5kaW5nX2J1ZixyLnBlbmRpbmctZSxlKSksci5nemluZGV4Kz1pLGZlKHQpLDAhPT1yLnBlbmRpbmcpcmV0dXJuIHIubGFzdF9mbHVzaD0tMSxBdDtlPTAsbi09aX1sZXQgaT1uZXcgVWludDhBcnJheShyLmd6aGVhZC5leHRyYSk7ci5wZW5kaW5nX2J1Zi5zZXQoaS5zdWJhcnJheShyLmd6aW5kZXgsci5nemluZGV4K24pLHIucGVuZGluZyksci5wZW5kaW5nKz1uLHIuZ3poZWFkLmhjcmMmJnIucGVuZGluZz5lJiYodC5hZGxlcj1fdCh0LmFkbGVyLHIucGVuZGluZ19idWYsci5wZW5kaW5nLWUsZSkpLHIuZ3ppbmRleD0wfXIuc3RhdHVzPUp0fWlmKHIuc3RhdHVzPT09SnQpe2lmKHIuZ3poZWFkLm5hbWUpe2xldCBlLG49ci5wZW5kaW5nO2Rve2lmKHIucGVuZGluZz09PXIucGVuZGluZ19idWZfc2l6ZSl7aWYoci5nemhlYWQuaGNyYyYmci5wZW5kaW5nPm4mJih0LmFkbGVyPV90KHQuYWRsZXIsci5wZW5kaW5nX2J1ZixyLnBlbmRpbmctbixuKSksZmUodCksMCE9PXIucGVuZGluZylyZXR1cm4gci5sYXN0X2ZsdXNoPS0xLEF0O249MH1lPXIuZ3ppbmRleDxyLmd6aGVhZC5uYW1lLmxlbmd0aD8yNTUmci5nemhlYWQubmFtZS5jaGFyQ29kZUF0KHIuZ3ppbmRleCsrKTowLGdlKHIsZSl9d2hpbGUoMCE9PWUpO3IuZ3poZWFkLmhjcmMmJnIucGVuZGluZz5uJiYodC5hZGxlcj1fdCh0LmFkbGVyLHIucGVuZGluZ19idWYsci5wZW5kaW5nLW4sbikpLHIuZ3ppbmRleD0wfXIuc3RhdHVzPXRlfWlmKHIuc3RhdHVzPT09dGUpe2lmKHIuZ3poZWFkLmNvbW1lbnQpe2xldCBlLG49ci5wZW5kaW5nO2Rve2lmKHIucGVuZGluZz09PXIucGVuZGluZ19idWZfc2l6ZSl7aWYoci5nemhlYWQuaGNyYyYmci5wZW5kaW5nPm4mJih0LmFkbGVyPV90KHQuYWRsZXIsci5wZW5kaW5nX2J1ZixyLnBlbmRpbmctbixuKSksZmUodCksMCE9PXIucGVuZGluZylyZXR1cm4gci5sYXN0X2ZsdXNoPS0xLEF0O249MH1lPXIuZ3ppbmRleDxyLmd6aGVhZC5jb21tZW50Lmxlbmd0aD8yNTUmci5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KHIuZ3ppbmRleCsrKTowLGdlKHIsZSl9d2hpbGUoMCE9PWUpO3IuZ3poZWFkLmhjcmMmJnIucGVuZGluZz5uJiYodC5hZGxlcj1fdCh0LmFkbGVyLHIucGVuZGluZ19idWYsci5wZW5kaW5nLW4sbikpfXIuc3RhdHVzPWVlfWlmKHIuc3RhdHVzPT09ZWUpe2lmKHIuZ3poZWFkLmhjcmMpe2lmKHIucGVuZGluZysyPnIucGVuZGluZ19idWZfc2l6ZSYmKGZlKHQpLDAhPT1yLnBlbmRpbmcpKXJldHVybiByLmxhc3RfZmx1c2g9LTEsQXQ7Z2UociwyNTUmdC5hZGxlciksZ2Uocix0LmFkbGVyPj44JjI1NSksdC5hZGxlcj0wfWlmKHIuc3RhdHVzPXJlLGZlKHQpLDAhPT1yLnBlbmRpbmcpcmV0dXJuIHIubGFzdF9mbHVzaD0tMSxBdH1pZigwIT09dC5hdmFpbF9pbnx8MCE9PXIubG9va2FoZWFkfHxlIT09bXQmJnIuc3RhdHVzIT09bmUpe2xldCBuPTA9PT1yLmxldmVsP2JlKHIsZSk6ci5zdHJhdGVneT09PUR0P0FlKHIsZSk6ci5zdHJhdGVneT09PVV0P3plKHIsZSk6U2Vbci5sZXZlbF0uZnVuYyhyLGUpO2lmKG4hPT1zZSYmbiE9PW9lfHwoci5zdGF0dXM9bmUpLG49PT1pZXx8bj09PXNlKXJldHVybiAwPT09dC5hdmFpbF9vdXQmJihyLmxhc3RfZmx1c2g9LTEpLEF0O2lmKG49PT1hZSYmKGU9PT1idD92dChyKTplIT09enQmJihndChyLDAsMCwhMSksZT09PXh0JiYodWUoci5oZWFkKSwwPT09ci5sb29rYWhlYWQmJihyLnN0cnN0YXJ0PTAsci5ibG9ja19zdGFydD0wLHIuaW5zZXJ0PTApKSksZmUodCksMD09PXQuYXZhaWxfb3V0KSlyZXR1cm4gci5sYXN0X2ZsdXNoPS0xLEF0fXJldHVybiBlIT09a3Q/QXQ6ci53cmFwPD0wP0V0OigyPT09ci53cmFwPyhnZShyLDI1NSZ0LmFkbGVyKSxnZShyLHQuYWRsZXI+PjgmMjU1KSxnZShyLHQuYWRsZXI+PjE2JjI1NSksZ2Uocix0LmFkbGVyPj4yNCYyNTUpLGdlKHIsMjU1JnQudG90YWxfaW4pLGdlKHIsdC50b3RhbF9pbj4+OCYyNTUpLGdlKHIsdC50b3RhbF9pbj4+MTYmMjU1KSxnZShyLHQudG90YWxfaW4+PjI0JjI1NSkpOih5ZShyLHQuYWRsZXI+Pj4xNikseWUociw2NTUzNSZ0LmFkbGVyKSksZmUodCksci53cmFwPjAmJihyLndyYXA9LXIud3JhcCksMCE9PXIucGVuZGluZz9BdDpFdCl9LGRlZmxhdGVFbmQ6dD0+e2lmKE9lKHQpKXJldHVybiBTdDtjb25zdCBlPXQuc3RhdGUuc3RhdHVzO3JldHVybiB0LnN0YXRlPW51bGwsZT09PXJlP2hlKHQsQnQpOkF0fSxkZWZsYXRlU2V0RGljdGlvbmFyeToodCxlKT0+e2xldCByPWUubGVuZ3RoO2lmKE9lKHQpKXJldHVybiBTdDtjb25zdCBuPXQuc3RhdGUsaT1uLndyYXA7aWYoMj09PWl8fDE9PT1pJiZuLnN0YXR1cyE9PXF0fHxuLmxvb2thaGVhZClyZXR1cm4gU3Q7aWYoMT09PWkmJih0LmFkbGVyPWN0KHQuYWRsZXIsZSxyLDApKSxuLndyYXA9MCxyPj1uLndfc2l6ZSl7MD09PWkmJih1ZShuLmhlYWQpLG4uc3Ryc3RhcnQ9MCxuLmJsb2NrX3N0YXJ0PTAsbi5pbnNlcnQ9MCk7bGV0IHQ9bmV3IFVpbnQ4QXJyYXkobi53X3NpemUpO3Quc2V0KGUuc3ViYXJyYXkoci1uLndfc2l6ZSxyKSwwKSxlPXQscj1uLndfc2l6ZX1jb25zdCBhPXQuYXZhaWxfaW4scz10Lm5leHRfaW4sbz10LmlucHV0O2Zvcih0LmF2YWlsX2luPXIsdC5uZXh0X2luPTAsdC5pbnB1dD1lLG1lKG4pO24ubG9va2FoZWFkPj1YdDspe2xldCB0PW4uc3Ryc3RhcnQsZT1uLmxvb2thaGVhZC0oWHQtMSk7ZG97bi5pbnNfaD1kZShuLG4uaW5zX2gsbi53aW5kb3dbdCtYdC0xXSksbi5wcmV2W3Qmbi53X21hc2tdPW4uaGVhZFtuLmluc19oXSxuLmhlYWRbbi5pbnNfaF09dCx0Kyt9d2hpbGUoLS1lKTtuLnN0cnN0YXJ0PXQsbi5sb29rYWhlYWQ9WHQtMSxtZShuKX1yZXR1cm4gbi5zdHJzdGFydCs9bi5sb29rYWhlYWQsbi5ibG9ja19zdGFydD1uLnN0cnN0YXJ0LG4uaW5zZXJ0PW4ubG9va2FoZWFkLG4ubG9va2FoZWFkPTAsbi5tYXRjaF9sZW5ndGg9bi5wcmV2X2xlbmd0aD1YdC0xLG4ubWF0Y2hfYXZhaWxhYmxlPTAsdC5uZXh0X2luPXMsdC5pbnB1dD1vLHQuYXZhaWxfaW49YSxuLndyYXA9aSxBdH0sZGVmbGF0ZUluZm86InBha28gZGVmbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdCkifTtjb25zdCBUZT0odCxlKT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSk7dmFyIEZlPWZ1bmN0aW9uKHQpe2NvbnN0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2Zvcig7ZS5sZW5ndGg7KXtjb25zdCByPWUuc2hpZnQoKTtpZihyKXtpZigib2JqZWN0IiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcihyKyJtdXN0IGJlIG5vbi1vYmplY3QiKTtmb3IoY29uc3QgZSBpbiByKVRlKHIsZSkmJih0W2VdPXJbZV0pfX1yZXR1cm4gdH0sSGU9e2Fzc2lnbjpGZSxmbGF0dGVuQ2h1bmtzOnQ9PntsZXQgZT0wO2ZvcihsZXQgcj0wLG49dC5sZW5ndGg7cjxuO3IrKyllKz10W3JdLmxlbmd0aDtjb25zdCByPW5ldyBVaW50OEFycmF5KGUpO2ZvcihsZXQgZT0wLG49MCxpPXQubGVuZ3RoO2U8aTtlKyspe2xldCBpPXRbZV07ci5zZXQoaSxuKSxuKz1pLmxlbmd0aH1yZXR1cm4gcn19O2xldCBaZT0hMDt0cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKX1jYXRjaCh0KXtaZT0hMX1jb25zdCBNZT1uZXcgVWludDhBcnJheSgyNTYpO2ZvcihsZXQgdD0wO3Q8MjU2O3QrKylNZVt0XT10Pj0yNTI/Njp0Pj0yNDg/NTp0Pj0yNDA/NDp0Pj0yMjQ/Mzp0Pj0xOTI/MjoxO01lWzI1NF09TWVbMjU0XT0xO2NvbnN0IE5lPSh0LGUpPT57aWYoZTw2NTUzNCYmdC5zdWJhcnJheSYmWmUpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCx0Lmxlbmd0aD09PWU/dDp0LnN1YmFycmF5KDAsZSkpO2xldCByPSIiO2ZvcihsZXQgbj0wO248ZTtuKyspcis9U3RyaW5nLmZyb21DaGFyQ29kZSh0W25dKTtyZXR1cm4gcn07dmFyIEllPXtzdHJpbmcyYnVmOnQ9PntpZigiZnVuY3Rpb24iPT10eXBlb2YgVGV4dEVuY29kZXImJlRleHRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUpcmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKHQpO2xldCBlLHIsbixpLGEscz10Lmxlbmd0aCxvPTA7Zm9yKGk9MDtpPHM7aSsrKXI9dC5jaGFyQ29kZUF0KGkpLDU1Mjk2PT0oNjQ1MTImcikmJmkrMTxzJiYobj10LmNoYXJDb2RlQXQoaSsxKSw1NjMyMD09KDY0NTEyJm4pJiYocj02NTUzNisoci01NTI5Njw8MTApKyhuLTU2MzIwKSxpKyspKSxvKz1yPDEyOD8xOnI8MjA0OD8yOnI8NjU1MzY/Mzo0O2ZvcihlPW5ldyBVaW50OEFycmF5KG8pLGE9MCxpPTA7YTxvO2krKylyPXQuY2hhckNvZGVBdChpKSw1NTI5Nj09KDY0NTEyJnIpJiZpKzE8cyYmKG49dC5jaGFyQ29kZUF0KGkrMSksNTYzMjA9PSg2NDUxMiZuKSYmKHI9NjU1MzYrKHItNTUyOTY8PDEwKSsobi01NjMyMCksaSsrKSkscjwxMjg/ZVthKytdPXI6cjwyMDQ4PyhlW2ErK109MTkyfHI+Pj42LGVbYSsrXT0xMjh8NjMmcik6cjw2NTUzNj8oZVthKytdPTIyNHxyPj4+MTIsZVthKytdPTEyOHxyPj4+NiY2MyxlW2ErK109MTI4fDYzJnIpOihlW2ErK109MjQwfHI+Pj4xOCxlW2ErK109MTI4fHI+Pj4xMiY2MyxlW2ErK109MTI4fHI+Pj42JjYzLGVbYSsrXT0xMjh8NjMmcik7cmV0dXJuIGV9LGJ1ZjJzdHJpbmc6KHQsZSk9Pntjb25zdCByPWV8fHQubGVuZ3RoO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBUZXh0RGVjb2RlciYmVGV4dERlY29kZXIucHJvdG90eXBlLmRlY29kZSlyZXR1cm4obmV3IFRleHREZWNvZGVyKS5kZWNvZGUodC5zdWJhcnJheSgwLGUpKTtsZXQgbixpO2NvbnN0IGE9bmV3IEFycmF5KDIqcik7Zm9yKGk9MCxuPTA7bjxyOyl7bGV0IGU9dFtuKytdO2lmKGU8MTI4KXthW2krK109ZTtjb250aW51ZX1sZXQgcz1NZVtlXTtpZihzPjQpYVtpKytdPTY1NTMzLG4rPXMtMTtlbHNle2ZvcihlJj0yPT09cz8zMTozPT09cz8xNTo3O3M+MSYmbjxyOyllPWU8PDZ8NjMmdFtuKytdLHMtLTtzPjE/YVtpKytdPTY1NTMzOmU8NjU1MzY/YVtpKytdPWU6KGUtPTY1NTM2LGFbaSsrXT01NTI5NnxlPj4xMCYxMDIzLGFbaSsrXT01NjMyMHwxMDIzJmUpfX1yZXR1cm4gTmUoYSxpKX0sdXRmOGJvcmRlcjoodCxlKT0+eyhlPWV8fHQubGVuZ3RoKT50Lmxlbmd0aCYmKGU9dC5sZW5ndGgpO2xldCByPWUtMTtmb3IoO3I+PTAmJjEyOD09KDE5MiZ0W3JdKTspci0tO3JldHVybiByPDB8fDA9PT1yP2U6citNZVt0W3JdXT5lP3I6ZX19O2Z1bmN0aW9uIFBlKCl7dGhpcy5pbnB1dD1udWxsLHRoaXMubmV4dF9pbj0wLHRoaXMuYXZhaWxfaW49MCx0aGlzLnRvdGFsX2luPTAsdGhpcy5vdXRwdXQ9bnVsbCx0aGlzLm5leHRfb3V0PTAsdGhpcy5hdmFpbF9vdXQ9MCx0aGlzLnRvdGFsX291dD0wLHRoaXMubXNnPSIiLHRoaXMuc3RhdGU9bnVsbCx0aGlzLmRhdGFfdHlwZT0yLHRoaXMuYWRsZXI9MH12YXIgamU9UGU7Y29uc3QgJGU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyx7Wl9OT19GTFVTSDpLZSxaX1NZTkNfRkxVU0g6WGUsWl9GVUxMX0ZMVVNIOkdlLFpfRklOSVNIOldlLFpfT0s6WWUsWl9TVFJFQU1fRU5EOnFlLFpfREVGQVVMVF9DT01QUkVTU0lPTjpWZSxaX0RFRkFVTFRfU1RSQVRFR1k6UWUsWl9ERUZMQVRFRDpKZX09ZnQ7ZnVuY3Rpb24gdHIodCl7dGhpcy5vcHRpb25zPUhlLmFzc2lnbih7bGV2ZWw6VmUsbWV0aG9kOkplLGNodW5rU2l6ZToxNjM4NCx3aW5kb3dCaXRzOjE1LG1lbUxldmVsOjgsc3RyYXRlZ3k6UWV9LHR8fHt9KTtsZXQgZT10aGlzLm9wdGlvbnM7ZS5yYXcmJmUud2luZG93Qml0cz4wP2Uud2luZG93Qml0cz0tZS53aW5kb3dCaXRzOmUuZ3ppcCYmZS53aW5kb3dCaXRzPjAmJmUud2luZG93Qml0czwxNiYmKGUud2luZG93Qml0cys9MTYpLHRoaXMuZXJyPTAsdGhpcy5tc2c9IiIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IGplLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDtsZXQgcj1DZS5kZWZsYXRlSW5pdDIodGhpcy5zdHJtLGUubGV2ZWwsZS5tZXRob2QsZS53aW5kb3dCaXRzLGUubWVtTGV2ZWwsZS5zdHJhdGVneSk7aWYociE9PVllKXRocm93IG5ldyBFcnJvcihkdFtyXSk7aWYoZS5oZWFkZXImJkNlLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLGUuaGVhZGVyKSxlLmRpY3Rpb25hcnkpe2xldCB0O2lmKHQ9InN0cmluZyI9PXR5cGVvZiBlLmRpY3Rpb25hcnk/SWUuc3RyaW5nMmJ1ZihlLmRpY3Rpb25hcnkpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT0kZS5jYWxsKGUuZGljdGlvbmFyeSk/bmV3IFVpbnQ4QXJyYXkoZS5kaWN0aW9uYXJ5KTplLmRpY3Rpb25hcnkscj1DZS5kZWZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sdCksciE9PVllKXRocm93IG5ldyBFcnJvcihkdFtyXSk7dGhpcy5fZGljdF9zZXQ9ITB9fWZ1bmN0aW9uIGVyKHQsZSl7Y29uc3Qgcj1uZXcgdHIoZSk7aWYoci5wdXNoKHQsITApLHIuZXJyKXRocm93IHIubXNnfHxkdFtyLmVycl07cmV0dXJuIHIucmVzdWx0fWZ1bmN0aW9uIHJyKHQsZSl7cmV0dXJuKGU9ZXx8e30pLnJhdz0hMCxlcih0LGUpfWZ1bmN0aW9uIG5yKHQsZSl7cmV0dXJuKGU9ZXx8e30pLmd6aXA9ITAsZXIodCxlKX10ci5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe2NvbnN0IHI9dGhpcy5zdHJtLG49dGhpcy5vcHRpb25zLmNodW5rU2l6ZTtsZXQgaSxhO2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7Zm9yKGE9ZT09PX5+ZT9lOiEwPT09ZT9XZTpLZSwic3RyaW5nIj09dHlwZW9mIHQ/ci5pbnB1dD1JZS5zdHJpbmcyYnVmKHQpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT0kZS5jYWxsKHQpP3IuaW5wdXQ9bmV3IFVpbnQ4QXJyYXkodCk6ci5pbnB1dD10LHIubmV4dF9pbj0wLHIuYXZhaWxfaW49ci5pbnB1dC5sZW5ndGg7OylpZigwPT09ci5hdmFpbF9vdXQmJihyLm91dHB1dD1uZXcgVWludDhBcnJheShuKSxyLm5leHRfb3V0PTAsci5hdmFpbF9vdXQ9biksKGE9PT1YZXx8YT09PUdlKSYmci5hdmFpbF9vdXQ8PTYpdGhpcy5vbkRhdGEoci5vdXRwdXQuc3ViYXJyYXkoMCxyLm5leHRfb3V0KSksci5hdmFpbF9vdXQ9MDtlbHNle2lmKGk9Q2UuZGVmbGF0ZShyLGEpLGk9PT1xZSlyZXR1cm4gci5uZXh0X291dD4wJiZ0aGlzLm9uRGF0YShyLm91dHB1dC5zdWJhcnJheSgwLHIubmV4dF9vdXQpKSxpPUNlLmRlZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm9uRW5kKGkpLHRoaXMuZW5kZWQ9ITAsaT09PVllO2lmKDAhPT1yLmF2YWlsX291dCl7aWYoYT4wJiZyLm5leHRfb3V0PjApdGhpcy5vbkRhdGEoci5vdXRwdXQuc3ViYXJyYXkoMCxyLm5leHRfb3V0KSksci5hdmFpbF9vdXQ9MDtlbHNlIGlmKDA9PT1yLmF2YWlsX2luKWJyZWFrfWVsc2UgdGhpcy5vbkRhdGEoci5vdXRwdXQpfXJldHVybiEwfSx0ci5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKHQpe3RoaXMuY2h1bmtzLnB1c2godCl9LHRyLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbih0KXt0PT09WWUmJih0aGlzLnJlc3VsdD1IZS5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9dCx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfTt2YXIgaXI9dHIsYXI9ZXIsc3I9cnIsb3I9bnIsbHI9ZnQsaHI9e0RlZmxhdGU6aXIsZGVmbGF0ZTphcixkZWZsYXRlUmF3OnNyLGd6aXA6b3IsY29uc3RhbnRzOmxyfTt0LkRlZmxhdGU9aXIsdC5jb25zdGFudHM9bHIsdC5kZWZhdWx0PWhyLHQuZGVmbGF0ZT1hcix0LmRlZmxhdGVSYXc9c3IsdC5nemlwPW9yLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0oYS5leHBvcnRzKSksYS5leHBvcnRzKSxvPXtleHBvcnRzOnt9fTt2YXIgbCxoPXtleHBvcnRzOnt9fTtmdW5jdGlvbiBjKCl7cmV0dXJuIGx8fChsPTEsaC5leHBvcnRzPShlPWV8fGZ1bmN0aW9uKGUscil7dmFyIG47aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jcnlwdG8mJihuPXdpbmRvdy5jcnlwdG8pLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5jcnlwdG8mJihuPXNlbGYuY3J5cHRvKSwidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMuY3J5cHRvJiYobj1nbG9iYWxUaGlzLmNyeXB0byksIW4mJiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubXNDcnlwdG8mJihuPXdpbmRvdy5tc0NyeXB0byksIW4mJnZvaWQgMCE9PXQmJnQuY3J5cHRvJiYobj10LmNyeXB0byksIW4pdHJ5e249dW5kZWZpbmVkfWNhdGNoKHQpe312YXIgaT1mdW5jdGlvbigpe2lmKG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuLmdldFJhbmRvbVZhbHVlcyl0cnl7cmV0dXJuIG4uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgxKSlbMF19Y2F0Y2godCl7fWlmKCJmdW5jdGlvbiI9PXR5cGVvZiBuLnJhbmRvbUJ5dGVzKXRyeXtyZXR1cm4gbi5yYW5kb21CeXRlcyg0KS5yZWFkSW50MzJMRSgpfWNhdGNoKHQpe319dGhyb3cgbmV3IEVycm9yKCJOYXRpdmUgY3J5cHRvIG1vZHVsZSBjb3VsZCBub3QgYmUgdXNlZCB0byBnZXQgc2VjdXJlIHJhbmRvbSBudW1iZXIuIil9LGE9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiBmdW5jdGlvbihlKXt2YXIgcjtyZXR1cm4gdC5wcm90b3R5cGU9ZSxyPW5ldyB0LHQucHJvdG90eXBlPW51bGwscn19KCkscz17fSxvPXMubGliPXt9LGw9by5CYXNlPXtleHRlbmQ6ZnVuY3Rpb24odCl7dmFyIGU9YSh0aGlzKTtyZXR1cm4gdCYmZS5taXhJbih0KSxlLmhhc093blByb3BlcnR5KCJpbml0IikmJnRoaXMuaW5pdCE9PWUuaW5pdHx8KGUuaW5pdD1mdW5jdGlvbigpe2UuJHN1cGVyLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksZS5pbml0LnByb3RvdHlwZT1lLGUuJHN1cGVyPXRoaXMsZX0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5leHRlbmQoKTtyZXR1cm4gdC5pbml0LmFwcGx5KHQsYXJndW1lbnRzKSx0fSxpbml0OmZ1bmN0aW9uKCl7fSxtaXhJbjpmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiYodGhpc1tlXT10W2VdKTt0Lmhhc093blByb3BlcnR5KCJ0b1N0cmluZyIpJiYodGhpcy50b1N0cmluZz10LnRvU3RyaW5nKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyl9fSxoPW8uV29yZEFycmF5PWwuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsZSl7dD10aGlzLndvcmRzPXR8fFtdLHRoaXMuc2lnQnl0ZXM9ZSE9cj9lOjQqdC5sZW5ndGh9LHRvU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybih0fHx1KS5zdHJpbmdpZnkodGhpcyl9LGNvbmNhdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLndvcmRzLHI9dC53b3JkcyxuPXRoaXMuc2lnQnl0ZXMsaT10LnNpZ0J5dGVzO2lmKHRoaXMuY2xhbXAoKSxuJTQpZm9yKHZhciBhPTA7YTxpO2ErKyl7dmFyIHM9clthPj4+Ml0+Pj4yNC1hJTQqOCYyNTU7ZVtuK2E+Pj4yXXw9czw8MjQtKG4rYSklNCo4fWVsc2UgZm9yKHZhciBvPTA7bzxpO28rPTQpZVtuK28+Pj4yXT1yW28+Pj4yXTtyZXR1cm4gdGhpcy5zaWdCeXRlcys9aSx0aGlzfSxjbGFtcDpmdW5jdGlvbigpe3ZhciB0PXRoaXMud29yZHMscj10aGlzLnNpZ0J5dGVzO3Rbcj4+PjJdJj00Mjk0OTY3Mjk1PDwzMi1yJTQqOCx0Lmxlbmd0aD1lLmNlaWwoci80KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1sLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKSx0fSxyYW5kb206ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLHI9MDtyPHQ7cis9NCllLnB1c2goaSgpKTtyZXR1cm4gbmV3IGguaW5pdChlLHQpfX0pLGM9cy5lbmM9e30sdT1jLkhleD17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LndvcmRzLHI9dC5zaWdCeXRlcyxuPVtdLGk9MDtpPHI7aSsrKXt2YXIgYT1lW2k+Pj4yXT4+PjI0LWklNCo4JjI1NTtuLnB1c2goKGE+Pj40KS50b1N0cmluZygxNikpLG4ucHVzaCgoMTUmYSkudG9TdHJpbmcoMTYpKX1yZXR1cm4gbi5qb2luKCIiKX0scGFyc2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoLHI9W10sbj0wO248ZTtuKz0yKXJbbj4+PjNdfD1wYXJzZUludCh0LnN1YnN0cihuLDIpLDE2KTw8MjQtbiU4KjQ7cmV0dXJuIG5ldyBoLmluaXQocixlLzIpfX0sXz1jLkxhdGluMT17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LndvcmRzLHI9dC5zaWdCeXRlcyxuPVtdLGk9MDtpPHI7aSsrKXt2YXIgYT1lW2k+Pj4yXT4+PjI0LWklNCo4JjI1NTtuLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShhKSl9cmV0dXJuIG4uam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxyPVtdLG49MDtuPGU7bisrKXJbbj4+PjJdfD0oMjU1JnQuY2hhckNvZGVBdChuKSk8PDI0LW4lNCo4O3JldHVybiBuZXcgaC5pbml0KHIsZSl9fSxkPWMuVXRmOD17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShfLnN0cmluZ2lmeSh0KSkpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcigiTWFsZm9ybWVkIFVURi04IGRhdGEiKX19LHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVybiBfLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSkpfX0sZj1vLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09bC5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgaC5pbml0LHRoaXMuX25EYXRhQnl0ZXM9MH0sX2FwcGVuZDpmdW5jdGlvbih0KXsic3RyaW5nIj09dHlwZW9mIHQmJih0PWQucGFyc2UodCkpLHRoaXMuX2RhdGEuY29uY2F0KHQpLHRoaXMuX25EYXRhQnl0ZXMrPXQuc2lnQnl0ZXN9LF9wcm9jZXNzOmZ1bmN0aW9uKHQpe3ZhciByLG49dGhpcy5fZGF0YSxpPW4ud29yZHMsYT1uLnNpZ0J5dGVzLHM9dGhpcy5ibG9ja1NpemUsbz1hLyg0KnMpLGw9KG89dD9lLmNlaWwobyk6ZS5tYXgoKDB8byktdGhpcy5fbWluQnVmZmVyU2l6ZSwwKSkqcyxjPWUubWluKDQqbCxhKTtpZihsKXtmb3IodmFyIHU9MDt1PGw7dSs9cyl0aGlzLl9kb1Byb2Nlc3NCbG9jayhpLHUpO3I9aS5zcGxpY2UoMCxsKSxuLnNpZ0J5dGVzLT1jfXJldHVybiBuZXcgaC5pbml0KHIsYyl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9bC5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0Ll9kYXRhPXRoaXMuX2RhdGEuY2xvbmUoKSx0fSxfbWluQnVmZmVyU2l6ZTowfSk7by5IYXNoZXI9Zi5leHRlbmQoe2NmZzpsLmV4dGVuZCgpLGluaXQ6ZnVuY3Rpb24odCl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKHQpLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtmLnJlc2V0LmNhbGwodGhpcyksdGhpcy5fZG9SZXNldCgpfSx1cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FwcGVuZCh0KSx0aGlzLl9wcm9jZXNzKCksdGhpc30sZmluYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2FwcGVuZCh0KSx0aGlzLl9kb0ZpbmFsaXplKCl9LGJsb2NrU2l6ZToxNixfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiBuZXcgdC5pbml0KHIpLmZpbmFsaXplKGUpfX0sX2NyZWF0ZUhtYWNIZWxwZXI6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIG5ldyBwLkhNQUMuaW5pdCh0LHIpLmZpbmFsaXplKGUpfX19KTt2YXIgcD1zLmFsZ289e307cmV0dXJuIHN9KE1hdGgpLGUpKSxoLmV4cG9ydHM7dmFyIGV9dmFyIHU7ZnVuY3Rpb24gXygpe3JldHVybiB1fHwodT0xLG8uZXhwb3J0cz0odD1jKCksZnVuY3Rpb24oKXt2YXIgZT10LHI9ZS5saWIuV29yZEFycmF5O2Z1bmN0aW9uIG4odCxlLG4pe2Zvcih2YXIgaT1bXSxhPTAscz0wO3M8ZTtzKyspaWYocyU0KXt2YXIgbz1uW3QuY2hhckNvZGVBdChzLTEpXTw8cyU0KjJ8blt0LmNoYXJDb2RlQXQocyldPj4+Ni1zJTQqMjtpW2E+Pj4yXXw9bzw8MjQtYSU0KjgsYSsrfXJldHVybiByLmNyZWF0ZShpLGEpfWUuZW5jLkJhc2U2ND17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe3ZhciBlPXQud29yZHMscj10LnNpZ0J5dGVzLG49dGhpcy5fbWFwO3QuY2xhbXAoKTtmb3IodmFyIGk9W10sYT0wO2E8cjthKz0zKWZvcih2YXIgcz0oZVthPj4+Ml0+Pj4yNC1hJTQqOCYyNTUpPDwxNnwoZVthKzE+Pj4yXT4+PjI0LShhKzEpJTQqOCYyNTUpPDw4fGVbYSsyPj4+Ml0+Pj4yNC0oYSsyKSU0KjgmMjU1LG89MDtvPDQmJmErLjc1Km88cjtvKyspaS5wdXNoKG4uY2hhckF0KHM+Pj42KigzLW8pJjYzKSk7dmFyIGw9bi5jaGFyQXQoNjQpO2lmKGwpZm9yKDtpLmxlbmd0aCU0OylpLnB1c2gobCk7cmV0dXJuIGkuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLHI9dGhpcy5fbWFwLGk9dGhpcy5fcmV2ZXJzZU1hcDtpZighaSl7aT10aGlzLl9yZXZlcnNlTWFwPVtdO2Zvcih2YXIgYT0wO2E8ci5sZW5ndGg7YSsrKWlbci5jaGFyQ29kZUF0KGEpXT1hfXZhciBzPXIuY2hhckF0KDY0KTtpZihzKXt2YXIgbz10LmluZGV4T2Yocyk7LTEhPT1vJiYoZT1vKX1yZXR1cm4gbih0LGUsaSl9LF9tYXA6IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89In19KCksdC5lbmMuQmFzZTY0KSksby5leHBvcnRzO3ZhciB0fXZhciBkLGY9ZShfKCkpLHA9e2V4cG9ydHM6e319LGc9e2V4cG9ydHM6e319O2Z1bmN0aW9uIHkoKXtyZXR1cm4gZHx8KGQ9MSxnLmV4cG9ydHM9KHQ9YygpLGZ1bmN0aW9uKGUpe3ZhciByPXQsbj1yLmxpYixpPW4uV29yZEFycmF5LGE9bi5IYXNoZXIscz1yLmFsZ28sbz1bXTshZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PDY0O3QrKylvW3RdPTQyOTQ5NjcyOTYqZS5hYnMoZS5zaW4odCsxKSl8MH0oKTt2YXIgbD1zLk1ENT1hLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBpLmluaXQoWzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OF0pfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MDtyPDE2O3IrKyl7dmFyIG49ZStyLGk9dFtuXTt0W25dPTE2NzExOTM1JihpPDw4fGk+Pj4yNCl8NDI3ODI1NTM2MCYoaTw8MjR8aT4+PjgpfXZhciBhPXRoaXMuX2hhc2gud29yZHMscz10W2UrMF0sbD10W2UrMV0sZD10W2UrMl0sZj10W2UrM10scD10W2UrNF0sZz10W2UrNV0seT10W2UrNl0sdz10W2UrN10sdj10W2UrOF0sbT10W2UrOV0sYj10W2UrMTBdLHg9dFtlKzExXSxrPXRbZSsxMl0sej10W2UrMTNdLEE9dFtlKzE0XSxFPXRbZSsxNV0sUz1hWzBdLEI9YVsxXSxMPWFbMl0sTz1hWzNdO1M9aChTLEIsTCxPLHMsNyxvWzBdKSxPPWgoTyxTLEIsTCxsLDEyLG9bMV0pLEw9aChMLE8sUyxCLGQsMTcsb1syXSksQj1oKEIsTCxPLFMsZiwyMixvWzNdKSxTPWgoUyxCLEwsTyxwLDcsb1s0XSksTz1oKE8sUyxCLEwsZywxMixvWzVdKSxMPWgoTCxPLFMsQix5LDE3LG9bNl0pLEI9aChCLEwsTyxTLHcsMjIsb1s3XSksUz1oKFMsQixMLE8sdiw3LG9bOF0pLE89aChPLFMsQixMLG0sMTIsb1s5XSksTD1oKEwsTyxTLEIsYiwxNyxvWzEwXSksQj1oKEIsTCxPLFMseCwyMixvWzExXSksUz1oKFMsQixMLE8sayw3LG9bMTJdKSxPPWgoTyxTLEIsTCx6LDEyLG9bMTNdKSxMPWgoTCxPLFMsQixBLDE3LG9bMTRdKSxTPWMoUyxCPWgoQixMLE8sUyxFLDIyLG9bMTVdKSxMLE8sbCw1LG9bMTZdKSxPPWMoTyxTLEIsTCx5LDksb1sxN10pLEw9YyhMLE8sUyxCLHgsMTQsb1sxOF0pLEI9YyhCLEwsTyxTLHMsMjAsb1sxOV0pLFM9YyhTLEIsTCxPLGcsNSxvWzIwXSksTz1jKE8sUyxCLEwsYiw5LG9bMjFdKSxMPWMoTCxPLFMsQixFLDE0LG9bMjJdKSxCPWMoQixMLE8sUyxwLDIwLG9bMjNdKSxTPWMoUyxCLEwsTyxtLDUsb1syNF0pLE89YyhPLFMsQixMLEEsOSxvWzI1XSksTD1jKEwsTyxTLEIsZiwxNCxvWzI2XSksQj1jKEIsTCxPLFMsdiwyMCxvWzI3XSksUz1jKFMsQixMLE8seiw1LG9bMjhdKSxPPWMoTyxTLEIsTCxkLDksb1syOV0pLEw9YyhMLE8sUyxCLHcsMTQsb1szMF0pLFM9dShTLEI9YyhCLEwsTyxTLGssMjAsb1szMV0pLEwsTyxnLDQsb1szMl0pLE89dShPLFMsQixMLHYsMTEsb1szM10pLEw9dShMLE8sUyxCLHgsMTYsb1szNF0pLEI9dShCLEwsTyxTLEEsMjMsb1szNV0pLFM9dShTLEIsTCxPLGwsNCxvWzM2XSksTz11KE8sUyxCLEwscCwxMSxvWzM3XSksTD11KEwsTyxTLEIsdywxNixvWzM4XSksQj11KEIsTCxPLFMsYiwyMyxvWzM5XSksUz11KFMsQixMLE8seiw0LG9bNDBdKSxPPXUoTyxTLEIsTCxzLDExLG9bNDFdKSxMPXUoTCxPLFMsQixmLDE2LG9bNDJdKSxCPXUoQixMLE8sUyx5LDIzLG9bNDNdKSxTPXUoUyxCLEwsTyxtLDQsb1s0NF0pLE89dShPLFMsQixMLGssMTEsb1s0NV0pLEw9dShMLE8sUyxCLEUsMTYsb1s0Nl0pLFM9XyhTLEI9dShCLEwsTyxTLGQsMjMsb1s0N10pLEwsTyxzLDYsb1s0OF0pLE89XyhPLFMsQixMLHcsMTAsb1s0OV0pLEw9XyhMLE8sUyxCLEEsMTUsb1s1MF0pLEI9XyhCLEwsTyxTLGcsMjEsb1s1MV0pLFM9XyhTLEIsTCxPLGssNixvWzUyXSksTz1fKE8sUyxCLEwsZiwxMCxvWzUzXSksTD1fKEwsTyxTLEIsYiwxNSxvWzU0XSksQj1fKEIsTCxPLFMsbCwyMSxvWzU1XSksUz1fKFMsQixMLE8sdiw2LG9bNTZdKSxPPV8oTyxTLEIsTCxFLDEwLG9bNTddKSxMPV8oTCxPLFMsQix5LDE1LG9bNThdKSxCPV8oQixMLE8sUyx6LDIxLG9bNTldKSxTPV8oUyxCLEwsTyxwLDYsb1s2MF0pLE89XyhPLFMsQixMLHgsMTAsb1s2MV0pLEw9XyhMLE8sUyxCLGQsMTUsb1s2Ml0pLEI9XyhCLEwsTyxTLG0sMjEsb1s2M10pLGFbMF09YVswXStTfDAsYVsxXT1hWzFdK0J8MCxhWzJdPWFbMl0rTHwwLGFbM109YVszXStPfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxyPXQud29yZHMsbj04KnRoaXMuX25EYXRhQnl0ZXMsaT04KnQuc2lnQnl0ZXM7cltpPj4+NV18PTEyODw8MjQtaSUzMjt2YXIgYT1lLmZsb29yKG4vNDI5NDk2NzI5Nikscz1uO3JbMTUrKGkrNjQ+Pj45PDw0KV09MTY3MTE5MzUmKGE8PDh8YT4+PjI0KXw0Mjc4MjU1MzYwJihhPDwyNHxhPj4+OCksclsxNCsoaSs2ND4+Pjk8PDQpXT0xNjcxMTkzNSYoczw8OHxzPj4+MjQpfDQyNzgyNTUzNjAmKHM8PDI0fHM+Pj44KSx0LnNpZ0J5dGVzPTQqKHIubGVuZ3RoKzEpLHRoaXMuX3Byb2Nlc3MoKTtmb3IodmFyIG89dGhpcy5faGFzaCxsPW8ud29yZHMsaD0wO2g8NDtoKyspe3ZhciBjPWxbaF07bFtoXT0xNjcxMTkzNSYoYzw8OHxjPj4+MjQpfDQyNzgyNTUzNjAmKGM8PDI0fGM+Pj44KX1yZXR1cm4gb30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1hLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLHR9fSk7ZnVuY3Rpb24gaCh0LGUscixuLGksYSxzKXt2YXIgbz10KyhlJnJ8fmUmbikraStzO3JldHVybihvPDxhfG8+Pj4zMi1hKStlfWZ1bmN0aW9uIGModCxlLHIsbixpLGEscyl7dmFyIG89dCsoZSZufHImfm4pK2krcztyZXR1cm4obzw8YXxvPj4+MzItYSkrZX1mdW5jdGlvbiB1KHQsZSxyLG4saSxhLHMpe3ZhciBvPXQrKGVecl5uKStpK3M7cmV0dXJuKG88PGF8bz4+PjMyLWEpK2V9ZnVuY3Rpb24gXyh0LGUscixuLGksYSxzKXt2YXIgbz10KyhyXihlfH5uKSkraStzO3JldHVybihvPDxhfG8+Pj4zMi1hKStlfXIuTUQ1PWEuX2NyZWF0ZUhlbHBlcihsKSxyLkhtYWNNRDU9YS5fY3JlYXRlSG1hY0hlbHBlcihsKX0oTWF0aCksdC5NRDUpKSxnLmV4cG9ydHM7dmFyIHR9dmFyIHcsdj17ZXhwb3J0czp7fX0sbT17ZXhwb3J0czp7fX07ZnVuY3Rpb24gYigpe3JldHVybiB3fHwodz0xLG0uZXhwb3J0cz0odD1jKCksZnVuY3Rpb24oKXt2YXIgZT10LHI9ZS5saWIsbj1yLldvcmRBcnJheSxpPXIuSGFzaGVyLGE9ZS5hbGdvLHM9W10sbz1hLlNIQTE9aS5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5faGFzaD1uZXcgbi5pbml0KFsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0pfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dGhpcy5faGFzaC53b3JkcyxuPXJbMF0saT1yWzFdLGE9clsyXSxvPXJbM10sbD1yWzRdLGg9MDtoPDgwO2grKyl7aWYoaDwxNilzW2hdPTB8dFtlK2hdO2Vsc2V7dmFyIGM9c1toLTNdXnNbaC04XV5zW2gtMTRdXnNbaC0xNl07c1toXT1jPDwxfGM+Pj4zMX12YXIgdT0objw8NXxuPj4+MjcpK2wrc1toXTt1Kz1oPDIwPzE1MTg1MDAyNDkrKGkmYXx+aSZvKTpoPDQwPzE4NTk3NzUzOTMrKGleYV5vKTpoPDYwPyhpJmF8aSZvfGEmbyktMTg5NDAwNzU4ODooaV5hXm8pLTg5OTQ5NzUxNCxsPW8sbz1hLGE9aTw8MzB8aT4+PjIsaT1uLG49dX1yWzBdPXJbMF0rbnwwLHJbMV09clsxXStpfDAsclsyXT1yWzJdK2F8MCxyWzNdPXJbM10rb3wwLHJbNF09cls0XStsfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YSxlPXQud29yZHMscj04KnRoaXMuX25EYXRhQnl0ZXMsbj04KnQuc2lnQnl0ZXM7cmV0dXJuIGVbbj4+PjVdfD0xMjg8PDI0LW4lMzIsZVsxNCsobis2ND4+Pjk8PDQpXT1NYXRoLmZsb29yKHIvNDI5NDk2NzI5NiksZVsxNSsobis2ND4+Pjk8PDQpXT1yLHQuc2lnQnl0ZXM9NCplLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCksdGhpcy5faGFzaH0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1pLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpLHR9fSk7ZS5TSEExPWkuX2NyZWF0ZUhlbHBlcihvKSxlLkhtYWNTSEExPWkuX2NyZWF0ZUhtYWNIZWxwZXIobyl9KCksdC5TSEExKSksbS5leHBvcnRzO3ZhciB0fXZhciB4LGs9e2V4cG9ydHM6e319O2Z1bmN0aW9uIHooKXtyZXR1cm4geHx8KHg9MSxrLmV4cG9ydHM9KHQ9YygpLHI9KGU9dCkubGliLkJhc2Usbj1lLmVuYy5VdGY4LHZvaWQoZS5hbGdvLkhNQUM9ci5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxlKXt0PXRoaXMuX2hhc2hlcj1uZXcgdC5pbml0LCJzdHJpbmciPT10eXBlb2YgZSYmKGU9bi5wYXJzZShlKSk7dmFyIHI9dC5ibG9ja1NpemUsaT00KnI7ZS5zaWdCeXRlcz5pJiYoZT10LmZpbmFsaXplKGUpKSxlLmNsYW1wKCk7Zm9yKHZhciBhPXRoaXMuX29LZXk9ZS5jbG9uZSgpLHM9dGhpcy5faUtleT1lLmNsb25lKCksbz1hLndvcmRzLGw9cy53b3JkcyxoPTA7aDxyO2grKylvW2hdXj0xNTQ5NTU2ODI4LGxbaF1ePTkwOTUyMjQ4NjthLnNpZ0J5dGVzPXMuc2lnQnl0ZXM9aSx0aGlzLnJlc2V0KCl9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faGFzaGVyO3QucmVzZXQoKSx0LnVwZGF0ZSh0aGlzLl9pS2V5KX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9oYXNoZXIudXBkYXRlKHQpLHRoaXN9LGZpbmFsaXplOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2hhc2hlcixyPWUuZmluYWxpemUodCk7cmV0dXJuIGUucmVzZXQoKSxlLmZpbmFsaXplKHRoaXMuX29LZXkuY2xvbmUoKS5jb25jYXQocikpfX0pKSkpLGsuZXhwb3J0czt2YXIgdCxlLHIsbn12YXIgQTtmdW5jdGlvbiBFKCl7cmV0dXJuIEF8fChBPTEsdi5leHBvcnRzPSh0PWMoKSxiKCkseigpLGZ1bmN0aW9uKCl7dmFyIGU9dCxyPWUubGliLG49ci5CYXNlLGk9ci5Xb3JkQXJyYXksYT1lLmFsZ28scz1hLk1ENSxvPWEuRXZwS0RGPW4uZXh0ZW5kKHtjZmc6bi5leHRlbmQoe2tleVNpemU6NCxoYXNoZXI6cyxpdGVyYXRpb25zOjF9KSxpbml0OmZ1bmN0aW9uKHQpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZCh0KX0sY29tcHV0ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcixuPXRoaXMuY2ZnLGE9bi5oYXNoZXIuY3JlYXRlKCkscz1pLmNyZWF0ZSgpLG89cy53b3JkcyxsPW4ua2V5U2l6ZSxoPW4uaXRlcmF0aW9ucztvLmxlbmd0aDxsOyl7ciYmYS51cGRhdGUocikscj1hLnVwZGF0ZSh0KS5maW5hbGl6ZShlKSxhLnJlc2V0KCk7Zm9yKHZhciBjPTE7YzxoO2MrKylyPWEuZmluYWxpemUociksYS5yZXNldCgpO3MuY29uY2F0KHIpfXJldHVybiBzLnNpZ0J5dGVzPTQqbCxzfX0pO2UuRXZwS0RGPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gby5jcmVhdGUocikuY29tcHV0ZSh0LGUpfX0oKSx0LkV2cEtERikpLHYuZXhwb3J0czt2YXIgdH12YXIgUyxCPXtleHBvcnRzOnt9fTt2YXIgTDt2YXIgTyxSLEQ9KEx8fChMPTEscC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXQscj1lLmxpYi5CbG9ja0NpcGhlcixuPWUuYWxnbyxpPVtdLGE9W10scz1bXSxvPVtdLGw9W10saD1bXSxjPVtdLHU9W10sXz1bXSxkPVtdOyFmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTwyNTY7ZSsrKXRbZV09ZTwxMjg/ZTw8MTplPDwxXjI4Mzt2YXIgcj0wLG49MDtmb3IoZT0wO2U8MjU2O2UrKyl7dmFyIGY9bl5uPDwxXm48PDJebjw8M15uPDw0O2Y9Zj4+PjheMjU1JmZeOTksaVtyXT1mLGFbZl09cjt2YXIgcD10W3JdLGc9dFtwXSx5PXRbZ10sdz0yNTcqdFtmXV4xNjg0MzAwOCpmO3Nbcl09dzw8MjR8dz4+Pjgsb1tyXT13PDwxNnx3Pj4+MTYsbFtyXT13PDw4fHc+Pj4yNCxoW3JdPXcsdz0xNjg0MzAwOSp5XjY1NTM3KmdeMjU3KnBeMTY4NDMwMDgqcixjW2ZdPXc8PDI0fHc+Pj44LHVbZl09dzw8MTZ8dz4+PjE2LF9bZl09dzw8OHx3Pj4+MjQsZFtmXT13LHI/KHI9cF50W3RbdFt5XnBdXV0sbl49dFt0W25dXSk6cj1uPTF9fSgpO3ZhciBmPVswLDEsMiw0LDgsMTYsMzIsNjQsMTI4LDI3LDU0XSxwPW4uQUVTPXIuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe2lmKCF0aGlzLl9uUm91bmRzfHx0aGlzLl9rZXlQcmlvclJlc2V0IT09dGhpcy5fa2V5KXtmb3IodmFyIHQ9dGhpcy5fa2V5UHJpb3JSZXNldD10aGlzLl9rZXksZT10LndvcmRzLHI9dC5zaWdCeXRlcy80LG49NCooKHRoaXMuX25Sb3VuZHM9cis2KSsxKSxhPXRoaXMuX2tleVNjaGVkdWxlPVtdLHM9MDtzPG47cysrKXM8cj9hW3NdPWVbc106KGg9YVtzLTFdLHMlcj9yPjYmJnMlcj09NCYmKGg9aVtoPj4+MjRdPDwyNHxpW2g+Pj4xNiYyNTVdPDwxNnxpW2g+Pj44JjI1NV08PDh8aVsyNTUmaF0pOihoPWlbKGg9aDw8OHxoPj4+MjQpPj4+MjRdPDwyNHxpW2g+Pj4xNiYyNTVdPDwxNnxpW2g+Pj44JjI1NV08PDh8aVsyNTUmaF0saF49ZltzL3J8MF08PDI0KSxhW3NdPWFbcy1yXV5oKTtmb3IodmFyIG89dGhpcy5faW52S2V5U2NoZWR1bGU9W10sbD0wO2w8bjtsKyspe2lmKHM9bi1sLGwlNCl2YXIgaD1hW3NdO2Vsc2UgaD1hW3MtNF07b1tsXT1sPDR8fHM8PTQ/aDpjW2lbaD4+PjI0XV1edVtpW2g+Pj4xNiYyNTVdXV5fW2lbaD4+PjgmMjU1XV1eZFtpWzI1NSZoXV19fX0sZW5jcnlwdEJsb2NrOmZ1bmN0aW9uKHQsZSl7dGhpcy5fZG9DcnlwdEJsb2NrKHQsZSx0aGlzLl9rZXlTY2hlZHVsZSxzLG8sbCxoLGkpfSxkZWNyeXB0QmxvY2s6ZnVuY3Rpb24odCxlKXt2YXIgcj10W2UrMV07dFtlKzFdPXRbZSszXSx0W2UrM109cix0aGlzLl9kb0NyeXB0QmxvY2sodCxlLHRoaXMuX2ludktleVNjaGVkdWxlLGMsdSxfLGQsYSkscj10W2UrMV0sdFtlKzFdPXRbZSszXSx0W2UrM109cn0sX2RvQ3J5cHRCbG9jazpmdW5jdGlvbih0LGUscixuLGksYSxzLG8pe2Zvcih2YXIgbD10aGlzLl9uUm91bmRzLGg9dFtlXV5yWzBdLGM9dFtlKzFdXnJbMV0sdT10W2UrMl1eclsyXSxfPXRbZSszXV5yWzNdLGQ9NCxmPTE7ZjxsO2YrKyl7dmFyIHA9bltoPj4+MjRdXmlbYz4+PjE2JjI1NV1eYVt1Pj4+OCYyNTVdXnNbMjU1Jl9dXnJbZCsrXSxnPW5bYz4+PjI0XV5pW3U+Pj4xNiYyNTVdXmFbXz4+PjgmMjU1XV5zWzI1NSZoXV5yW2QrK10seT1uW3U+Pj4yNF1eaVtfPj4+MTYmMjU1XV5hW2g+Pj44JjI1NV1ec1syNTUmY11ecltkKytdLHc9bltfPj4+MjRdXmlbaD4+PjE2JjI1NV1eYVtjPj4+OCYyNTVdXnNbMjU1JnVdXnJbZCsrXTtoPXAsYz1nLHU9eSxfPXd9cD0ob1toPj4+MjRdPDwyNHxvW2M+Pj4xNiYyNTVdPDwxNnxvW3U+Pj44JjI1NV08PDh8b1syNTUmX10pXnJbZCsrXSxnPShvW2M+Pj4yNF08PDI0fG9bdT4+PjE2JjI1NV08PDE2fG9bXz4+PjgmMjU1XTw8OHxvWzI1NSZoXSlecltkKytdLHk9KG9bdT4+PjI0XTw8MjR8b1tfPj4+MTYmMjU1XTw8MTZ8b1toPj4+OCYyNTVdPDw4fG9bMjU1JmNdKV5yW2QrK10sdz0ob1tfPj4+MjRdPDwyNHxvW2g+Pj4xNiYyNTVdPDwxNnxvW2M+Pj44JjI1NV08PDh8b1syNTUmdV0pXnJbZCsrXSx0W2VdPXAsdFtlKzFdPWcsdFtlKzJdPXksdFtlKzNdPXd9LGtleVNpemU6OH0pO2UuQUVTPXIuX2NyZWF0ZUhlbHBlcihwKX0oKSx0LkFFU30oYygpLF8oKSx5KCksRSgpLFN8fChTPTEsQi5leHBvcnRzPShPPWMoKSxFKCksdm9pZChPLmxpYi5DaXBoZXJ8fGZ1bmN0aW9uKHQpe3ZhciBlPU8scj1lLmxpYixuPXIuQmFzZSxpPXIuV29yZEFycmF5LGE9ci5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtLHM9ZS5lbmM7cy5VdGY4O3ZhciBvPXMuQmFzZTY0LGw9ZS5hbGdvLkV2cEtERixoPXIuQ2lwaGVyPWEuZXh0ZW5kKHtjZmc6bi5leHRlbmQoKSxjcmVhdGVFbmNyeXB0b3I6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fRU5DX1hGT1JNX01PREUsdCxlKX0sY3JlYXRlRGVjcnlwdG9yOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY3JlYXRlKHRoaXMuX0RFQ19YRk9STV9NT0RFLHQsZSl9LGluaXQ6ZnVuY3Rpb24odCxlLHIpe3RoaXMuY2ZnPXRoaXMuY2ZnLmV4dGVuZChyKSx0aGlzLl94Zm9ybU1vZGU9dCx0aGlzLl9rZXk9ZSx0aGlzLnJlc2V0KCl9LHJlc2V0OmZ1bmN0aW9uKCl7YS5yZXNldC5jYWxsKHRoaXMpLHRoaXMuX2RvUmVzZXQoKX0scHJvY2VzczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXBwZW5kKHQpLHRoaXMuX3Byb2Nlc3MoKX0sZmluYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2FwcGVuZCh0KSx0aGlzLl9kb0ZpbmFsaXplKCl9LGtleVNpemU6NCxpdlNpemU6NCxfRU5DX1hGT1JNX01PREU6MSxfREVDX1hGT1JNX01PREU6MixfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dzpnfXJldHVybiBmdW5jdGlvbihlKXtyZXR1cm57ZW5jcnlwdDpmdW5jdGlvbihyLG4saSl7cmV0dXJuIHQobikuZW5jcnlwdChlLHIsbixpKX0sZGVjcnlwdDpmdW5jdGlvbihyLG4saSl7cmV0dXJuIHQobikuZGVjcnlwdChlLHIsbixpKX19fX0oKX0pO3IuU3RyZWFtQ2lwaGVyPWguZXh0ZW5kKHtfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9jZXNzKCEwKX0sYmxvY2tTaXplOjF9KTt2YXIgYz1lLm1vZGU9e30sdT1yLkJsb2NrQ2lwaGVyTW9kZT1uLmV4dGVuZCh7Y3JlYXRlRW5jcnlwdG9yOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuRW5jcnlwdG9yLmNyZWF0ZSh0LGUpfSxjcmVhdGVEZWNyeXB0b3I6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5EZWNyeXB0b3IuY3JlYXRlKHQsZSl9LGluaXQ6ZnVuY3Rpb24odCxlKXt0aGlzLl9jaXBoZXI9dCx0aGlzLl9pdj1lfX0pLF89Yy5DQkM9ZnVuY3Rpb24oKXt2YXIgZT11LmV4dGVuZCgpO2Z1bmN0aW9uIHIoZSxyLG4pe3ZhciBpLGE9dGhpcy5faXY7YT8oaT1hLHRoaXMuX2l2PXQpOmk9dGhpcy5fcHJldkJsb2NrO2Zvcih2YXIgcz0wO3M8bjtzKyspZVtyK3NdXj1pW3NdfXJldHVybiBlLkVuY3J5cHRvcj1lLmV4dGVuZCh7cHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fY2lwaGVyLGk9bi5ibG9ja1NpemU7ci5jYWxsKHRoaXMsdCxlLGkpLG4uZW5jcnlwdEJsb2NrKHQsZSksdGhpcy5fcHJldkJsb2NrPXQuc2xpY2UoZSxlK2kpfX0pLGUuRGVjcnlwdG9yPWUuZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9jaXBoZXIsaT1uLmJsb2NrU2l6ZSxhPXQuc2xpY2UoZSxlK2kpO24uZGVjcnlwdEJsb2NrKHQsZSksci5jYWxsKHRoaXMsdCxlLGkpLHRoaXMuX3ByZXZCbG9jaz1hfX0pLGV9KCksZD0oZS5wYWQ9e30pLlBrY3M3PXtwYWQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9NCplLG49ci10LnNpZ0J5dGVzJXIsYT1uPDwyNHxuPDwxNnxuPDw4fG4scz1bXSxvPTA7bzxuO28rPTQpcy5wdXNoKGEpO3ZhciBsPWkuY3JlYXRlKHMsbik7dC5jb25jYXQobCl9LHVucGFkOmZ1bmN0aW9uKHQpe3ZhciBlPTI1NSZ0LndvcmRzW3Quc2lnQnl0ZXMtMT4+PjJdO3Quc2lnQnl0ZXMtPWV9fTtyLkJsb2NrQ2lwaGVyPWguZXh0ZW5kKHtjZmc6aC5jZmcuZXh0ZW5kKHttb2RlOl8scGFkZGluZzpkfSkscmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdDtoLnJlc2V0LmNhbGwodGhpcyk7dmFyIGU9dGhpcy5jZmcscj1lLml2LG49ZS5tb2RlO3RoaXMuX3hmb3JtTW9kZT09dGhpcy5fRU5DX1hGT1JNX01PREU/dD1uLmNyZWF0ZUVuY3J5cHRvcjoodD1uLmNyZWF0ZURlY3J5cHRvcix0aGlzLl9taW5CdWZmZXJTaXplPTEpLHRoaXMuX21vZGUmJnRoaXMuX21vZGUuX19jcmVhdG9yPT10P3RoaXMuX21vZGUuaW5pdCh0aGlzLHImJnIud29yZHMpOih0aGlzLl9tb2RlPXQuY2FsbChuLHRoaXMsciYmci53b3JkcyksdGhpcy5fbW9kZS5fX2NyZWF0b3I9dCl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LGUpe3RoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKHQsZSl9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmNmZy5wYWRkaW5nO3JldHVybiB0aGlzLl94Zm9ybU1vZGU9PXRoaXMuX0VOQ19YRk9STV9NT0RFPyhlLnBhZCh0aGlzLl9kYXRhLHRoaXMuYmxvY2tTaXplKSx0PXRoaXMuX3Byb2Nlc3MoITApKToodD10aGlzLl9wcm9jZXNzKCEwKSxlLnVucGFkKHQpKSx0fSxibG9ja1NpemU6NH0pO3ZhciBmPXIuQ2lwaGVyUGFyYW1zPW4uZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQpe3RoaXMubWl4SW4odCl9LHRvU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybih0fHx0aGlzLmZvcm1hdHRlcikuc3RyaW5naWZ5KHRoaXMpfX0pLHA9KGUuZm9ybWF0PXt9KS5PcGVuU1NMPXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7dmFyIGU9dC5jaXBoZXJ0ZXh0LHI9dC5zYWx0O3JldHVybihyP2kuY3JlYXRlKFsxMzk4ODkzNjg0LDE3MDEwNzY4MzFdKS5jb25jYXQocikuY29uY2F0KGUpOmUpLnRvU3RyaW5nKG8pfSxwYXJzZTpmdW5jdGlvbih0KXt2YXIgZSxyPW8ucGFyc2UodCksbj1yLndvcmRzO3JldHVybiAxMzk4ODkzNjg0PT1uWzBdJiYxNzAxMDc2ODMxPT1uWzFdJiYoZT1pLmNyZWF0ZShuLnNsaWNlKDIsNCkpLG4uc3BsaWNlKDAsNCksci5zaWdCeXRlcy09MTYpLGYuY3JlYXRlKHtjaXBoZXJ0ZXh0OnIsc2FsdDplfSl9fSxnPXIuU2VyaWFsaXphYmxlQ2lwaGVyPW4uZXh0ZW5kKHtjZmc6bi5leHRlbmQoe2Zvcm1hdDpwfSksZW5jcnlwdDpmdW5jdGlvbih0LGUscixuKXtuPXRoaXMuY2ZnLmV4dGVuZChuKTt2YXIgaT10LmNyZWF0ZUVuY3J5cHRvcihyLG4pLGE9aS5maW5hbGl6ZShlKSxzPWkuY2ZnO3JldHVybiBmLmNyZWF0ZSh7Y2lwaGVydGV4dDphLGtleTpyLGl2OnMuaXYsYWxnb3JpdGhtOnQsbW9kZTpzLm1vZGUscGFkZGluZzpzLnBhZGRpbmcsYmxvY2tTaXplOnQuYmxvY2tTaXplLGZvcm1hdHRlcjpuLmZvcm1hdH0pfSxkZWNyeXB0OmZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuPXRoaXMuY2ZnLmV4dGVuZChuKSxlPXRoaXMuX3BhcnNlKGUsbi5mb3JtYXQpLHQuY3JlYXRlRGVjcnlwdG9yKHIsbikuZmluYWxpemUoZS5jaXBoZXJ0ZXh0KX0sX3BhcnNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P2UucGFyc2UodCx0aGlzKTp0fX0pLHk9KGUua2RmPXt9KS5PcGVuU1NMPXtleGVjdXRlOmZ1bmN0aW9uKHQsZSxyLG4sYSl7aWYobnx8KG49aS5yYW5kb20oOCkpLGEpcz1sLmNyZWF0ZSh7a2V5U2l6ZTplK3IsaGFzaGVyOmF9KS5jb21wdXRlKHQsbik7ZWxzZSB2YXIgcz1sLmNyZWF0ZSh7a2V5U2l6ZTplK3J9KS5jb21wdXRlKHQsbik7dmFyIG89aS5jcmVhdGUocy53b3Jkcy5zbGljZShlKSw0KnIpO3JldHVybiBzLnNpZ0J5dGVzPTQqZSxmLmNyZWF0ZSh7a2V5OnMsaXY6byxzYWx0Om59KX19LHc9ci5QYXNzd29yZEJhc2VkQ2lwaGVyPWcuZXh0ZW5kKHtjZmc6Zy5jZmcuZXh0ZW5kKHtrZGY6eX0pLGVuY3J5cHQ6ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9KG49dGhpcy5jZmcuZXh0ZW5kKG4pKS5rZGYuZXhlY3V0ZShyLHQua2V5U2l6ZSx0Lml2U2l6ZSxuLnNhbHQsbi5oYXNoZXIpO24uaXY9aS5pdjt2YXIgYT1nLmVuY3J5cHQuY2FsbCh0aGlzLHQsZSxpLmtleSxuKTtyZXR1cm4gYS5taXhJbihpKSxhfSxkZWNyeXB0OmZ1bmN0aW9uKHQsZSxyLG4pe249dGhpcy5jZmcuZXh0ZW5kKG4pLGU9dGhpcy5fcGFyc2UoZSxuLmZvcm1hdCk7dmFyIGk9bi5rZGYuZXhlY3V0ZShyLHQua2V5U2l6ZSx0Lml2U2l6ZSxlLnNhbHQsbi5oYXNoZXIpO3JldHVybiBuLml2PWkuaXYsZy5kZWNyeXB0LmNhbGwodGhpcyx0LGUsaS5rZXksbil9fSl9KCkpKSkpKSxwLmV4cG9ydHMpLFU9ZShEKSxDPXtleHBvcnRzOnt9fTtmdW5jdGlvbiBUKCl7cmV0dXJuIFJ8fChSPTEsQy5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj10LG49ci5saWIsaT1uLldvcmRBcnJheSxhPW4uSGFzaGVyLHM9ci5hbGdvLG89W10sbD1bXTshZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2Zvcih2YXIgcj1lLnNxcnQodCksbj0yO248PXI7bisrKWlmKCEodCVuKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiByKHQpe3JldHVybiA0Mjk0OTY3Mjk2Kih0LSgwfHQpKXwwfWZvcih2YXIgbj0yLGk9MDtpPDY0Oyl0KG4pJiYoaTw4JiYob1tpXT1yKGUucG93KG4sLjUpKSksbFtpXT1yKGUucG93KG4sMS8zKSksaSsrKSxuKyt9KCk7dmFyIGg9W10sYz1zLlNIQTI1Nj1hLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBpLmluaXQoby5zbGljZSgwKSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10aGlzLl9oYXNoLndvcmRzLG49clswXSxpPXJbMV0sYT1yWzJdLHM9clszXSxvPXJbNF0sYz1yWzVdLHU9cls2XSxfPXJbN10sZD0wO2Q8NjQ7ZCsrKXtpZihkPDE2KWhbZF09MHx0W2UrZF07ZWxzZXt2YXIgZj1oW2QtMTVdLHA9KGY8PDI1fGY+Pj43KV4oZjw8MTR8Zj4+PjE4KV5mPj4+MyxnPWhbZC0yXSx5PShnPDwxNXxnPj4+MTcpXihnPDwxM3xnPj4+MTkpXmc+Pj4xMDtoW2RdPXAraFtkLTddK3kraFtkLTE2XX12YXIgdz1uJmlebiZhXmkmYSx2PShuPDwzMHxuPj4+MileKG48PDE5fG4+Pj4xMyleKG48PDEwfG4+Pj4yMiksbT1fKygobzw8MjZ8bz4+PjYpXihvPDwyMXxvPj4+MTEpXihvPDw3fG8+Pj4yNSkpKyhvJmNefm8mdSkrbFtkXStoW2RdO189dSx1PWMsYz1vLG89cyttfDAscz1hLGE9aSxpPW4sbj1tKyh2K3cpfDB9clswXT1yWzBdK258MCxyWzFdPXJbMV0raXwwLHJbMl09clsyXSthfDAsclszXT1yWzNdK3N8MCxyWzRdPXJbNF0rb3wwLHJbNV09cls1XStjfDAscls2XT1yWzZdK3V8MCxyWzddPXJbN10rX3wwfSxfZG9GaW5hbGl6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGEscj10LndvcmRzLG49OCp0aGlzLl9uRGF0YUJ5dGVzLGk9OCp0LnNpZ0J5dGVzO3JldHVybiByW2k+Pj41XXw9MTI4PDwyNC1pJTMyLHJbMTQrKGkrNjQ+Pj45PDw0KV09ZS5mbG9vcihuLzQyOTQ5NjcyOTYpLHJbMTUrKGkrNjQ+Pj45PDw0KV09bix0LnNpZ0J5dGVzPTQqci5sZW5ndGgsdGhpcy5fcHJvY2VzcygpLHRoaXMuX2hhc2h9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9YS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0Ll9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSx0fX0pO3IuU0hBMjU2PWEuX2NyZWF0ZUhlbHBlcihjKSxyLkhtYWNTSEEyNTY9YS5fY3JlYXRlSG1hY0hlbHBlcihjKX0oTWF0aCksdC5TSEEyNTZ9KGMoKSkpLEMuZXhwb3J0c312YXIgRixIPWUoVCgpKSxaPXtleHBvcnRzOnt9fTt2YXIgTSxOPShGfHwoRj0xLFouZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgQXJyYXlCdWZmZXIpe3ZhciBlPXQubGliLldvcmRBcnJheSxyPWUuaW5pdCxuPWUuaW5pdD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJih0PW5ldyBVaW50OEFycmF5KHQpKSwodCBpbnN0YW5jZW9mIEludDhBcnJheXx8InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OENsYW1wZWRBcnJheSYmdCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5fHx0IGluc3RhbmNlb2YgSW50MTZBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQxNkFycmF5fHx0IGluc3RhbmNlb2YgSW50MzJBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQzMkFycmF5fHx0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHx0IGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5KSYmKHQ9bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCkpLHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KXtmb3IodmFyIGU9dC5ieXRlTGVuZ3RoLG49W10saT0wO2k8ZTtpKyspbltpPj4+Ml18PXRbaV08PDI0LWklNCo4O3IuY2FsbCh0aGlzLG4sZSl9ZWxzZSByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bi5wcm90b3R5cGU9ZX19KCksdC5saWIuV29yZEFycmF5fShjKCkpKSxaLmV4cG9ydHMpLEk9ZShOKSxQPXtleHBvcnRzOnt9fTt2YXIgaj0oTXx8KE09MSxQLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuSG1hY1NIQTI1Nn0oYygpLFQoKSx6KCkpKSxQLmV4cG9ydHMpLCQ9ZShqKTtjb25zdCBLPSExO2xldCBYLEc9ZmV0Y2g7b25tZXNzYWdlPWZ1bmN0aW9uKHQpe2NvbnN0e2pvYjplLGNtZDpyLHNlcnZlcjpuLHBhdGg6aSxidWZmZXI6YSxrZXlCYXNlNjQ6byxnemlwOmwscmVmZXJyZXI6aCxpZDpjLGFwcElkOnUscGVyc2lzdGVudElkOl8sQ1JPUVVFVF9WRVJTSU9OOmQsZGVidWc6cCx3aGF0Omcsb2ZmbGluZTp5fT10LmRhdGE7eSYmKEc9ayk7c3dpdGNoKHIpe2Nhc2UidXBsb2FkRW5jcnlwdGVkIjp4KGkpO2JyZWFrO2Nhc2UiZ2V0T2ZmbGluZUZpbGUiOnoodC5kYXRhLnVybCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJVbmtub3duIHdvcmtlciBjb21tYW5kIixyKX1mdW5jdGlvbiB3KHQpe2NvbnN0IGU9RGF0ZS5ub3coKSxyPUkuY3JlYXRlKHQpLG49Zi5wYXJzZShvKSxpPSQocixuKSxhPUkucmFuZG9tKDE2KSx7Y2lwaGVydGV4dDpzfT1VLmVuY3J5cHQocixuLHtpdjphfSksbD1uZXcgQXJyYXlCdWZmZXIoNCthLnNpZ0J5dGVzK2kuc2lnQnl0ZXMrcy5zaWdCeXRlcyksaD1uZXcgRGF0YVZpZXcobCk7bGV0IHU9MDtoLnNldFVpbnQzMih1LDExMjk0NjgyMDksITEpLHUrPTQ7Zm9yKGNvbnN0IHQgb2ZbYSxpLHNdKWZvcihjb25zdCBlIG9mIHQud29yZHMpaC5zZXRJbnQzMih1LGUsITEpLHUrPTQ7cmV0dXJuIHAmJmNvbnNvbGUubG9nKGMsYCR7Z30gZW5jcnlwdGVkICgke2wuYnl0ZUxlbmd0aH0gYnl0ZXMpIGluICR7RGF0ZS5ub3coKS1lfW1zYCksbH1mdW5jdGlvbiB2KHQpe2NvbnN0IGU9RGF0ZS5ub3coKSxyPXMuZGVmbGF0ZSh0LHtnemlwOiEwLGxldmVsOjF9KTtyZXR1cm4gcCYmY29uc29sZS5sb2coYyxgJHtnfSBjb21wcmVzc2VkICgke3IubGVuZ3RofSBieXRlcykgaW4gJHtEYXRlLm5vdygpLWV9bXNgKSxyfWZ1bmN0aW9uIG0odCl7Y29uc3QgZT1EYXRlLm5vdygpLHI9SChJLmNyZWF0ZSh0KSksbj1mLnN0cmluZ2lmeShyKS5yZXBsYWNlKC89L2csIiIpLnJlcGxhY2UoL1wrL2csIi0iKS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIHAmJmNvbnNvbGUubG9nKGMsYCR7Z30gaGFzaGVkICgke3QuYnl0ZUxlbmd0aH0gYnl0ZXMpIGluICR7RGF0ZS5ub3coKS1lfW1zYCksbn1hc3luYyBmdW5jdGlvbiBiKHQpe2lmKHkpe2NvbnN0IGU9YG9mZmxpbmU6Ly8vJHt0fWA7cmV0dXJue3VybDplLHVwbG9hZFVybDplfX1jb25zdCBlPURhdGUubm93KCkscj1gJHtuLnVybH0vJHt0fWA7aWYoIW4uYXBpS2V5KXJldHVybnt1cmw6cix1cGxvYWRVcmw6cn07Y29uc3QgaT1hd2FpdCBHKHIse2hlYWRlcnM6eyJYLUNyb3F1ZXQtQXV0aCI6bi5hcGlLZXksIlgtQ3JvcXVldC1BcHAiOnUsIlgtQ3JvcXVldC1JZCI6XywiWC1Dcm9xdWV0LVNlc3Npb24iOmMsIlgtQ3JvcXVldC1WZXJzaW9uIjpkLCJYLUNyb3F1ZXQtUGF0aCI6bmV3IFVSTChoKS5wYXRobmFtZX0scmVmZXJyZXI6aH0pLHtvazphLHN0YXR1czpzLHN0YXR1c1RleHQ6b309aTtpZighYSl0aHJvdyBFcnJvcihgRXJyb3IgaW4gc2lnbmluZyBVUkw6ICR7c30gLSAke299YCk7Y29uc3R7ZXJyb3I6bCxyZWFkOmYsd3JpdGU6d309YXdhaXQgaS5qc29uKCk7aWYobCl0aHJvdyBFcnJvcihsKTtyZXR1cm4gcCYmY29uc29sZS5sb2coYyxgJHtnfSB1cGxvYWQgYXV0aG9yaXplZCBpbiAke0RhdGUubm93KCktZX1tc2ApLHt1cmw6Zix1cGxvYWRVcmw6d319YXN5bmMgZnVuY3Rpb24geCh0KXt0cnl7bGV0IHI9dyhsP3YoYSk6YSk7Syx0LmluY2x1ZGVzKCIlSEFTSCUiKSYmKHQ9dC5yZXBsYWNlKCIlSEFTSCUiLG0ocikpKTtjb25zdHt1cGxvYWRVcmw6bix1cmw6aX09YXdhaXQgYih0KSxzPURhdGUubm93KCkse29rOm8sc3RhdHVzOnUsc3RhdHVzVGV4dDpffT1hd2FpdCBHKG4se21ldGhvZDoiUFVUIixtb2RlOiJjb3JzIixoZWFkZXJzOnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIn0scmVmZXJyZXI6aCxib2R5OnJ9KTtpZighbyl0aHJvdyBFcnJvcihgc2VydmVyIHJldHVybmVkICR7dX0gJHtffSBmb3IgUFVUICR7bn1gKTtwJiZjb25zb2xlLmxvZyhjLGAke2d9IHVwbG9hZGVkICgke3V9KSBpbiAke0RhdGUubm93KCktc31tcyAke2l9YCksWCh7am9iOmUsdXJsOmksb2s6byxzdGF0dXM6dSxzdGF0dXNUZXh0Ol8sYnl0ZXM6ci5ieXRlTGVuZ3RofSl9Y2F0Y2godCl7cCYmY29uc29sZS5lcnJvcihgJHtjfSB1cGxvYWQgZXJyb3IgJHt0Lm1lc3NhZ2V9YCksWCh7am9iOmUsb2s6ITEsc3RhdHVzOi0xLHN0YXR1c1RleHQ6dC5tZXNzYWdlfSl9fWZ1bmN0aW9uIGsodCxlKXtyZXR1cm4gcCYmY29uc29sZS5sb2coYyxgc3RvcmluZyAke3R9YCksVy5zZXQodCxlLmJvZHkpLHtvazohMCxzdGF0dXM6MjAxLHN0YXR1c1RleHQ6Ik9mZmxpbmUgY3JlYXRlZCJ9fWZ1bmN0aW9uIHoodCl7Y29uc3Qgcj1XLmdldCh0KTtpZighcilyZXR1cm4gcCYmY29uc29sZS5lcnJvcihgJHtjfSBmaWxlIG5vdCBmb3VuZCAke3R9YCksdm9pZCBYKHtqb2I6ZSxvazohMSxzdGF0dXM6LTEsc3RhdHVzVGV4dDoiT2ZmbGluZSBmaWxlIG5vdCBmb3VuZCJ9KTtwJiZjb25zb2xlLmxvZyhjLGByZXRyaWV2ZWQgJHt0fWApLFgoe2pvYjplLG9rOiEwLHN0YXR1czoyMDAsc3RhdHVzVGV4dDoiT2ZmbGluZSBmaWxlIGZvdW5kIixib2R5OnIsYnl0ZXM6ci5ieXRlTGVuZ3RofSl9fSxYPXBvc3RNZXNzYWdlO2NvbnN0IFc9bmV3IE1hcH0oKTsKCg==",If=null,_f=!1,function(e){return Oa=Oa||Ew(Wf,If,_f),new Worker(Oa,e)});const Mn=Kl.CROQUET_VERSION,ct=Kl.CROQUET_PLATFORM==="node";ct||window.location.hostname.match(/co?de?pe?n\.io/)?console.log("Croquet "+Mn):console.log("%cCroquet%c %c"+Mn,"color:#F0493E","color:inherit","color:"+(Mn.includes("+")?"#909":"inherit"));const zw=!ct&&!!window.location.hostname.match(/^(.*\.)?croquet\.io$/i)&&window.location.pathname.startsWith("/dev/"),Vw=!ct&&!!window.location.hostname.match(/^(.*\.)?croquet\.dev$/i),Rf="https://croquet.io/files/v1",vm="https://files.croquet.io",Da=vm;let j=null;const wm="wss://api.multisynq.io/depin",Hw=wm;let fe,at;const Yw=D.nocheat,Ni=200,zi=[0],Mf=4096;let Ja;const cr=new Nw;cr.onerror=e=>console.error(`UploadWorker error: ${e.message}`);let Ef=0;const gi=new Set;function Nf(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=null;for(const n of gi)if(t||(t=n),n.id===e){t=n;break}if(t){const{appId:n,persistentId:r}=t.sessionSpec;return{appId:n,persistentId:r,key:t.key,uploadEncrypted:i=>t.uploadEncrypted(i),downloadEncrypted:i=>t.downloadEncrypted(i)}}return{}}Object.defineProperty(Ve,"controller",{get(){return this.controllers.values().next().value}}),Ve.controllers=gi;let Kw=class{constructor(){(function(){const t=D.dev||D.dev!==!1&&"localhost",n=D.dev||D.dev!==!1&&(zw||Vw);j={messages:D.has("debug","messages",!1),sends:D.has("debug","sends",!1),publish:D.has("debug","publish",!1),events:D.has("debug","events",!1),ticks:D.has("debug","ticks",!1),pong:D.has("debug","pong",!1),snapshot:D.has("debug","snapshot",!1),session:D.has("debug","session",!1),initsnapshot:D.has("debug","initsnapshot",t),reflector:D.has("debug","reflector",n),offline:D.has("debug","offline",!1)},j.offline&&$.showMessage("Croquet: offline mode enabled, no multiuser",{level:"warning"})})(),this.reset()}reset(){globalThis.CROQUETVM===this.vm&&delete globalThis.CROQUETVM,this.vm=null,this.session=null,this.connection=this.connection||new Fw(this),this.networkQueue=[],this.reflectorTime=0,this.msPerTick=this.msPerTick||0,this.tickMultiplier=this.tickMultiplier||1,this.extrapolatedTimeBase=Date.now(),this.key=this.key||null,this.tove=this.tove||null,this.viewId=this.viewId||Math.floor(Math.random()*36**10).toString(36),this.timeline="",this.rejoinTimeout&&clearTimeout(this.rejoinTimeout),this.rejoinTimeout=0,this.sendBuffer=[],this.users=0,this.usersTotal=0,this.cpuTime=0,this.triggeringCpuTime=null,this.lastSnapshotRequest=0,this.synced=null,this.latency=0,this.latencyHistory&&(this.latencyHistory=[]),this.localTicker&&(globalThis.clearInterval(this.localTicker),delete this.localTicker),this.syncTimer&&(globalThis.clearTimeout(this.syncTimer),delete this.syncTimer),this.tuttiHistory=[],this.auditStats={lastUsers:-1,minUsers:-1,maxUsers:-1,payloadTally:0},this.lastAnimationEnd=0,this.animationGapCheck=[],this.rateLimitedSendTimes=[],this.rateLimitBuffer=[],this.rateLimitSoftWarned=!1,this.rateLimitBufferWarned=!1,this.rateLimitLastLogged=0,this.payloadSizeWarned=!1,Ve.removeAllSubscriptionsFor(this.viewId),Ve.addSubscription(this.viewId,"__peers__",this.viewId,t=>Pp(`users now ${t.count}`),"oncePerFrameWhileSynced"),this.leaving||$.showSyncWait(!0)}get id(){return this.vm?this.vm.id:this.sessionSpec.id}get persistentId(){return this.sessionSpec.persistentId}get versionId(){return this.sessionSpec.codeHash}get extrapolatedTime(){return Date.now()-this.extrapolatedTimeBase}get viewOnly(){return this.sessionSpec.viewOnly}get backlog(){return this.vm?this.reflectorTime-this.vm.time:0}get starvation(){return Date.now()-this.lastReceived}get lag(){return this.vm?Math.max(0,this.extrapolatedTime-this.vm.time-this.msPerTick):0}get activity(){return Date.now()-this.lastSent}get viewed(){return!(!this.session||!this.session.view)}get connected(){return this.connection.connected}get shouldLeaveWhenDisconnected(){return this.leaving||!this.canRejoinSeamlessly||this.sessionSpec.rejoinLimit===0}get canRejoinSeamlessly(){return!!this.timeline}get migratingOldSnapshot(){if(!this.sessionSpec)return!1;const{codeHash:t,computedCodeHash:n}=this.sessionSpec;return t!==n}checkForConnection(t){this.connection.checkForConnection(t)}dormantDisconnect(){this.connected&&this.connection.dormantDisconnect()}async initFromSessionSpec(t){const{name:n,optionsFromUrl:r,persistentIdOptions:i,password:s,appId:o,apiKey:l,viewIdDebugSuffix:a}=t,u=o?`${o}/${n}`:n;this.key=qh(s,"",{keySize:8}),a&&(this.viewId=this.viewId.replace(/_.*$/,"")+"_"+encodeURIComponent((""+a).slice(0,16)).replace(/[^a-z0-9]/gi,h=>`_${h==="%"?"":h.charCodeAt(0).toString(16).toUpperCase()}`));const c={...t.options};if(r)for(const h of r)h in D&&(c[h]=D[h]);const S={},b={};for(const[h,m]of Object.entries(c))i!=null&&i.includes(h)?S[h]=m:b[h]=m;b.hashOverride=D.hashOverride||t.hashOverride;const g=j.events||j.publish;g&&(b.debugEvents=!0);const X=await async function(h,m){return Qr(h+Sr.default(m))}(u,S),{developerId:C,token:y}=await this.verifyApiKey(l,o,X),{id:p,codeHash:f,computedCodeHash:x}=await async function(h,m,d,v){let Z,T;const P=dh[h];let N="";P?(Z=P.codeHashes,T=P.computedCodeHash,N=" (code hashing from cache)"):(Z=await Promise.all(Kc),T=await Qr([v,...Z].join("|")),dh[h]={codeHashes:Z,computedCodeHash:T});const{hashOverride:F,...z}=d,Y=F||T,J=await Qr(h+"|"+m+Sr.default(z)+Y);if(ch()&&!hh.has(J)){xg||[...document.getElementsByTagName("meta")].find(G=>G.getAttribute("charset"))||console.warn('Croquet: Missing <meta charset="..."> declaration. Croquet model code hashing might differ between browsers.'),Jt[T].what="Version ID",Jt[h].what="Persistent ID",Jt[J].what="Session ID",Y!==T&&(Z.push(T),Jt[T].what="Computed Version ID (replaced by overrideHash)",Jt[Y]={what:"Version ID (as specified by overrideHash)"});const _=[...Z,Y,h,J].map(G=>({hash:G,...Jt[G]}));console.log(`Croquet: Debug Hashing for session ${J}${N}`,_),hh.add(J)}return ch()||(Jt={}),{id:J,persistentId:h,codeHash:Y,computedCodeHash:T}}(X,C,b,Mn);this.tove=await this.encrypt(p),j.session&&console.log(`Croquet session "${u}":
        sessionId=${p}${o?`
        persistentId=${X}`:""}
        versionId=${f===x?f:`${f} (specified in hashOverride)
        versionId=${x} (computed)`}
        viewId=${this.viewId}`),this.eventRateLimit=t.eventRateLimit,this.eventHistoryLimit=this.eventRateLimit,this.eventMaxBundles=this.eventRateLimit,this.sessionSpec={...t,options:c,name:u,id:p,persistentId:X,developerId:C,token:y,codeHash:f,computedCodeHash:x,debugEvents:g};const{msPerTick:L,multiplier:w}=this.getTickAndMultiplier();this.msPerTick=L,this.tickMultiplier=w,this.setUpActivityChecks()}async establishSession(){const{id:t,persistentId:n,codeHash:r}=this.sessionSpec;this.sessionSpec.snapshot={id:t,time:0,meta:{id:t,persistentId:n,codeHash:r,created:new Date().toISOString()}};const i=new Promise(s=>{this.sessionSpec.sessionJoined=s});this.checkForConnection(!1),j.session&&console.log(t,"waiting for join and SYNC"),await i,this.sessionSpec.sessionJoined=()=>{},this.syncCompleted=!0}getBackend(t){var u;const n={};for(const c of t.split(",")){const S=c.lastIndexOf(":"),b=c[S===-1?0:S];if(!b.match(/^[12]$/))throw Error("Invalid API key version");if(b in n)throw Error("Duplicate API key versions");n[b]={key:S===-1?c:c.slice(S+1),backend:S===-1?"":c.slice(0,S)}}var r;r=!n[1],fe===void 0&&(fe="depin"in D?D.depin:r,fe&&!j.offline?(at=fe===!0?Hw:fe==="prod"?wm:fe==="dev"?"wss://api.multisynq.dev/depin":fe==="local"?"ws://localhost:8787":fe,at.endsWith("/")&&(at=at.slice(0,-1)),at=at.replace(/^http(s):/,"ws$1:"),at.startsWith("ws")||(at=(ct||window.location.protocol!=="https:"?"ws://":"wss://")+at),console.log(`DEPIN_API=${at}`)):fe=!1);const i=n[fe?2:1];if(!i)throw Error(`No ${fe?"Multisynq":"Croquet"} API key provided`);const s=i.key;let o=D.backend||i.backend;const l=(u=D.reflector)==null?void 0:u.includes("/");if(o==="none"||j.offline)return{apiKey:s,signServer:"none",reflector:"overridden"};if(fe)return{apiKey:s,signServer:`${at.replace(/^ws/,"http")}/clients`,reflector:"depin"};if(!o&&!ct)switch(window.location.hostname){case"croquet.dev":o="dev";break;case"staging.croquet.io":o="staging"}let a;switch(o){case"":case"prod":a="croquet.io";break;case"staging":a="staging.croquet.io";break;case"dev":a="croquet.dev";break;default:a=`${o}.croquet.dev`}return{apiKey:s,signServer:`https://api.${a}/sign`,reflector:l?"overridden":`wss://api.${a}/reflector/v1`}}async verifyApiKey(t,n,r){const{signServer:i,apiKey:s}=this.getBackend(t);if(i==="none")return{developerId:"unknown_dev_id"};try{const l=await this.fetchWithRetries("verifying API key",[403],2,()=>fetch(`${i}/join?meta=login`,{method:"GET",mode:"cors",headers:{"X-Croquet-Auth":s,"X-Croquet-App":n,"X-Croquet-Id":r,"X-Croquet-Version":Mn,"X-Croquet-Path":new URL($.referrerURL()).pathname},referrer:$.referrerURL(),referrerPolicy:"no-referrer-when-downgrade"})),{error:a,developerId:u,token:c}=await l.json();if(a)throw Error(a);return j.session&&console.log(`${fe?"Multisynq":"Croquet"}: verified API key for developer ${u}`),{developerId:u,token:c}}catch(o){throw Error(`${fe?"Multisynq":"Croquet"} API key validation failed for "${s}": ${o.message}`)}}async fetchWithRetries(t,n,r,i){const s=1+r;let o,l=0;for(;;){let a,u;try{if(a=await i(),a.ok)return a}catch(g){u=g}l++;let c="";const S=a&&n.includes(a.status);if(S?c="fatal ":l===s&&(c="final "),o=a?`${c}status ${a.status} ${a.statusText} - "${await a.text()}"`:`${c}error "${u==null?void 0:u.message}"`,l===s||S)break;const b=l===1?100:l===2?1e3:5e3;console.warn(`${o} while ${t}; retrying in ${b}ms`),await new Promise(g=>{setTimeout(g,b)})}throw console.warn(`${o} while ${t}; giving up`),Error(o)}lastKnownTime(t){return Math.max(t.time,t.externalTime)}takeSnapshot(){const t=this.vm.snapshot(),n=this.lastKnownTime(t),r=t.externalSeq;return t.meta={...this.sessionSpec.snapshot.meta,options:this.sessionSpec.options,time:n,seq:r,date:new globalThis.CroquetViewDate().toISOString(),host:ct?"localhost":window.location.hostname,sdk:Mn},delete t.meta.hash,t}takeSnapshotHandleErrors(){let t,n,r;try{t=ee.begin("snapshot"),r=this.takeSnapshot()}catch(i){return je("snapshot",i),null}finally{n=ee.end("snapshot")-t}return j.snapshot&&console.log(this.id,`snapshot taken in ${Math.ceil(n)}`),r}scheduleSnapshot(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!this.connected||!this.vm||this.viewOnly)return;const n=this.vm.time,r=n-this.vm.lastSnapshotPoll;if(r<5e3&&!t)return void(j.snapshot&&console.log(`not requesting snapshot poll (${r}ms since poll scheduled)`));if(this.migratingOldSnapshot)return void alert("Snapshot is due but hashOverride is set. Ignoring.");if(t){const s=Object.keys(this.vm.views);if(s.sort(),s[0]!==this.viewId&&s[1]!==this.viewId&&s[2]!==this.viewId)return void(j.snapshot&&console.log("not forcing snapshot poll (not one of the three)"));j.snapshot&&console.log("forcing snapshot poll")}const i=new mt(n,0,"_","handlePollForSnapshot",[]);this.sendTagged(i,{debounce:5e3,msgID:"pollForSnapshot"}),j.snapshot&&console.log(this.id,"requesting snapshot poll via reflector")}handlePollForSnapshot(t){if(this.synced!==!0||this.viewOnly)return void(this.triggeringCpuTime=null);const n=this.triggeringCpuTime||this.cpuTime;let r,i,s;this.triggeringCpuTime=null,this.cpuTime=0;try{r=ee.begin("snapshot"),i={cpuTime:n,hash:this.vm.getSummaryHash(),viewId:this.viewId}}catch(o){return void je("snapshot",o)}finally{s=ee.end("snapshot")-r,this.cpuTime-=s}j.snapshot&&console.log(this.id,`Summary hashing took ${Math.ceil(s)}ms`),Promise.resolve().then(()=>this.pollForSnapshot(t,i))}pollForSnapshot(t,n){n.cpuTime+=Math.random(),j.snapshot&&console.log(this.id,"sending snapshot vote",n),this.sendTutti({time:t,topic:"snapshot",data:n,tallyTarget:["handleSnapshotVote"]})}handleSnapshotVote(t){const{tally:n}=t;j.snapshot&&console.log(this.id,"received snapshot votes",n);const{numberOfGroups:r,shouldUpload:i,dissidentFlag:s}=this.analyzeTally(n,"cpuTime");if(r>1){this.diverged=!0;const o=this.vm.diverged?this.vm.diverged.size:0;console.error(this.id,`Session diverged (#${o})! Snapshots fall into ${r} groups`)}if(this.synced!==!0)j.snapshot&&console.log(this.id,"Ignoring snapshot vote during sync");else if(i){const o={...this.auditStats},l=this.takeSnapshotHandleErrors();l&&Promise.resolve().then(()=>this.uploadSnapshot(l,o,s))}}analyzeTally(t,n){let r=!1,i=null;const s=[],o={};let l=null;Object.keys(t).forEach((b,g)=>{const X=JSON.parse(b);s.push(X);const{hash:C,viewId:y}=X;y===this.viewId&&(l=g),o[C]||(o[C]=[]),o[C].push(g)});const a=Object.keys(o),u=a.length;let c=0;u>1&&(a.sort((b,g)=>o[g].length-o[b].length),o[a[0]].length===o[a[1]].length&&(j.snapshot&&console.log(this.id,"Deciding consensus by tie-break"),a[1]<a[0]&&(c=1)));const S=a[c];if(l!==null){const b=s[l].hash,g=o[b];g.length>1&&g.sort((X,C)=>s[X][n]-s[C][n]),g[0]===l&&(r=!0,b!==S&&(i={groupVotes:g.length,allVotes:s.length}))}return{numberOfGroups:u,shouldUpload:r,dissidentFlag:i}}snapshotPath(t,n,r){const i=Math.ceil(t).toString().padStart(10,"0"),{appId:s,persistentId:o,codeHash:l,apiKey:a}=this.sessionSpec;return a?`apps/${s}/snap/${l}/${o}.${this.id}/${i}_${n}.${r}`:`snapshots/${this.id}/${i}_${n}-${r}.snap`}hashSnapshot(t){return t.meta.hash?t.meta.hash:(t.meta.hashPromise||(t.meta.hashPromise=new Promise(n=>{const r={...t};delete r.meta,Qr(JSON.stringify(r)).then(i=>{t.meta.hash=i,delete t.meta.hashPromise,n(i)})})),t.meta.hashPromise)}uploadServer(t){if(typeof D.files=="string"){let i=new URL(D.files,window.location).href;return i.endsWith("/")&&(i=i.slice(0,-1)),{url:i,apiKey:null}}const{apiKey:n,signServer:r}=this.getBackend(t);if(r==="none"&&!j.offline)throw Error("no file server configured");return{url:r,apiKey:n}}async uploadSnapshot(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;await this.hashSnapshot(t);const i=ee.begin("snapshot"),s=JSON.stringify(t),o=ee.end("snapshot")-i;j.snapshot&&console.log(this.id,`snapshot stringified (${s.length} bytes) in ${Math.ceil(o)}ms`);const{time:l,seq:a,hash:u}=t.meta,c=this.connection.socket;try{const S=await this.uploadEncrypted({content:s,path:this.snapshotPath(l,a,u),key:this.key,gzip:!0,debug:j.snapshot,what:"snapshot"});return this.connection.socket!==c?(console.warn(this.id,"Controller was reset while trying to upload snapshot"),!1):(this.announceSnapshotUrl(l,a,u,S,n,r),!0)}catch{return console.error(this.id,"Failed to upload snapshot"),!1}}announceSnapshotUrl(t,n,r,i,s,o){if(j.snapshot){let l=`time: ${t}, seq: ${n}, hash: ${r}`;o&&(l+=", as dissident; "+JSON.stringify(o)),console.log(this.id,`sending snapshot url to reflector (${l}): ${i}`)}try{this.connection.send(JSON.stringify({id:this.id,action:"SNAP",args:{time:t,seq:n,hash:r,url:i,auditStats:s,dissident:o}}))}catch(l){console.error("ERROR while sending",l)}this.diverged&&this.vm.publishFromView("__VM__","__diverged__",{key:`@${t}#${n}`,url:i,dissident:o})}async diffDivergedSnapshots(t){const n=await Promise.all(t.map(i=>this.downloadEncrypted({url:i,gzip:!0,key:this.key,debug:j.snapshot,json:!0,what:"diverged snapshot"})));for(const i of n)delete i.meta;let r=0;(function i(s,o,l){if(typeof s!=typeof o)console.log(`${l} diverged (${typeof s} vs ${typeof o}):`,s,o),r++;else if(Array.isArray(s)!==Array.isArray(o))console.log(`${l} diverged (array vs object):`,s,o),r++;else if(typeof s=="object"){const a=s?Object.keys(s):[],u=o?Object.keys(o):[],c=a.filter(b=>!u.includes(b)),S=u.filter(b=>!a.includes(b));(c.length||S.length)&&(console.log(`${l} diverged (keys mismatch):`,c,S),r++);for(const b of a)u.includes(b)&&i(s[b],o[b],`${l}${li(s,b)}`)}else s!==o&&(console.log(`${l} diverged (value mismatch):`,s,o),r++)})(n[0],n[1],"CROQUETVM"),r?console.log(`Total ${r} differences between diverged snapshots:`,n.slice(0,2)):console.log("... but diverged snapshots are identical?!")}async downloadEncrypted(t){let{url:n,gzip:r,key:i,debug:s,json:o,what:l}=t;n.startsWith(Rf)&&(n=n.replace(Rf,vm));const a=n.startsWith("offline:"),u=a?1:3;let c=Date.now();const S=await this.fetchWithRetries(`fetching ${l}`,[],u,()=>a?this.fetchOffline(n,l,s):fetch(n,{method:"GET",mode:"cors",referrer:$.referrerURL()})),b=await S.arrayBuffer();s&&console.log(this.id,`${l} fetched (${b.byteLength} bytes) in ${-c+(c=Date.now())}ms`),ee.addNetworkTraffic(`${l}_in`,b.byteLength);const g=this.decryptBinary(b,i);s&&console.log(this.id,`${l} decrypted (${g.length} bytes) in ${-c+(c=Date.now())}ms`);const X=r?Iw.inflate(g):g;return s&&r&&console.log(this.id,`${l} inflated (${X.length} bytes) in ${-c+(c=Date.now())}ms`),o?JSON.parse(new TextDecoder().decode(X)):X}async fetchOffline(t,n,r){const i=++Ef;return new Promise((s,o)=>{const l=ct?"addListener":"addEventListener",a=ct?"removeListener":"removeEventListener";cr.postMessage({job:i,cmd:"getOfflineFile",url:t,id:this.id,what:n,debug:r,offline:j.offline});const u=c=>{if(i!==c.data.job)return;const{ok:S,status:b,statusText:g,body:X,bytes:C}=c.data;ee.addNetworkTraffic(`${n}_out`,C),cr[a]("message",u),S?s({arrayBuffer:()=>X}):o(Error(`${b}: ${g}`))};try{cr[l]("message",u)}catch(c){console.log("failed to add listener",c)}})}async uploadEncrypted(t){let{content:n,path:r,key:i,gzip:s,keep:o,debug:l,what:a}=t;const u=typeof n=="string"?new TextEncoder().encode(n).buffer:n,c=o?void 0:[u],S=typeof i=="string"?i:dt.stringify(i),{apiKey:b,appId:g,persistentId:X}=this.sessionSpec,C=++Ef;return new Promise((y,p)=>{const f=ct?"addListener":"addEventListener",x=ct?"removeListener":"removeEventListener";cr.postMessage({job:C,cmd:"uploadEncrypted",server:this.uploadServer(b),path:r,buffer:u,keyBase64:S,gzip:s,referrer:$.referrerURL(),id:this.id,appId:g,persistentId:X,CROQUET_VERSION:Mn,debug:l,what:a,offline:j.offline},c);const L=w=>{if(C!==w.data.job)return;const{url:h,ok:m,status:d,statusText:v,bytes:Z}=w.data;ee.addNetworkTraffic(`${a}_out`,Z),cr[x]("message",L),m?y(h):p(Error(`${d}: ${v}`))};try{cr[f]("message",L)}catch(w){console.log("failed to add listener",w)}})}persistentPath(t){const{appId:n,persistentId:r}=this.sessionSpec;return`apps/${n}/${r}/save/${t}`}pollForPersist(t,n,r,i,s){if(!this.synced)return;if(!this.sessionSpec.appId)throw Error("Persistence API requires appId");if(j.offline)return;const o={viewId:this.viewId,hash:i,ms:s+.001*Math.random()},l={persistTime:n,persistentHash:i,persistentString:r};j.snapshot&&console.log(this.id,`sending persistence vote for time @${n}`,o),this.sendTutti({time:t,topic:"persist",data:o,localContext:l,tallyTarget:["handlePersistVote"]})}async handlePersistVote(t){const{tally:n,localContext:r}=t;if(j.snapshot){const c=r?`for time @${r.persistTime}`:"that we didn't participate in";console.log(this.id,`received persistence vote ${c}`,n)}const{numberOfGroups:i,shouldUpload:s,dissidentFlag:o}=this.analyzeTally(n,"ms");if(i>1&&console.warn(this.id,`Persistence records fall into ${i} groups`),!s||!r)return;const{persistTime:l,persistentHash:a,persistentString:u}=r;this.doPersist(l,u,a,o)}async doPersist(t,n,r,i){const s=await this.uploadEncrypted({path:this.persistentPath(r),content:n,key:this.key,gzip:!0,debug:j.snapshot,what:"persistence"});if(j.snapshot){const o=i?` (as dissident; ${JSON.stringify(i)})`:"";console.log(this.id,`sending persistent data url to reflector${o}: ${s}`)}try{this.connection.send(JSON.stringify({id:this.id,action:"SAVE",args:{persistTime:t,url:s,dissident:i}}))}catch(o){console.error("ERROR while sending",o)}}async forcePersist(t,n,r){this.didForcePersist?console.warn(this.id,"forcePersist called more than once, ignoring"):(console.warn(this.id,`forcePersist, will upload ${n.length} bytes`),D.forcePersist==="alert"&&confirm("forcePersist triggered. Do it?"),await this.doPersist(t,n,r),console.warn(this.id,"forcePersist completed"),this.didForcePersist=!0)}convertReflectorMessage(t){let n="noop",r=[];switch(t[2].what){case"users":{const{joined:s,left:o,active:l,total:a}=t[2];this.users=l,this.usersTotal=a;const u="__peers__",c={entered:s||[],exited:o||[],count:l,total:a};n="publishFromModelOnly",r=["__VM__",u,c],Ve.handleEvent(this.viewId+":"+u,c);break}case"tally":{const{tuttiSeq:s,tuttiKey:o,tally:l,tallyTarget:a,missingClients:u}=t[2];(j.messages||j.snapshot)&&u&&console.log(`${u} ${u===1?"client":"clients"} failed to participate in tally ${o||s}`),n="handleTuttiResult",r=[{tuttiSeq:s,tuttiKey:o,tally:l,tallyTarget:a}];break}case"audit":{const s=t[0];j.messages&&console.log(`audit request at time ${s}`),n="handleAuditRequest",r=[{time:s}];break}}const i=new mt(0,0,"_",n,r);t[2]=i.asState()[2]}handleTuttiResult(t){const{tuttiSeq:n,tuttiKey:r,tally:i,tallyTarget:s}=t,o=r?S=>S.tuttiKey===r:S=>S.dummyTuttiSeq===n,l=this.tuttiHistory.findIndex(o),a=l!==-1&&this.tuttiHistory.splice(l,1)[0];let u=null,c=null;if(a&&(u=a.payload,c=a.localContext),s){const[S,...b]=s,g=[...b,{tally:i,localPayload:u,localContext:c}],X=new mt(0,0,"_",S,g);this.vm.verifyExternal(X),X.executeOn(this.vm,!0)}}handleAuditRequest(t){const{time:n}=t;this.vm.time!==n&&console.error(`time ${this.vm.time} cf audit time ${n}`);const{auditStats:r}=this,{lastUsers:i,minUsers:s,maxUsers:o,payloadTally:l,sessionTimeAtDispatch:a}=r;if(r.payloadTally=0,this.vm.time>a&&(r.minUsers=r.maxUsers=i),!this.fastForwardHandler){const u=ee.networkTraffic.audit_reflector_in||0,c=ee.networkTraffic.audit_reflector_out||0;ee.resetAuditStats();const{clientId:S}=this.connection.socket;Promise.resolve().then(()=>{j.session&&console.log(this.id,`handling audit request at ${n} after ${u} bytes in, ${c} out`);const b=encodeURIComponent(JSON.stringify({time:n,clientId:S,lastUsers:i,minUsers:s,maxUsers:o,payloadTally:l,bytesIn:u,bytesOut:c})),g=`${at}/clients/report?session=${this.id}&stats=${b}`.replace("ws","http");fetch(g,{mode:"no-cors"})})}}handleUserTotalForAccounting(t){if(fe){const{auditStats:n}=this;if(n.lastUsers=t,this.vm.time<=n.sessionTimeAtDispatch)return;(n.minUsers===-1||t<n.minUsers)&&(n.minUsers=t),t>n.maxUsers&&(n.maxUsers=t)}}messageSizeForAccounting(t){let n=typeof t[2]=="string"?t[2].length:t[2]._size||0;return n+=16,n}async receive(t,n){var i;const r=this.lastReceived;switch(this.lastReceived=this.connection.lastReceived,t){case"SYNC":{this.syncReceived=!0,this.clearSyncReceiptTimeout(),gi.add(this);const{progressReporter:s}=this.sessionSpec,o=s||(()=>{}),{messages:l,url:a,persisted:u,time:c,seq:S,snapshotSeq:b,tove:g,reflector:X,flags:C,auditStatsInitializer:y}=n;if(g&&g!==this.tove)try{if(this.decrypt(g)!==this.id)throw Error("wrong sessionId in tove?!")}catch(d){return this.connection.closeConnectionWithError("SYNC",Error(`session password check: ${d.message}`),4200),void o(-1)}const p=n.timeline;this.flags=C||{};const f=u?"persistence":"snapshot";j.session&&console.log(this.id,`received SYNC from ${X} reflector: time ${c}, ${l.length} messages, ${f} ${a||"<none>"}`);let x=!!this.vm;if(x){this.networkQueue.length=0;const d=!!p&&p===this.timeline,v=l[0],Z=S,T=b!==void 0?b:v?v[1]:Z;j.messages&&console.log(this.id,`rejoin: we have #${this.vm.seq} SYNC has #${T}-#${Z}`);let P=d&&gs(T,this.vm.seq)&&gs(this.vm.seq,Z)&&c>=this.reflectorTime;if(P){let N=0;v&&gs(v[1],this.vm.seq)&&(N=this.vm.seq-v[1]+1>>>0);for(let F=N;P&&F<l.length;F++){const z=l[F][2];typeof z!="string"&&z.what==="users"&&z.left&&z.left.includes(this.viewId)&&(j.session&&console.log(this.id,"reflector reports that this view has left"),P=!1)}P&&N&&(j.messages&&console.log(this.id,`rejoin: discarding ${N} messages #${v[1]}-#${this.vm.seq}`),l.splice(0,N))}if(P){if(this.sendBuffer.length>0){const N=this.sendBuffer;this.sendBuffer=[],j.session&&console.log(this.id,`rejoin: sending ${N.length} messages buffered while disconnected`);for(const F of N)F()}}else j.session&&console.log(this.id,"cannot rejoin seamlessly; rebooting model/view"),this.leave(!0),x=!1}const L=this.networkQueue;this.networkQueue=[];for(const d of l){const v=this.messageSizeForAccounting(d);if(typeof d[2]!="string")this.convertReflectorMessage(d);else try{d[2]=this.decryptPayload(d[2])[0]}catch(Z){return this.connection.closeConnectionWithError("SYNC",Error(`session password decrypt: ${Z.message}`),4200),void o(-1)}j.messages&&console.log(this.id,"received in SYNC "+JSON.stringify(d)),this.networkQueue.push([d,v])}if(this.networkQueue.push(...L),c>this.reflectorTime&&this.timeFromReflector(c,"reflector"),x)return j.session&&console.log(this.id,"seamless rejoin successful"),void(this.syncCompleted=!0);let w;if(this.timeline=p||"",j.snapshot&&a&&console.log(this.id,`fetching ${f} ${a}`),a)try{w=await this.downloadEncrypted({url:a,gzip:!0,key:this.key,debug:j.snapshot,json:!0,what:f})}catch(d){return this.connection.closeConnectionWithError("SYNC",Error(`failed to fetch ${f}: ${d.message}`),4200),void o(-1)}if(!this.connected)return console.log(this.id,"disconnected during SYNC"),void o(-1);if(u){if(this.migratingOldSnapshot)throw Error("hashOverride is enabled but got persisted data instead of snapshot");this.install(w)}else w&&(this.sessionSpec.snapshot=w),this.install();y&&(j.session&&console.log(this.id,`installing audit stats: ${JSON.stringify(y)}`),this.auditStats=y),j.session&&console.log(this.id,`fast-forwarding from ${Math.round(this.vm.time)} to at least ${c}`);const h=this.vm.time,m=await new Promise(d=>{const{port1:v,port2:Z}=new MessageChannel;v.onmessage=()=>{let T=!0;if(this.vm.time===this.reflectorTime)this.viewId in this.vm.views&&(o(1),d(!0),T=!1);else{const P=(this.vm.time-h)/(this.reflectorTime-h);o(P)}T&&this.stepSession("fastForward",{budget:Ni})},this.fastForwardHandler=T=>{this.connected&&this.vm?T==="error"?(o(-1),d(!1)):Z.postMessage("tick"):(console.log(this.id,"disconnected during SYNC fast-forwarding"),o(-1),d(!1))},Promise.resolve().then(()=>this.stepSession("fastForward",{budget:Ni}))});return delete this.fastForwardHandler,void(m&&(j.session&&console.log(this.id,`fast-forwarded to ${Math.round(this.vm.time)}`),this.vm.diverged&&$.showMessage("Croquet: session had diverged",{level:"warning",only:"once"}),this.sessionSpec.sessionJoined()))}case"RECV":{const s=n;s[1]>>>=0;const o=this.messageSizeForAccounting(s);if(typeof s[2]!="string")j.messages&&console.log(this.id,"received META "+JSON.stringify(s)),this.convertReflectorMessage(s),j.messages&&console.log(this.id,"converted to "+JSON.stringify(s));else try{const[a,u,c]=this.decryptPayload(s[2]);s[2]=a,u===this.viewId&&this.addToStatistics(c,this.lastReceived),j.messages&&console.log(this.id,"received "+JSON.stringify(s))}catch(a){return void this.connection.closeConnectionWithError("RECV",Error(`session password decrypt: ${a.message}`),4200)}let l;return this.networkQueue.push([s,o]),this.flags.rawtime&&(l=s[s.length-1]),this.timeFromReflector(s[0],"reflector",l),void(this.simulateIfNeeded&&Promise.resolve().then(()=>this.simulateIfNeeded()))}case"TICK":{if(!this.vm)return;const s=typeof n=="number"?n:n.time;if(j.ticks){const o=r&&this.lastReceived-r-this.msPerTick*this.tickMultiplier|0,l=s-this.vm.time;console.log(this.id,`received TICK ${s} ${Math.abs(o)<5?"on time":o<0?"early":"late"} (${l} ms, jitter ${o>0?"+":""}${o} ms)`)}return this.timeFromReflector(s,"reflector"),this.tickMultiplier>1&&this.multiplyTick(s),void(this.simulateIfNeeded&&Promise.resolve().then(()=>this.simulateIfNeeded()))}case"INFO":{const{msg:s,options:o}=n,l=fe?"Multisynq Synchronizer":"Croquet Reflector";return void $.showMessage(`${l}: ${s}`,o)}case"REQU":return j.snapshot&&console.log("received REQU (snapshot request) from reflector"),void(this.reflectorNeedsSnapshot=!0);case"RECONNECT":(i=this.connection.socket)==null||i.synchronizerDisconnected(4003,"told to reconnect");break;default:console.warn("Unknown action:",t,n)}}install(t){const n=Date.now(),{snapshot:r,initFn:i,options:s,debugEvents:o}=this.sessionSpec,[l,a]=r.modelsById?["deserializ","snapshot"]:["initializ","root model"];j.session&&console.log(this.id,`${l}ing ${a}`);let u=new ft(r,o,()=>{try{return i(s,t)}catch(S){throw je("init",S,"fatal"),S}},this.migratingOldSnapshot);if((j.session||j.snapshot&&r.modelsById)&&console.log(this.id,`${a} ${l}ed in ${Date.now()-n}ms`),j.initsnapshot&&!r.modelsById){j.snapshot&&console.log(this.id,"exercising snapshot and restore after init()");let S=null;try{S=JSON.stringify(u.snapshot())}catch(b){throw je("initial snapshot",b,"fatal"),b}try{u=new ft(JSON.parse(S),o,()=>i(s))}catch(b){throw je("initial snapshot resume",b,"fatal"),b}}const c=this.lastKnownTime(u);this.reflectorTime=Math.max(this.reflectorTime,c),this.setVM(u)}setVM(t){this.vm=t,this.vm.controller=this}sendJoin(){this.syncReceived=!1,this.syncCompleted=!1,delete this.fastForwardHandler,this.rejoinTimeout&&(clearTimeout(this.rejoinTimeout),this.rejoinTimeout=0),j.session&&console.log(this.id,"Controller sending JOIN");const{tick:t,delay:n}=this.getTickAndMultiplier(),{name:r,codeHash:i,appId:s,apiKey:o,persistentId:l,developerId:a,heraldUrl:u,rejoinLimit:c,autoSleep:S,computedCodeHash:b,location:g,flags:X}=this.sessionSpec,C=fe?"hidden":this.getBackend(o).apiKey,y=g?[this.viewId]:this.viewId,p={name:r,apiKey:C,appId:s,persistentId:l,url:$.referrerURL(),sdk:Mn,developerId:a,version:1,user:y,location:g,ticks:{tick:t,delay:n},dormantDelay:S,tove:this.tove,codeHash:i};u&&Object.assign(p,{heraldUrl:u}),c&&Object.assign(p,{leaveDelay:c+250}),b!==i&&Object.assign(p,{computedCodeHash:b}),X&&Object.assign(p,{flags:X}),this.connection.send(JSON.stringify({id:this.id,action:"JOIN",args:p})),this.syncReceiptTimeout=setTimeout(()=>{delete this.syncReceiptTimeout,this.syncReceived||this.connection.closeConnectionWithError("JOIN",Error("Initial reflector connection timed out"))},5e3)}clearSyncReceiptTimeout(){this.syncReceiptTimeout&&(clearTimeout(this.syncReceiptTimeout),delete this.syncReceiptTimeout)}connectionInterrupted(){this.syncReceived&&(this.shouldLeaveWhenDisconnected?this.leave():this.rejoinTimeout||(this.rejoinTimeout=setTimeout(()=>{this.leaving?j.session&&console.log(this.id,"abandoning rejoin; session is defunct"):(j.session&&console.log(this.id,"rejoin timed out"),this.rejoinTimeout=0,this.leave())},this.sessionSpec.rejoinLimit)))}leave(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];const{rebootModelView:n}=this.sessionSpec;if(this.reset(),j.session&&console.log(this.id,`resetting ${t?"(but keeping)":"and discarding"} controller`),t||gi.delete(this),!this.sessionSpec)throw Error("do not discard sessionSpec!");n()}async encrypt(t){const n=mr.random(16),r=go.encrypt(t,this.key,{iv:n}),i=Wa(t,this.key);return`${dt.stringify(n)}${dt.stringify(i)}${r}`}get deprecatedDefaultKey(){return Ja||(Ja=qh("THIS SHOULDN'T BE IN LOGS","",{keySize:8})),Ja}decrypt(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.key;const r=dt.parse(t.slice(0,24)),i=dt.parse(t.slice(24,68)),s=t.slice(68),o=go.decrypt(s,n,{iv:r});let l="";try{l=Lv.stringify(o)}catch{}const a=Wa(l,this.key);if(this.compareHmacs(i.words,a.words))return l;if(n!==this.deprecatedDefaultKey)return this.decrypt(t,this.deprecatedDefaultKey);throw Error("Decryption error")}decryptBinary(t,n){const r=new TextDecoder().decode(new Uint8Array(t,0,4));let i,s,o,l,a;switch(typeof n=="string"&&(n=dt.parse(n)),r){case"CRQ0":i=new TextDecoder().decode(t),s=dt.parse(i.slice(4,28)),o=dt.parse(i.slice(28,72)),l=i.slice(72),a=go.decrypt(l,n,{iv:s});break;case"CRQ1":i=new Uint8Array(t),s=mr.create(i.subarray(4,20)),o=mr.create(i.subarray(20,52)),l=mr.create(i.subarray(52)),a=go.decrypt({ciphertext:l},n,{iv:s});break;default:throw Error(`${this.id} unknown encryption version ${r}`)}a.clamp();const u=Wa(a,n);if(this.compareHmacs(o.words,u.words))return Xp(a);if(n!==this.deprecatedDefaultKey)return this.decryptBinary(t,this.deprecatedDefaultKey);throw Error("Decryption error")}async encryptMessage(t,n,r){const[i,s,o]=t.asState();return[i,s,await this.encryptPayload([o,n,r])]}async encryptPayload(t){return this.encrypt(JSON.stringify(t))}decryptPayload(t){return JSON.parse(this.decrypt(t))}compareHmacs(t,n){let r=t.length===n.length;for(let i=0;i<t.length;i++)t[i]!==n[i]&&(r=!1);return r}sendMessage(t){if(this.viewOnly||!this.vm)return;const n=t.asState()[2].length;if(n>16384)return void console.warn(this.id,`Message with payload of ${n} bytes exceeds maximum 16384 and will not be sent to reflector.`);!this.payloadSizeWarned&&n>Mf&&(console.log(this.id,`Message with payload of ${n} bytes being sent to reflector. Maximum recommended is 4096.`),this.payloadSizeWarned=!0);const r=Date.now(),i=this.rateLimitedSendTimes,s=this.rateLimitBuffer;if(ee.perSecondTally({requestedMessages:1}),s.length)return void this.addToRateLimitBuffer(t);let o=0;if(i.length&&this.synced){const l=i[i.length-1],a=1e3/this.eventRateLimit-(r-l);a>1&&(o=Math.ceil(a))}o?(this.addToRateLimitBuffer(t),setTimeout(()=>this.serviceRateLimitBuffer(),o)):(this.recordRateLimitedSend(r),this.socketSendMessage(t),ee.perSecondTally({sentSingleMessages:1,sentMessagesTotal:1,sentPayloadTotal:n}))}recordRateLimitedSend(t){const n=this.rateLimitedSendTimes;!this.synced&&n.length&&n[n.length-1]===t||(n.push(t),n.length>this.eventHistoryLimit&&n.shift()),!this.rateLimitSoftWarned&&n.length===this.eventHistoryLimit&&t-n[0]<1010&&(console.warn(this.id,`Sends to reflector are at or above recommended limit of ${this.eventHistoryLimit} within one second. Events will be bundled as necessary to keep to the limit.`),this.rateLimitSoftWarned=!0)}addToRateLimitBuffer(t){ee.perSecondTally({bundledMessages:1});const n=Date.now(),r=t.asState(),i=r[2].length,s=this.rateLimitBuffer;if(s.length){const l=s[s.length-1],{msgStates:a,totalPayload:u}=l;if(u<Mf)return a.push({msgState:r,bufferTime:n}),void(l.totalPayload+=i)}ee.perSecondTally({newBundles:1}),s.push({msgStates:[{msgState:r,bufferTime:n}],totalPayload:i});const o=s.length;j.session&&o%5==0&&o!==this.rateLimitLastLogged&&(console.log(this.id,`SEND rate-limit buffer grew to ${o} event bundles (max ${this.eventMaxBundles})`),this.rateLimitLastLogged=o),o>this.eventMaxBundles?(console.error(this.id,"Disconnecting after overflow of SEND rate-limit buffer."),this.connection.closeConnectionWithError("SEND",Error("Send rate exceeded"),4200)):!this.rateLimitBufferWarned&&o>this.eventMaxBundles/2&&(console.warn(this.id,"SEND rate-limit buffer is 50% full. If send rate does not drop, the app will be disconnected."),this.rateLimitBufferWarned=!0)}serviceRateLimitBuffer(){if(!this.connected)return;const t=this.rateLimitBuffer;if(!t.length)return;const n=Date.now(),r=1e3/this.eventRateLimit,i=this.rateLimitedSendTimes;if(i.length){const c=i[i.length-1];if(r-(n-c)>0)return}const s=t.shift(),{msgStates:o,totalPayload:l}=s,a=[];let u=0;if(o.forEach(c=>{a.push(c.msgState),u+=n-c.bufferTime}),a.length===1){const c=mt.fromState(a[0],this.vm);this.socketSendMessage(c)}else{const c=new mt(this.vm.time,0,"_","handleBundledEvents",[a]);this.socketSendMessage(c)}if(this.recordRateLimitedSend(n),ee.perSecondTally({sentBundles:1,sentMessagesTotal:o.length,sendDelay:u,sentBundlePayload:l,sentPayloadTotal:l}),j.session&&this.connected){const c=t.length;c&&c%5==0&&c!==this.rateLimitLastLogged&&(console.log(this.id,`SEND rate-limit buffer dropped to ${c} event bundles`),this.rateLimitLastLogged=c)}t.length&&setTimeout(()=>this.serviceRateLimitBuffer(),r)}async socketSendMessage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const r=await this.encryptMessage(t,this.viewId,Date.now()),i=j.sends&&(n?`tagged SEND ${t.asState()} with tags ${JSON.stringify(n)}`:`SEND ${t.asState()}`);if(!this.connected||!this.syncCompleted)return void(this.vm&&(j.sends&&console.log(this.id,`buffering ${i}`),this.sendBuffer.push(()=>this.socketSendMessage(t,n))));j.sends&&console.log(this.id,`sending ${i}`);const s={id:this.id,action:"SEND",args:[...r,this.latency]};n&&(s.tags=n),this.lastSent=Date.now(),this.connection.send(JSON.stringify(s))}async sendTagged(t,n){this.viewOnly||this.socketSendMessage(t,n)}async sendTutti(t){let{time:n,topic:r,data:i,localContext:s=null,firstMessage:o=null,wantsVote:l=!0,tallyTarget:a=null}=t;if(this.viewOnly)return;const u=o&&await this.encryptMessage(o,this.viewId,Date.now()),c=Sr.default(i);if(!this.connected||!this.syncCompleted)return void(this.vm&&(j.sends&&console.log(this.id,`buffering "${r}" TUTTI ${c} ${o&&o.asState()}`),this.sendBuffer.push(()=>this.sendTutti({time:n,topic:r,data:i,localContext:s,firstMessage:o,wantsVote:l,tallyTarget:a}))));j.sends&&console.log(this.id,`sending "${r}" TUTTI ${c} ${o&&o.asState()}`),this.lastSent=Date.now();const S=`${r}@${n}`;this.connection.send(JSON.stringify({id:this.id,action:"TUTTI",args:[n,0,c,u,l,a,S]})),this.tuttiHistory.length>100&&this.tuttiHistory.shift(),this.tuttiHistory.push({time:n,tuttiKey:S,dummyTuttiSeq:0,payload:c,localContext:s})}sendLog(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.connected&&this.syncCompleted?(j.sends&&console.log(this.id,"sending LOG"),n.length<2&&(n=n[0]),this.connection.send(JSON.stringify({action:"LOG",args:n}))):this.vm&&(j.sends&&console.log(this.id,"buffering LOG"),this.sendBuffer.push(()=>this.sendLog(...n)))}addToStatistics(t,n){this.latency=n-t,this.latencyHistory&&(this.latencyHistory.length>=100&&this.latencyHistory.shift(),this.latencyHistory.push({time:n,ms:this.latency}))}get latencies(){return this.latencyHistory||(this.latencyHistory=[]),this.latencyHistory}getTickAndMultiplier(){const t=this.sessionSpec.options,n=["number","string"].includes(typeof t.tps)?t.tps:["number","string"].includes(typeof this.sessionSpec.tps)?this.sessionSpec.tps:20,[r,i]=(n+"x").split("x").map(u=>Number.parseFloat("0"+u)),s=1e3/Math.max(1/30,Math.min(60,r)),o=Math.max(1,i);let l=s,a=0;return o>1&&!Yw&&(l=s/o,a=Math.ceil(l*(o-1))),{msPerTick:l,multiplier:o,tick:s,delay:a}}simulate(t){if(!this.vm)return!0;try{let n=!0;if(this.networkQueue.length+this.vm.messages.size===0)n=this.vm.advanceTo(this.reflectorTime,t);else{const o=ee.begin("simulate");for(;n;){const l=this.networkQueue[0];if(!l)break;const[a,u]=l;if(n=this.vm.advanceTo(a[0],t),!n)break;this.networkQueue.shift(),fe&&(this.auditStats.payloadTally+=u);const c=this.vm.scheduleExternalMessage(a);n=this.vm.advanceTo(c.time,t),this.cpuTime+=5}n&&(n=this.vm.advanceTo(this.reflectorTime,t)),this.cpuTime+=Math.max(.01,ee.end("simulate")-o)}ee.backlog(this.backlog);const r=this.lag,i=Math.max(200,.1*this.msPerTick),s=Math.max(2e3,.2*this.msPerTick);if(typeof this.synced=="boolean"&&this.viewed&&(this.synced&&r>s||!this.synced&&r<i)&&(this.synced?this.applySyncChange(!1):this.syncTimer||(this.syncTimer=setTimeout(()=>{delete this.syncTimer,this.connected&&this.lag<i&&this.applySyncChange(!0)},200))),!j.offline)if(this.synced&&n&&this.vm.time-this.lastSnapshotRequest>5e3){let o=!1;this.cpuTime>5e3?(j.snapshot&&console.log(this.id,`due for snapshot: cpuTime is ${Math.round(this.cpuTime)}ms`),o=!0):fe&&this.vm.time-this.vm.lastSnapshotPoll>3e5&&(j.snapshot&&console.log(this.id,`due for snapshot: time since last is ${this.vm.time-this.vm.lastSnapshotPoll}ms`),o=!0),o&&(this.lastSnapshotRequest=this.vm.time,this.triggeringCpuTime=this.cpuTime,this.cpuTime=0,this.isBeingAnimated()?setTimeout(()=>this.scheduleSnapshot(),Math.floor(2e3*Math.random())):this.scheduleSnapshot())}else this.reflectorNeedsSnapshot&&(this.triggeringCpuTime=this.synced?this.cpuTime:12345,this.scheduleSnapshot(!0),this.reflectorNeedsSnapshot=!1);return n}catch(n){return je("simulate",n),this.connection.closeConnectionWithError("simulate",n),"error"}}stepSession(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=ee.stepSession(n.frameTime,!0);r&&console.log(r);const{backlog:i,latency:s,starvation:o,activity:l}=this;if(t==="animation"){ee.animationFrame(n.frameTime,{backlog:i,starvation:o,latency:s,activity:l,users:this.users});const u=Date.now();if(this.lastAnimationEnd){const c=u-this.lastAnimationEnd;if(this.animationGapCheck===!0&&c>200&&(this.animationGapCheck=[],j.session&&console.log(this.id,"animation has stopped (too long between steps)")),this.animationGapCheck!==!0){const S=this.animationGapCheck;S.push(c),S.length>4&&S.shift(),S.length===4&&S.reduce((b,g)=>b+g,0)<=400&&(this.animationGapCheck=!0,j.session&&console.log(this.id,"animation has started"))}}this.lastAnimationEnd=u}if(!this.connected)return void(this.isInBackground()||this.checkForConnection(!0));if(!this.vm)return;let a;switch(t){case"animation":{const u=n.expectedSimFPS,c=Date.now(),S=zi.reduce((b,g)=>b+g,0)/zi.length;if(a=this.simulate(c+Math.min(S,Ni)),a===!1){const b=u===0?0:1e3/u*4;this.backlog>b&&(a=this.simulate(c+Ni-S))}a!=="error"&&(zi.push(Date.now()-c),zi.length>4&&zi.shift());break}case"fastForward":case"background":a=this.simulate(Date.now()+n.budget);break;default:console.warn(t)}this.fastForwardHandler&&this.fastForwardHandler(a),a!=="error"&&(ee.begin("update"),this.processModelViewEvents(t==="animation"),ee.end("update"),this.vm&&(this.serviceRateLimitBuffer(),t==="animation"&&(n.view&&(ee.begin("render"),this.inViewRealm(()=>n.view.update(n.frameTime)),ee.end("render")),this.lastAnimationEnd=Date.now())))}applySyncChange(t){j.session&&console.log(this.id,`synced=${t}`),this.synced=t,$.showSyncWait(!t),this.vm.publishFromView(this.viewId,"synced",t)}inViewRealm(t){return Gs(this.vm,()=>t(this.vm))}processModelViewEvents(t){return this.vm?this.vm.processModelViewEvents(t):0}timeFromReflector(t,n,r){t<this.reflectorTime?(n!=="controller"||j.ticks)&&console.warn(`time is ${this.reflectorTime}, ignoring time ${t} from ${n}`):(typeof this.synced!="boolean"&&(this.synced=!1),this.reflectorTime=t,this.extrapolatedTimeBase=Date.now()-t,this.vm&&ee.backlog(this.backlog),this.tickHook&&this.tickHook(t,r))}multiplyTick(t){this.localTicker&&globalThis.clearInterval(this.localTicker);const n=this.msPerTick,r=this.tickMultiplier;let i=1;this.localTicker=globalThis.setInterval(()=>{this.timeFromReflector(Math.round(t+i*n),"controller"),j.ticks&&console.log(this.id,"Controller generate TICK "+this.reflectorTime,i),++i>=r&&(globalThis.clearInterval(this.localTicker),this.localTicker=0)},n)}startStepping(t){const n=r=>{this.leaving||(this.isOutOfSight()||t(r),window.requestAnimationFrame(n))};window.requestAnimationFrame(n)}setUpActivityChecks(){let t=null;this.isOutOfSight=()=>!(ct||document.visibilityState!=="hidden"&&t),this.isBeingAnimated=()=>{const o=this.animationGapCheck===!0,l=Date.now()-this.lastAnimationEnd<200;return o&&!l&&(this.animationGapCheck=[],j.session&&console.log(this.id,"animation has stopped (too long since last step)")),o&&l},this.isInBackground=()=>this.isOutOfSight()||!this.isBeingAnimated(),!ct&&new IntersectionObserver((o,l)=>t=o[0].isIntersecting).observe(document.body);const n=this.sessionSpec.autoSleep;let r;if(n){const o=1e3*n;let l=0,a=0;r=()=>{const u=Date.now();u-l<980||(l=u,this.isOutOfSight()?a?u-a>o&&(this.dormantDisconnect(),a=0):a=u:a=0)}}const i=()=>{this.leaving?s&&(clearInterval(s),s=null):this.connected&&this.vm&&(r&&r(),this.isBeingAnimated()||this.connection.keepAlive(Date.now()))};let s=setInterval(i,1e3);this.simulateIfNeeded=()=>{if(!this.isBeingAnimated()&&(i(),!this.fastForwardHandler&&this.connected)){let o=.9*this.msPerTick;n&&(o=Math.min(o,Ni));const l=this.synced?"background":"fastForward";this.stepSession(l,{budget:o})}}}toString(){return`Controller[${this.id}]`}[Symbol.toPrimitive](){return this.toString()}},Fw=class{constructor(t){this.controller=t,this.socketLastSent=0,this.connectBlocked=!1,this.connectRestricted=!1,this.connectHasBeenCalled=!1,this.reconnectDelay=0,this.missingTickThreshold=1/0}get id(){return this.controller.id}setTick(t){this.missingTickThreshold=Math.min(3*t,45e3)}get connected(){return!(!this.socket||!this.socket.isConnected())}checkForConnection(t){this.socket||this.connectHasBeenCalled||this.connectBlocked||this.connectRestricted&&!t||this.connectToReflector()}connectToReflector(){if(this.socket||this.connectHasBeenCalled)return;let t;this.connectHasBeenCalled=!0,this.connectBlocked=!1,this.connectRestricted=!1;const n=()=>{j.session&&console.log(this.id,this.socket.constructor.name,"connected to",this.socket.url),this.reconnectDelay=0,ee.connected(!0),this.controller.sendJoin()};if(j.offline)t=new _w,t.isConnected=()=>t.readyState===WebSocket.OPEN;else if(fe){const{synchSpec:r,developSpec:i}=D;if(r&&i)throw Error("Cannot handle both synchSpec and developSpec options");let s="";const o=r||i;o&&(s+=`&synch=${encodeURIComponent(o)}`);const l=this.id,{persistentId:a,appId:u,developerId:c}=this.controller.sessionSpec;t=new Mw(`${at}/clients/connect?session=${l}&persist=${a}&app=${encodeURIComponent(u)}&developer=${c}${s}`),t.isConnected=()=>{var S;return((S=t.dataChannel)==null?void 0:S.readyState)==="open"},t.onconnected=n}else{let r=this.controller.getBackend(this.controller.sessionSpec.apiKey).reflector;const i=ct?void 0:window.location.href,s={},o=this.controller.sessionSpec.token;if(o&&(s.token=o),D.reflector){const a=D.reflector.toUpperCase();a==="CF"||a.match(/^[A-Z]{3}$/)?(r=j.reflector?"wss://croquet.network/reflector/dev/":"wss://croquet.network/reflector/",a.length===3&&(s.colo=a)):D.reflector.match(/^[-a-z0-9]+$/i)?s.region=D.reflector:r=new URL(D.reflector,i).href.replace(/^http/,"ws")}if(!r.match(/^wss?:/))throw Error("Cannot interpret reflector address "+r);r.endsWith("/")||(r+="/");const l=new URL(r+this.id,i);for(const[a,u]of Object.entries(s))l.searchParams.append(a,u);t=new WebSocket(l),t.isConnected=()=>t.readyState===WebSocket.OPEN}t.onopen=r=>{const i=this.socket;i&&(i.onopen=i.onmessage=i.onerror=i.onclose=null),this.socket=t,this.connectHasBeenCalled=!1,t.twoStageConnection||n()},t.onmessage=r=>{if(t!==this.socket)return;const{data:i}=r;if(i.startsWith("_CHUNK")){const o=i.charAt(6)==="1",l=i.charAt(7)==="1",a=i.slice(8);if(o&&(t.chunkCollector=[]),t.chunkCollector.push(a),l){const u="".concat(...t.chunkCollector);t.chunkCollector=[],ee.addNetworkTraffic("reflector_in",u.length,!!fe),this.receive(u)}}else ee.addNetworkTraffic("reflector_in",i.length,!!fe),this.receive(i)},t.onerror=r=>{j.session&&console.log(this.id,t.constructor.name,"connection error"),this.connectHasBeenCalled=!1,this.controller.clearSyncReceiptTimeout()},t.onclose=r=>{this.socket&&t!==this.socket||this.socketClosed(r.code,r.reason)}}socketClosed(t,n){j.session&&console.log(this.id,`socketClosed with code=${t} message="${n}"`),t>=4100&&t!==4110&&(j.session&&console.warn("resuming this session will require a new Session.join()"),this.controller.leaving||(this.controller.leaving=()=>{}),this.reconnectDelay=0);const r=!this.controller.leaving&&t!==1e3&&t<4100,i=t===4110;i||t===1e3||this.reconnectDelay||setTimeout(()=>{var s,o;this.connected||(o=(s=this.socket)==null?void 0:s.isConnecting)!=null&&o.call(s)||$.showMessage(`Connection closed: ${t} ${n}`,{level:r?"error":"fatal"})},500),j.session&&console.log(this.id,`${this.socket?this.socket.constructor.name+" closed":"closed before opening,"} with code: ${t} ${n}`),this.connectHasBeenCalled=!1,this.controller.clearSyncReceiptTimeout(),ee.connected(!1),ee.resetAuditStats(),i?this.connectRestricted=!0:this.connectBlocked=!0,this.disconnected(),r&&(j.session&&console.log(this.id,`reconnecting in ${this.reconnectDelay} ms`),this.reconnectTimeout=globalThis.setTimeout(()=>{delete this.reconnectTimeout,this.connectToReflector()},this.reconnectDelay),this.reconnectDelay=Math.min(3e4,Math.round((this.reconnectDelay+100)*(1+Math.random()))))}disconnected(){this.socket&&(this.socket=null,this.lastReceived=0,this.socketLastSent=0,this.stalledSince=0,this.connectHasBeenCalled=!1,this.controller.connectionInterrupted())}send(t){this.socketLastSent=Date.now(),this.socket.send(t),ee.addNetworkTraffic("reflector_out",t.length,!!fe)}receive(t){this.lastReceived=Date.now();const{id:n,action:r,args:i}=JSON.parse(t);if(n)try{this.controller.receive(r,i)}catch(s){this.closeConnectionWithError("receive",s)}else if(r==="PONG"){if(j.pong&&console.log("PONG after",Date.now()-i,"ms"),this.pongHook)try{this.pongHook(i)}catch(s){console.error(s)}}else console.warn("Unknown action",r)}dormantDisconnect(){this.connected&&(j.session&&console.log(this.id,"dormant; disconnecting from reflector"),this.closeConnection(4110,"Going dormant"))}closeConnectionWithError(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:4e3;console.error(r,n),this.closeConnection(r,`Error in ${t}: ${n.message||n}`)}closeConnection(t,n){if(this.socket){this.socket.onclose=null;try{this.socket.close(t,n)}catch(r){console.error(`Error in socket.close(${t}, ${JSON.stringify(n)}):`,r)}}this.socketClosed(t,n)}PULSE(t){this.connected&&(this.socket.bufferedAmount===0?(this.send(JSON.stringify({action:"PULSE"})),this.stalledSince=0):this.stalledSince&&t-this.stalledSince>500?console.log(this.id,`Reflector connection stalled: ${this.socket.bufferedAmount} bytes unsent for ${t-this.stalledSince} ms`):this.stalledSince=Date.now())}keepAlive(t){this.lastReceived!==0&&(t-this.socketLastSent>25e3?this.PULSE(t):t-this.lastReceived>5e4?this.closeConnectionWithError("connection",Error((fe?"Synchronizer":"Reflector")+" has gone away")):t-this.lastReceived>this.missingTickThreshold&&this.PULSE(t))}PING(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now();this.connected&&this.send(JSON.stringify({action:"PING",args:t}))}};globalThis.setInterval(()=>{for(const e of gi)e.connected&&e.vm&&e.connection.keepAlive(Date.now())},100);const $a=Symbol("hash"),Ba=Symbol("key"),Lo=Symbol("url"),zf=new Map;let Vf=0;function Vi(e){return D.has("debug",e,!1)}function Aa(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hi(e){return e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+3&-4,"=")}function Xo(e,t){return e||(e="*"),t.replace(/[\s\S]/g,n=>String.fromCharCode(n.charCodeAt(0)^e.charCodeAt(0)))}let jw=class{async store(){throw Error("Data.store() needs to be called from session.data")}async fetch(){throw Error("Data.fetch() needs to be called from session.data")}static async store(t,n,r){if(ft.hasCurrent())throw Error("Croquet.Data.store() called from Model code");let i,s,o;if(typeof t=="string"?(i=t,t=n,s=!0,o=r):(i=n&&n.sessionId,s=n&&n.shareable,o=n&&n.keep),!(t instanceof ArrayBuffer))throw Error("Croquet.Data.store() called with non-ArrayBuffer data");const{appId:l,persistentId:a,key:u,uploadEncrypted:c}=Nf(i),S=s?mr.random(32).toString(dt):dt.stringify(u),b=`apps/${l}/${a}/data/%HASH%`,g="data#"+ ++Vf;Vi("data")&&console.log(`Croquet.Data: storing ${g} ${t.byteLength} bytes`);const X=await c({path:b,content:t,key:S,keep:o,debug:Vi("data"),what:g}),C=function(p){return p.replace(/.*\//,"")}(X),y=new Tt(C,s&&S,X);return Vi("data")&&console.log(`Croquet.Data: stored ${g} as ${this.toId(y)}`),y}static async fetch(t,n){let r;if(n&&n[Lo]?(r=t,t=n):r=n&&n.sessionId,ft.hasCurrent())throw Error("Croquet.Data.fetch() called from Model code");const{downloadEncrypted:i,key:s}=Nf(r),o=t&&t[$a],l=t&&t[Ba]||dt.stringify(s),a=t&&t[Lo];if(typeof o!="string"||typeof l!="string"||typeof a!="string")throw Error("Croquet.Data.fetch() called with invalid handle");const u="data#"+ ++Vf;return Vi("data")&&console.log(`Croquet.Data: fetching ${u} ${this.toId(t)}`),i({url:a,key:l,debug:Vi("data"),what:u})}static hash(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"base64url";typeof t=="function"&&(t=Function.prototype.toString.call(t)),typeof t=="string"?t=new TextEncoder().encode(t):t&&t.constructor===DataView?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t&&t.constructor===ArrayBuffer?t=new Uint8Array(t):ArrayBuffer.isView(t)||(t=new TextEncoder().encode(Sr.default(t)));const r=xp(mr.create(t));switch(n){case"hex":return r.toString();case"base64":return r.toString(dt);case"base64url":return Aa(r.toString(dt));default:throw Error(`Croquet.Data: unknown hash output "${n}", expected "hex"/"base64"/"base64url"`)}}static fromId(t){const n=t.slice(0,1);let r,i,s,o;switch(n){case"0":r=t.slice(1,44),i=t.slice(44),s=`${Da}/sessiondata/${r}`;break;case"1":r=t.slice(1,44),i=t.slice(44,87)+"=",o=t.slice(87),s=`${Da}/apps/${o}/data/${r}`;break;case"2":r=t.slice(1,44),i=Hi(t.slice(44,87)),o=Xo(i,atob(Hi(t.slice(87)))),s=`${Da}/apps/${o}/data/${r}`;break;case"3":i=Hi(t.slice(1,44)),s=Xo(i,atob(Hi(t.slice(44)))),r=s.slice(-43);break;case"4":i=null,s=Xo(i,atob(Hi(t.slice(1)))),r=s.slice(-43);break;default:throw Error(`Croquet.Data expected handle v0-v4 got v${n}`)}return new this(r,i,s)}static toId(t){if(!t)return"";const n=t[$a],r=t[Ba],i=t[Lo];if(i.slice(-43)!==n)throw Error("Croquet Data: malformed URL");const s=r&&Aa(r),o=Aa(btoa(Xo(r,i)));return r?`3${s}${o}`:`4${o}`}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;const i=zf.get(t);if(i)return i;if(r.slice(-43)!==t)throw Error("Croquet Data: malformed URL");Object.defineProperty(this,$a,{value:t}),n&&Object.defineProperty(this,Ba,{value:n}),Object.defineProperty(this,Lo,{value:r}),zf.set(t,this)}},Tt=class extends jw{};const qc={cls:Tt,write:e=>Tt.toId(e),read:e=>Tt.fromId(e)};let B=null,ln=null;const Yi=Symbol("DEBUG_WRITE_TARGET");let Cn=null;function li(e,t){return Array.isArray(e)||typeof t!="string"?`[${t}]`:t.match(/^[a-z_$][a-z0-9_$]*$/i)?`.${t}`:`["${t}"]`}let bm=class extends Error{};function Hf(){if(!globalThis.CroquetViewMath){globalThis.CroquetMath.random=()=>B.random(),globalThis.CroquetViewMath={};for(const[e,t]of Object.entries(Object.getOwnPropertyDescriptors(Math)))globalThis.CroquetViewMath[e]=t.value;for(const[e,t]of Object.entries(globalThis.CroquetMath)){const n=Math[e];Math[e]=t.length===1?r=>B?t(r):n(r):(r,i)=>B?t(r,i):n(r,i)}}if(!globalThis.CroquetViewDate){let n=function(i,s){return t||(t=!0,console.warn(new bm(`${i} used in Model code`))),s},r=function(i,s,o,l,a,u,c){const S=this instanceof r,b=[i,s,o,l,a,u,c];if(b.length=arguments.length,B)switch(n(S?"new Date()":"Date()"),arguments.length){case 0:b.push(B.time);break;case 1:break;default:b[0]=e.UTC(...b),b.length=1}const g=new e(...b);return S?g:""+g};const e=globalThis.Date;let t=!1;r.prototype=e.prototype,r.UTC=e.UTC,r.now=()=>B?n("Date.now()",B.time):e.now(),r.parse=function(){return B?n("Date.parse()",0):e.parse(...arguments)},globalThis.CroquetViewDate=e,globalThis.Date=r}}Object.defineProperty(bm.prototype,"name",{value:"CroquetWarning"});const Un=Symbol("QFUNC");function Sm(e,t,n,r){const i=new Qw(e,t,n,r),s=i.compile();return s[Un]=i,s}function Zm(e,t,n,r){const i=[],s=[];let o,l,a,u;if(n){if("this"in n){for(t=n.this,o="_this";o in n;)o="_"+o;delete(n={...n,[o]:t}).this}if(a=[...Object.keys(n).sort()],u=[...a.map(y=>n[y])],a.length){for(l="env";l in n||l===r;)l="_"+l;i.push(l),s.push(u)}}e.match(/\bCroquet\b/)&&!(a!=null&&a.includes("Croquet"))&&(i.push("Croquet"),s.push(xe.Croquet));let c=r||"qFunc";for(;a!=null&&a.includes(c);)c="_"+c;let S=`"use strict"

`;S+=`// Croquet QFunc Compiler by Codefrau

`,S+=`//////////////// Start Compiler /////////////////
`,S+="try { const ",a!=null&&a.length&&(S+=`[${a.join(", ")}] = ${l}, `);let b=e.split(`
`);const g=b.slice(1),X=Math.min(...g.map(y=>y.match(/^\s*/)[0].length));X>0&&(b.some(y=>(y.match(/`/g)||[]).length%2==1)||(b=[b[0],...g.map(y=>y.slice(X))],e=b.join(`
`)));const C=b[b.length-1].match(/^\s*/)[0];C&&(e=C+e),S+=`${c} =
`,S+=`//////////////// Start User Code ////////////////

`,S+=e,S+=`

///////////////// End User Code /////////////////
`,S+=`return ${c}`,o&&(S+=`.bind(${o})`),S+=` } catch (compileError) { return compileError; }
`,S+="///////////////// End Compiler //////////////////";try{const y=new Function(...i,S).call(t,...s);if(y instanceof Error)throw console.warn("rethrowing error",y),y;return y}catch(y){throw console.warn(`createQFunc compiling:

${e}`),Error(`createQFunc(): ${y.message}`)}}let Qw=class{constructor(t,n,r,i){if(this.thisVal=t,this.env=n,this.selfRef=i,this.source=r,i===void 0){this.selfRef="",typeof r=="function"&&(this.source=r.toString());const s=Object.keys(n);for(const o of s)if(r===n[o]){if(this.selfRef)throw Error(`createQFunc: env.${this.selfRef} and env.${o} cannot both reference the function`);this.selfRef=o}this.selfRef&&(this.env={...n},delete this.env[this.selfRef])}Object.freeze(this.env)}compile(){return Zm(this.source,this.thisVal,this.env,this.selfRef)}};const ed={cls:Un,write:e=>{let{[Un]:{thisVal:t,env:n,source:r,selfRef:i}}=e;return[t,r,i,...Object.entries(n).flat()]},read:e=>{let[t,n,r,...i]=e;const s={};for(let o=0;o<i.length;o+=2)s[i[o]]=i[o+1];return Sm(t,s,n,r)}},pl="future message",Yf="message in cancelFuture",td="subscription handler";function xm(e){return`qFunc~${e.split(" ")[0]}~`}const Lm=xm(pl),zu=xm(td);function Uw(e){return e===pl||e===td}function Vu(e){return e.startsWith(Lm)}function Kf(e){return`${zu}${e}`}function ko(e,t){return!!e.startsWith(zu)&&e.slice(zu.length)===t}function Xm(e,t){if(B)throw Error("VirtualMachine confusion");if(!(e instanceof ft))throw Error("not a VM: "+e);const n=B;try{B=e,globalThis.CROQUETVM=e,t()}finally{B=n}}const Ow="#reflected",Hu=["handleModelEventInModel","handleBundledEvents","publishFromModelOnly","handlePollForSnapshot","handleTuttiResult","handleTuttiDivergence","handleSnapshotVote","handlePersistVote","handleModelEventInView","noop","handleAuditRequest"],nd={};for(let e=0;e<Hu.length;e++)nd[Hu[e]]=e;const Yu=new WeakMap;function Ff(e){Yu.set(e,null)}let Dw=class{random(){throw Error("Math.random() cannot be used in Model.evaluate()")}},ft=class{static current(){return B||console.warn("VirtualMachine.current() called from outside the vm!"),B}static hasCurrent(){return!!B}static evaluate(t){if(B)return t();Hf();const n=B;try{return B=new Dw,t()}finally{B=n}}constructor(t,n,r,i){Hf(),ln={snapshot:D.has("debug","snapshot",!1),session:D.has("debug","session",!1),write:D.has("debug","write",!1)},Ff(this),Xm(this,()=>{Ip(this,()=>{if(this.modelsById={},this.modelsByName={},this.messages=new Zv((s,o)=>s.before(o)),this.subscriptions={},this.subscribers=new Map,this.genericSubscriptions=[],this.currentEvent="",this.currentEventFromModel=!1,this.debugEvents=n,this.views={},this._random=()=>{throw Error("You must not use random when applying state!")},this.id=t.id,this.time=0,this.seq=4294967280,this.externalTime=0,this.externalSeq=this.seq,this.futureSeq=0,this.lastSnapshotPoll=0,this.lastPersistencePoll=0,this.inPersistenceCoolOff=!1,this.persisted="",this.modelsId=0,this.diverged=null,this.controller=null,t.modelsById){const s=id.newOrRecycled(this).readVM(t,"VM",i);let o=[],l=[];for(const a of Object.keys(s))a!=="meta"&&(a==="staticInitializers"?o=s[a]:a in this?a==="_random"?this[a]=new ll(null,{state:s[a]}):a==="messages"?l=s.messages:this[a]=s[a]:console.warn(`Ignoring property snapshot.${a}`));for(const a of o)a();for(const a of l)this.messages.add(a);for(const[a,u]of Object.entries(this.subscriptions))for(const c of u){const[S]=c.split(".");let b=this.subscribers.get(S);b||this.subscribers.set(S,b=new Set),b.add(a)}}else this._random=new ll(t.id,{state:!0}),this.addSubscription(this,"__VM__","__peers__",this.generateJoinExit),this.addSubscription(this,"__VM__","__diverged__",this.handleSessionDiverged),r(this)})})}registerModel(t,n){if(B!==this)throw Error("You can only create models from model code!");return n||(n="M"+ ++this.modelsId),this.modelsById[n]=t,n}deregisterModel(t){if(B!==this)throw Error("You can only destroy models from model code!");const n=this.modelsById;delete this.modelsById[t];for(const[r,i]of Object.entries(this.modelsByName))n===i&&delete this.modelsByName[r];this.messages.removeMany(r=>r.hasReceiver(t))}lookUpModel(t){if(t==="_")return this;let n=this.modelsById[t];if(n)return n;const[r,i,s]=t.match(/^([^#]+)#(.*)$/)||[];return n=this.modelsById[i],n&&n.lookUp(s)}get(t){const n=this.modelsByName[t];return B!==this&&ln.write&&n?this.debugWriteProxy(this,n,n.id):n}set(t,n){if(B!==this)throw Error("You can only make a model well-known from model code!");this.modelsByName[t]=n}debugWriteProxy(t,n,r){if(typeof n!="object"||n===null||n[Yi])return n;if(n instanceof xe&&(r=n.id),!this.$debugWriteProxyHandler){let s=function(o,l,a){a&&(o+=` ${a} of`);const u=Cn.get(l).path;if(console.warn(`write-debug: non-model code is ${o} ${u}:`,l),a&&a[0]!=="$")throw Error("write-debug: Attempt to modify Croquet model state from outside!")};Cn||(Cn=new WeakMap),this.$debugWriteProxyHandler={set(o,l,a){B!==t?s("assigning",o,l):console.warn("Croquet debug write protection inside model - this should not happen!"),o[l]=a},deleteProperty(o,l){B!==t?s("deleting",o,l):console.warn("Croquet debug write protection inside model - this should not happen!"),delete o[l]},get(o,l){if(l===Yi)return o;const a=o[l];if(a&&a[Yi])return a;if(B!==t){if(typeof a=="object"&&a!==null){const u=Cn.get(o).path;if(a instanceof Map){const c=new Map([...a.entries()].map((S,b)=>{let[g,X]=S;return[t.debugWriteProxy(t,g,`${u}.key#${b}`),t.debugWriteProxy(t,X,`${u}.value#${b}`)]}));return c[Yi]=a,c.set=()=>s("setting an item in",a),c.delete=()=>s("deleting from",a),c.clear=()=>s("clearing",a),Cn.set(a,{proxy:c,path:u+li(a,l)}),c}if(a instanceof Set){const c=new Set([...a.values()].map((S,b)=>t.debugWriteProxy(t,S,`${u}.item#${b}`)));return c[Yi]=a,c.add=()=>s("adding to",a),c.delete=()=>s("deleting from",a),c.clear=()=>s("clearing",a),Cn.set(a,{proxy:c,path:u+li(a,l)}),c}return t.debugWriteProxy(t,a,u+li(a,l))}}else console.warn("Croquet debug write protection inside model - this should not happen!");return a}}}let i=Cn.get(n);return i||(i={proxy:new Proxy(n,this.$debugWriteProxyHandler),path:r},Cn.set(n,i)),i.proxy}noop(){}generateJoinExit(t){let{entered:n,exited:r,count:i,total:s}=t;this.controller.handleUserTotalForAccounting(s);const o={};for(const a of n){if(!Array.isArray(a))continue;const u=a[1]||{};u.region&&(u.country=u.region.slice(0,2),u.region=u.region.slice(2)),o[a[0]]={loc:u}}if(n=n.map(a=>Array.isArray(a)?a[0]:a),r=r.map(a=>Array.isArray(a)?a[0]:a),n.length===i){r=Object.keys(this.views);for(const a of r)this.views[a].extraConnections=0}if(n.length!==0&&r.length!==0){const a=n.filter(u=>r.includes(u));if(a.length!==0&&(n=n.filter(u=>!a.includes(u)),r=r.filter(u=>!a.includes(u)),n.length===0&&r.length===0))return}for(const a of r)if(this.views[a]){if(this.views[a].extraConnections){this.views[a].extraConnections--,ln.session&&console.log(this.id,`@${this.time}#${this.seq} view ${a} closed extra connection`);continue}delete this.views[a],this.publishFromModelOnly(this.id,"view-exit",a)}else{const{time:u,seq:c}=this;console.error(`${this.id} @${u}#${c} view ${a} exited without being present - this should not happen`),Promise.resolve().then(()=>{this.controller.sendLog(`view-exit-mismatch @${u}#${c} ${a} left without being present`)})}for(const a of n)this.views[a]?(ln.session&&console.log(this.id,`@${this.time}#${this.seq} view ${a} opened another connection`),this.views[a].extraConnections=(this.views[a].extraConnections||0)+1):(this.views[a]=o[a]||{},this.publishFromModelOnly(this.id,"view-join",a));const l=Object.values(this.views).reduce((a,u)=>a+1+(u.extraConnections||0),0);if(i!==l){const{time:a,seq:u}=this;console.error(`@${a}#${u} view count mismatch (model: ${l}, reflector: ${i}) - this should not happen`),Promise.resolve().then(()=>{this.controller.sendLog(`view-exit-mismatch @${a}#${u} connections model: ${l} reflector: ${i}`)})}}scheduleExternalMessage(t){const n=mt.fromState(t,this);if(n.time<this.time)throw Error("past message from reflector "+t);const r=this.externalSeq+1>>>0;if(n.seq!==r)throw Error(`External message error. Expected message #${r} got #${n.seq}`);return this.externalTime=n.time,this.externalSeq=n.seq,n.seq=2*n.seq+1,this.verifyExternal(n),this.messages.add(n),n}verifyExternal(t){if(t.receiver!=="_")throw Error(`invalid receiver in external message: ${t}`);if(!(t.selector in nd))throw Error(`unexpected external message: ${t.selector}`)}futureSend(t,n,r,i){if(t.every)return this.futureRepeat(t.every,n,r,i);if(t<0)throw Error("attempt to send future message into the past");this.futureSeq=this.futureSeq+1>>>0;const s=new mt(this.time+t,2*this.futureSeq,n,r,i);return this.messages.add(s),{time:s.time,seq:s.seq}}cancelFuture(t,n){const r=this.messages;let i;if(typeof n.time=="number"){const{time:s,seq:o}=n;i=r.removeOne(l=>l.time===s&&l.seq===o)}else{if(n==="*")return i=r.removeMany(s=>s.receiver===t.id),i.length>0;{const s=this.asMethodName(t,n,Yf),o=t.id;i=r.removeOne(l=>l.receiver===o&&l.selector===s||l.receiver==="_"&&l.selector==="futureExecAndRepeat"&&l.args[1]===o&&l.args[2]===s),Vu(s)&&delete t[s]}}return i!==void 0}futureRepeat(t,n,r,i){this.futureSend(t,"_","futureExecAndRepeat",[t,n,r,i])}futureExecAndRepeat(t,n,r,i){const s=this.lookUpModel(n);if(s){if(typeof s[r]=="function")try{s[r](...i)}catch(o){je(`future message ${s}.${r}`,o)}else{const o=this.compileFuncString(r,s);try{o(...i)}catch(l){je(`future message ${s} ${o}`,l)}}this.futureRepeat(t,n,r,i)}}future(t,n,r,i){if(!this.lookUpModel(t.id))throw Error(`future send to unregistered model ${t}`);if(r===void 0){const o=this;return new Proxy(t,{get:(l,a)=>function(){for(var u=arguments.length,c=new Array(u),S=0;S<u;S++)c[S]=arguments[S];return o.future(t,n,a,c)}})}const s=this.asMethodName(t,r,pl);if(typeof s!="string")throw Error(`future message to ${t} ${s} is not a string`);if(typeof t[s]!="function"&&s.indexOf(".")<0&&s[0]!=="{")throw Error(`future send to ${t} with unknown method ${s}()`);return this.futureSend(n,t.id,s,i)}advanceTo(t,n){if(B)throw Error("cannot advance time from model code");let r;for(;(r=this.messages.peek())&&r.time<=t;){const{time:i,seq:s}=r;if(i<this.time)throw Error("past message encountered: "+r);if(1&s&&(this.seq=this.seq+1>>>0,s/2>>>0!==this.seq))throw Error(`Sequence error: expected ${this.seq} got ${s/2>>>0} in ${r}`);if(this.messages.poll(),this.time=r.time,r.executeOn(this),globalThis.CroquetViewDate.now()>=n)return!1}return this.time=t,!0}asMethodName(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof n=="string")return n;if(typeof n=="function"){if(t[n.name]===n)return n.name;if(n[Un]&&i){const u=Kf(i);if(t[u]===n)return u}let o=t;for(;o!==null;){for(const[u,c]of Object.entries(Object.getOwnPropertyDescriptors(o)))if(c.value===n){if(n[Un]&&((s=r)!==pl&&s!==Yf||!Vu(u)))continue;return u}if(o===t&&n[Un]){if(!Uw(r))return Yn(`${r} is not a registered QFunc: ${n}`,{only:"once"}),null;let u;if(i)u=Kf(i);else{const c=Lm;let S=0;do u=`${c}${S++}`;while(t[u])}return t[u]=n,u}o=Object.getPrototypeOf(o)}Yn(`${r} is not a method of ${t} and not a QFunc: ${n}
`,{only:"once"});const l=/^\(?([a-z][a-z0-9]*)?\)? *=> *this\.([a-z][a-z0-9]*) *\( *([a-z][a-z0-9]*)? *\) *$/i,a=n.toString().match(l);return!a||a[3]&&a[3]!==a[1]?this.asFuncString(n):a[2]}var s;return null}asFuncString(t){const n=t.toString();return`{${btoa(JSON.stringify(n))}}`}compileFuncString(t,n){this.$compiledFuncs||(this.$compiledFuncs={});const r=n.id+":"+t;let i=this.$compiledFuncs[r];if(!i){const s=JSON.parse(atob(t.slice(1,-1)));i=Zm(s,n),s.startsWith("function")&&(i=i.bind(n)),this.$compiledFuncs[r]=i}return i}addSubscription(t,n,r,i){if(B!==this)throw Error("Cannot add a model subscription from outside model code");if(n.includes(":"))throw Error(`Invalid subscription scope "${n}" (must not contain ':')`);const s=n+":"+r,o=this.asMethodName(t,i,td,s);if(typeof o!="string")throw Error(`Subscription handler for "${r}" must be a method name`);if(o.indexOf(".")<0&&typeof t[o]!="function"&&o[0]!=="{")throw Error(`Subscriber method for "${r}" not found: ${t}.${o}()`);const l=t===this?"_":t.id,a=l+"."+o;if(n==="*"||r==="*")return void this.addGenericSubscription(s,a);if(this.subscriptions[s]){if(this.subscriptions[s].indexOf(a)!==-1)throw Error(`${t}.${o} already subscribed to ${r}`)}else this.subscriptions[s]=[];this.subscriptions[s].push(a);let u=this.subscribers.get(l);u||this.subscribers.set(l,u=new Set),u.add(s)}removeSubscription(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"*";if(B!==this)throw Error("Cannot remove a model subscription from outside model code");if(n==="*"||r==="*")return void this.removeGenericSubscription(t,n,r,i);const s=n+":"+r,o=this.subscriptions[s];if(o){const l=t.id+".";if(i==="*"){for(let u=o.length-1;u>=0;u--)if(o[u].startsWith(l)){const c=o[u].slice(l.length);ko(c,s)&&delete t[c],o.splice(u,1)}o.length===0&&delete this.subscriptions[s]}else{const u=this.asMethodName(t,i,"unsubscribe argument",s);if(typeof u!="string")throw Error(`Invalid unsubscribe args for "${r}" in ${t}: ${i}`);const c=l+u,S=o.indexOf(c);if(S!==-1&&(o.splice(S,1),o.length===0&&delete this.subscriptions[s],ko(u,s)&&delete t[u]),o.find(b=>b.startsWith(l)))return}const a=this.subscribers.get(t.id);a.delete(s),a.size===0&&this.subscribers.delete(t.id)}}addGenericSubscription(t,n){this.genericSubscriptions.push({topic:t,handler:n})}removeGenericSubscription(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"*";const s=n+":"+r,o=t.id+".";for(let l=this.genericSubscriptions.length-1;l>=0;l--){const a=this.genericSubscriptions[l];a.topic===s&&a.handler.startsWith(o)&&(i!=="*"&&a.handler!==o+i||(this.genericSubscriptions.splice(l,1),ko(i,s)&&delete t[i]))}}removeAllSubscriptionsFor(t){const n=this.subscribers.get(t.id);if(n){const r=t.id+".";for(const i of n){const s=this.subscriptions[i];for(let o=s.length-1;o>=0;o--)if(s[o].startsWith(r)){const l=s[o].slice(r.length);ko(l,i)&&delete t[l],s.splice(o,1)}s.length===0&&delete this.subscriptions[i]}this.subscribers.delete(t.id)}}publishFromModel(t,n,r){if(B!==this)throw Error("Cannot publish a model event from outside model code");if(t.includes(":"))throw Error(`Invalid publish scope "${t}" (must not contain ':')`);const i=n.endsWith(Ow);i&&(n=n.slice(0,n.length-10));const s=this.currentEventFromModel;this.currentEventFromModel=!0;const o=t+":"+n;this.handleModelEventInModel(o,r,i),this.handleModelEventInView(o,r),this.currentEventFromModel=s}publishFromModelOnly(t,n,r){if(B!==this)throw Error("Cannot publish a model event from outside model code");const i=t+":"+n;this.handleModelEventInModel(i,r)}publishFromView(t,n,r){if(B)throw Error("Cannot publish a view event from model code");if(t.includes(":"))throw Error(`Invalid publish scope "${t}" (must not contain ':')`);const i=t+":"+n;this.handleViewEventInModel(i,r),this.handleViewEventInView(i,r)}handleBundledEvents(t){for(const n of t){const r=mt.fromState(n,this);this.verifyExternal(r),r.executeOn(this,!0)}}handleModelEventInModel(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(B!==this)throw Error("handleModelEventInModel called from outside model code");if(r){if(this.controller.synced!==!0)return;const i=t+"#__vote",s=t+"#divergence",o=!!Ve.subscriptions[i],l=!!this.subscriptions[t],a=!!this.subscriptions[s];o&&a&&console.log(`divergence subscription for ${t} overridden by vote subscription`);const u=l?new mt(this.time,0,"_","handleModelEventInModel",[t,n]):null;let c;c=o?["handleModelEventInView",i]:["handleTuttiDivergence",s],Promise.resolve().then(()=>this.controller.sendTutti({time:this.time,topic:t,data:n,firstMessage:u,wantsVote:o,tallyTarget:c}))}else this.genericSubscriptions.length>0&&this.invokeGenericHandlers(t,n),this.subscriptions[t]&&this.invokeHandlers(this.subscriptions[t],t,n)}invokeHandlers(t,n,r){const i=t.slice();for(let s=0;s<i.length;s++){const o=i[s];(o===t[s]||t.includes(o))&&this.invokeHandler(o,n,r)}}invokeGenericHandlers(t,n){const[r,i]=t.split(":");if(!(r.startsWith("__")&&r.endsWith("__")||i.startsWith("__")&&i.endsWith("__")))for(const s of this.genericSubscriptions){const[o,l]=s.topic.split(":");(o==="*"&&l===i||o===r&&l==="*"||o==="*"&&l==="*")&&this.invokeHandler(s.handler,t,n)}}invokeHandler(t,n,r){const i=this.currentEvent;this.currentEvent=n;try{const[s,...o]=t.split("."),l=o.join("."),a=this.lookUpModel(s);if(!a)return void Yn(`event ${n} .${l}(): subscriber not found`);if(l[0]==="{"){const u=this.compileFuncString(l,a);try{u(r)}catch(c){je(`event ${n} ${a} ${u}`,c)}return}if(l.indexOf(".")>=0){const u=l.indexOf("."),c=l.slice(0,u),S=l.slice(u+1);try{a.call(c,S,r)}catch(b){je(`event ${n} ${a}.call(${JSON.stringify(c)}, ${JSON.stringify(S)})`,b)}return}if(typeof a[l]!="function")return void je(`event ${n} ${a}.${l}(): method not found`);try{a[l](r)}catch(u){je(`event ${n} ${a}.${l}()`,u)}}finally{this.currentEvent=i}}handleViewEventInModel(t,n){if(this.subscriptions[t]){const r=[t];n!==void 0&&r.push(n);const i=new mt(this.time,0,"_","handleModelEventInModel",r);this.controller.sendMessage(i)}}handleModelEventInView(t,n){ln.write&&(n=this.debugWriteProxy(this,n,`event ${t} arg`)),Ve.handleEvent(t,n,r=>function(i){if(!B)throw Error("VirtualMachine confusion");const s=B;try{B=null,i()}finally{B=s}}(()=>Gs(this,r,!0)))}handleViewEventInView(t,n){Ve.handleEvent(t,n)}handleTuttiDivergence(t,n){if(this.subscriptions[t])this.handleModelEventInModel(t,n);else{const r=t.split(":").slice(-1)[0];console.warn(`uncaptured divergence in ${r}:`,n)}}handleSessionDiverged(t){const{key:n,url:r}=t;this.diverged||(this.diverged=new Map);let i=this.diverged.get(n);i||this.diverged.set(n,i=[]),i.push(r),i.length===2&&this.controller&&!this.controller.fastForwardHandler&&this.debugDiverged(n)}debugDiverged(t){t||(t=this.diverged.keys().next().value);const n=this.diverged.get(t);if(!n||n.length<2)throw Error(`no diverged urls for snapshot ${t}`);Promise.resolve().then(()=>this.controller.diffDivergedSnapshots(n))}processModelViewEvents(t){if(B)throw Error("cannot process view events in model code");return Gs(this,()=>Ve.processFrameEvents(t,!!this.controller.synced))}handlePollForSnapshot(){const t=this.time,n=t-this.lastSnapshotPoll;n<5e3?console.log(`rejecting snapshot poll ${n}ms after previous`):(this.lastSnapshotPoll=t,this.controller.handlePollForSnapshot(t))}handleTuttiResult(t){this.controller.handleTuttiResult(t)}handleSnapshotVote(t){this.controller.handleSnapshotVote(t)}handlePersistVote(t){this.controller.handlePersistVote(t)}handleAuditRequest(t){this.controller.handleAuditRequest(t)}snapshot(){return rd.newOrRecycled(this).snapshot(this,"VM")}getSummaryHash(){return Sr.default(new Bw().getHash(this))}persist(t,n){this.controller&&this.controller.sessionSpec.appId==="no.appId"&&console.warn("Croquet: appId should be provided in Session.join() to not overwrite another apps's persistent data");const r=ee.begin("snapshot"),i=typeof n=="function"?n.call(t):n;if(typeof i!="object")throw Error(`Croquet: persistSession() can only persist objects (got ${typeof i})`);const s=Sr.default(i),o=Tt.hash(s),l=ee.end("snapshot")-r,a=this.persisted===o,u=this.time;var c,S;if(ln.snapshot&&console.log(this.id,`persistent data @${u} collected, stringified and hashed in ${Math.ceil(l)}ms${a?" (unchanged, ignoring)":""}`),D.forcePersist&&queueMicrotask(()=>this.controller.forcePersist(u,s,o)),!a)if(c=this,S={persistTime:u,persistentString:s,persistentHash:o,ms:l},Yu.set(c,S),this.persisted=o,this.inPersistenceCoolOff)ln.snapshot&&console.log(this.id,"persistence poll postponed by cooloff");else{const b=this.lastPersistencePoll?this.lastPersistencePoll+25e3-this.time:0;b>0?(ln.snapshot&&console.log(this.id,`postponing persistence poll by ${b}ms`),this.futureSend(b,"_","triggerPersistencePoll",[]),this.inPersistenceCoolOff=!0):this.triggerPersistencePoll()}}triggerPersistencePoll(){this.inPersistenceCoolOff=!1,this.lastPersistencePoll=this.controller?this.time:0;const t=(n=this,Yu.get(n));var n;if(!t)return;const{persistTime:r,persistentString:i,persistentHash:s,ms:o}=t;if(Ff(this),this.controller&&this.controller.synced){ln.snapshot&&console.log(this.id,`asking controller to poll for persistence @${r}`);const l=this.time;Promise.resolve().then(()=>this.controller.pollForPersist(l,r,i,s,o))}}random(){if(B!==this)throw Error("synchronized random accessed from outside the model");return this._random()}randomID(){if(B!==this)throw Error("synchronized random accessed from outside the model");let t="";for(let n=0;n<4;n++)t+=(this._random.int32()>>>0).toString(16).padStart(8,"0");return t}toString(){return`VirtualMachine[${this.id}]`}[Symbol.toPrimitive](){return this.toString()}};function Jw(e,t,n){let r;if(e==="_"){const i=nd[t];typeof i=="number"&&(r=i.toString(36))}if(r===void 0&&(r=`${e}>${t}`),n.length>0){const i=Cm.newOrRecycled();r+=JSON.stringify(i.encode(n))}return r}function gs(e,t){return(t-e|0)>=0}let mt=class km{constructor(t,n,r,i,s){this.time=t,this.seq=n,this.receiver=r,this.selector=i,this.args=s}before(t){return this.time!==t.time?this.time<t.time:this.isExternal()!==t.isExternal()?t.isExternal():this.isExternal()?gs(this.externalSeq,t.externalSeq):gs(this.internalSeq,t.internalSeq)}hasReceiver(t){return this.receiver===t}isExternal(){return 1&this.seq}get externalSeq(){return this.seq/2>>>0}set externalSeq(t){this.seq=2*t+1}get internalSeq(){return this.seq/2>>>0}set internalSeq(t){this.seq=2*t}asState(){return[this.time,this.seq,Jw(this.receiver,this.selector,this.args)]}static fromState(t,n){const[r,i,s]=t,{receiver:o,selector:l,args:a}=function(u,c){let S,b,g;if(u.length===1||u[1]==="["){const C=parseInt(u[0],36);S="_",b=Hu[C],g=u.slice(1)}else{const C=u.indexOf(">");let y=u.indexOf("[");y===-1&&(y=u.length),S=u.slice(0,C),b=u.slice(C+1,y),g=u.slice(y)}let X=[];return g&&(X=Tm.newOrRecycled(c).decode(JSON.parse(g))),{receiver:S,selector:b,args:X}}(s,n);return new km(r,i,o,l,a)}executeOn(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];t.currentEventFromModel=!this.isExternal();const r=n?a=>a():a=>Xm(t,()=>Ip(t,a)),{receiver:i,selector:s,args:o}=this,l=t.lookUpModel(i);if(l)if(s[0]==="{"){const a=t.compileFuncString(s,l);r(()=>{try{a(...o)}catch(u){je(`${this.shortString()} ${a}`,u)}})}else s.indexOf(".")>=0?r(()=>{const a=s.indexOf("."),u=s.slice(0,a),c=s.slice(a+1);try{l.call(u,c,...o)}catch(S){je(`${this.shortString()} ${l}.call(${JSON.stringify(u)}, ${JSON.stringify(c)})`,S)}}):typeof l[s]!="function"?Yn(`${this.shortString()} ${l}.${s}(): method not found`):r(()=>{try{if(Vu(s)){const a=l[s];delete l[s],a(...o)}else l[s](...o)}catch(a){je(`${this.shortString()} ${l}.${s}()`,a)}});else Yn(`${this.shortString()} ${s}(): receiver not found`)}shortString(){return(this.isExternal()?"External":"Future")+"Message"}toString(){const{receiver:t,selector:n,args:r}=this,i=this.isExternal(),s=i?this.externalSeq:this.internalSeq;return`${i?"External":"Future"}Message[${this.time}${":#"[+i]}${s} ${t}.${n}(${r.map(JSON.stringify).join(", ")})]`}[Symbol.toPrimitive](){return this.toString()}};const $w=(()=>{const e=new ArrayBuffer(8),t=new DataView(e);return n=>(t.setFloat64(0,n,!0),t.getInt32(0,!0)+t.getInt32(4,!0))})();let Bw=class{constructor(){this.done=new Set,this.todo=[],this.hashers=new Map,this.addHasher("Teatime:Message",mt),this.addHasher("Teatime:Data",qc),this.addHasher("Teatime:QFunc",ed);for(const[t,n]of xe.allClassTypes())this.addHasher(t,n)}addHasher(t,n){const{cls:r,write:i}=Object.getPrototypeOf(n)===Object.prototype?n:{cls:n,write:s=>({...s})};this.hashers.set(r,s=>this.hashStructure(s,i(s)))}getHash(t){this.hashState={oC:0,mC:0,nanC:0,infC:0,zC:0,nC:0,nH:0,sC:0,sL:0,fC:0};for(const[n,r]of Object.entries(t))if(n!=="controller"&&n!=="meta")if(n==="_random")this.hash(r.state(),!1);else if(n==="messages"){const i=r.asArray();(this.hashState.fC=i.length)&&this.hash(i,!1)}else this.hashEntry(n,r);return this.hashDeferred(),this.hashState}hashDeferred(){let t=0;for(;t<this.todo.length;){const{key:n,value:r}=this.todo[t++];this.hashEntry(n,r,!1)}this.todo.length=0}hash(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];switch(typeof t){case"number":return void(Number.isNaN(t)?this.hashState.nanC++:Number.isFinite(t)?t===0?this.hashState.zC++:(this.hashState.nC++,this.hashState.nH+=$w(t)):this.hashState.infC++);case"string":return this.hashState.sC++,void(this.hashState.sL+=t.length);case"boolean":case"undefined":return;case"bigint":if(t===0n)this.hashState.zC++;else{this.hashState.nC++;const r=t<0?-1n:0n;for(;t!==r;)this.hashState.nH+=Number(0xFFFFFFFFn&t),t>>=32n}return;default:{if(this.done.has(t)||t===null)return;if(this.hashers.has(t.constructor))return void this.hashers.get(t.constructor)(t);const r=Object.prototype.toString.call(t).slice(8,-1);if(this.hashers.has(r))return void this.hashers.get(r)(t);switch(r){case"Array":return void this.hashArray(t,n);case"ArrayBuffer":return void this.hashIntArray(new Uint8Array(t));case"Set":return void this.hashStructure(t,[...t]);case"Map":return void this.hashStructure(t,[...t],!1);case"DataView":return void this.hashIntArray(new Uint8Array(t.buffer,t.byteOffset,t.byteLength));case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":return void this.hashIntArray(t);case"Float32Array":case"Float64Array":return void this.hashArray(t,!1);case"Object":t instanceof xe?this.hashModel(t):t.constructor===Object&&this.hashObject(t,n)}}}}hashModel(t){this.hashState.mC++,this.done.add(t);for(const[n,r]of Object.entries(t))n!=="__realm"&&r!==void 0&&this.hashEntry(n,r)}hashObject(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.hashState.oC++,this.done.add(t);for(const[r,i]of Object.entries(t))i!==void 0&&this.hashEntry(r,i,n)}hashArray(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.done.add(t);for(let r=0;r<t.length;r++)this.hashEntry(r,t[r],n)}hashIntArray(t){this.done.add(t);for(let n=0;n<t.length;n++){const r=t[n];r===0?this.hashState.zC++:(this.hashState.nC++,this.hashState.nH+=r)}}hashStructure(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];n!==void 0&&(this.done.add(t),this.hash(n,r))}hashEntry(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];t[0]!=="$"&&(r&&typeof n=="object"?this.todo.push({key:t,value:n}):this.hash(n,r))}},rd=class{static newOrRecycled(t){let n=this.reusableInstance;return n?(n.vm=t,n.nextRef=1,n.refs=new Map,n.todo=[]):n=this.reusableInstance=new this(t),n}static get reusableInstance(){return this[this.name+"-instance"]}static set reusableInstance(t){this[this.name+"-instance"]=t}static resetInstance(){this.reusableInstance=null}constructor(t){this.vm=t,this.nextRef=1,this.refs=new Map,this.todo=[],this.writers=new Map,this.addWriter("Teatime:Message",mt),this.addWriter("Teatime:Data",qc),this.addWriter("Teatime:QFunc",ed);for(const[n,r]of xe.allClassTypes())this.addWriter(n,r);this.okayToIgnore={$debugWriteProxyHandler:!0};for(const n of xe.allClasses())if(Object.prototype.hasOwnProperty.call(n,"okayToIgnore")){const r=n.okayToIgnore();if(!Array.isArray(r))throw new Error("okayToIgnore() must return an array");for(const i of r){if(i[0]!=="$")throw Error(`okayToIgnore: ignored prop "${i}" must start with '$'`);this.okayToIgnore[i]=!0}}}addWriter(t,n){const r=Object.getPrototypeOf(n)===Object.prototype,{cls:i,write:s}=r?n:{cls:n,write:o=>({...o})};this.writers.set(i,(o,l)=>this.writeAs(t,o,s(o),r?`${l}.write(${i.name})`:l))}snapshot(t,n){const r={_random:t._random.state(),messages:this.write(t.messages.asArray(),"FutureMessages"),subscribers:void 0,controller:void 0,$compiledFuncs:void 0};this.writeAllStaticInto(r);for(const[i,s]of Object.entries(t))i in r||this.writeInto(r,i,s,n);return this.writeDeferred(),delete r.controller,delete r.subscribers,delete r.$compiledFuncs,r}writeAllStaticInto(t){for(const n of xe.allClasses())if(n!==xe)for(const[r,i]of Object.entries(n)){if(r[0]==="$")continue;const s=xe.classToID(n);t.staticModelProps||(t.staticModelProps={}),s in t.staticModelProps||(t.staticModelProps[s]={}),this.writeInto(t.staticModelProps[s],r,i,`Model(${s}).static`),ml("Model",s)}for(const[n,r]of xe.allClassTypes())if(typeof r=="object"){const{writeStatic:i}=r;if(i){const s=i();s&&(t.staticTypeProps||(t.staticTypeProps={}),t.staticTypeProps[n]=this.write(s,`Type(${n}).writeStatic()`),ml("Type",n))}}}writeDeferred(){let t=0;for(;t<this.todo.length;){const{state:n,key:r,value:i,path:s}=this.todo[t++];this.writeInto(n,r,i,s,!1)}this.todo.length=0}write(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];switch(typeof t){case"number":return Object.is(t,-0)?{$class:"NegZero"}:Number.isFinite(t)?t:Number.isNaN(t)?{$class:"NaN"}:{$class:"Infinity",$value:Math.sign(t)};case"string":case"boolean":return t;case"undefined":return{$class:"Undefined"};case"bigint":return{$class:"BigInt",$value:t.toString()};default:{if(this.refs.has(t))return this.writeRef(t);if(t===null)return t;if(this.writers.has(t.constructor))return this.writers.get(t.constructor)(t,n);const i=Object.prototype.toString.call(t).slice(8,-1);if(this.writers.has(i))return this.writers.get(i)(t,n);switch(i){case"Array":return this.writeArray(t,n,r);case"ArrayBuffer":return this.writeArrayBuffer(t);case"Set":return this.writeAs(i,t,[...t],n);case"Map":return this.writeAs(i,t,[...t].flat(),n);case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":return this.writeTypedArray(i,t);case"Object":if(t instanceof xe)return this.writeModel(t,n);if(t.constructor===Object||typeof t.constructor!="function")return this.writeObject(t,n,r);throw console.warn(`Croquet: unknown class at ${n}:`,t),Error(`Croquet: class not registered in Model.types(): ${t.constructor.name}`);case"Function":if(t[Un])return this.writers.get(Un)(t,n);throw console.warn(`Croquet: found function at ${n}:`,t),Error("Croquet: cannot serialize functions except for QFuncs");default:throw console.warn(`Croquet: unsupported property at ${n}:`,t),Error(`Croquet: serialization of ${i}s is not supported`)}}}}writeModel(t,n){const r={};this.refs.set(t,r);try{r.$model=xe.classToID(t.constructor)}catch(i){throw console.error(`unregistered model class at ${n}:`,t),i}for(const i of Object.keys(t).sort()){if(i==="__realm")continue;const s=t[i];(typeof s=="number"&&Number.isFinite(s)&&!Object.is(s,-0)||typeof s=="string"||typeof s=="boolean")&&i[0]!=="$"?r[i]=s:this.writeInto(r,i,s,`${t}`,!0)}return r}writeObject(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];const i={};this.refs.set(t,i);for(const s of Object.keys(t).sort()){const o=t[s];(typeof o=="number"&&Number.isFinite(o)&&!Object.is(o,-0)||typeof o=="string"||typeof o=="boolean")&&s[0]!=="$"?i[s]=o:this.writeInto(i,s,o,n,r)}return i}writeArray(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];const i=[];this.refs.set(t,i);for(let s=0;s<t.length;s++){const o=t[s];typeof o=="number"&&Number.isFinite(o)&&!Object.is(o,-0)||typeof o=="string"||typeof o=="boolean"?i[s]=o:this.writeInto(i,s,o,n,r)}return i}writeArrayBuffer(t){const n={$class:"ArrayBuffer",$value:Aw(t)};return this.refs.set(t,n),n}writeTypedArray(t,n){const r={$class:t,$value:[this.write(n.buffer),n.byteOffset,t==="DataView"?n.byteLength:n.length]};return this.refs.set(n,r),r}writeAs(t,n,r,i){const s={$class:t};this.refs.set(n,s);const o=this.write(r,i,!1);return typeof o!="object"||o===null||o.$class||Array.isArray(o)?s.$value=o:Object.assign(s,o),s}writeRef(t){const n=this.refs.get(t);if(typeof n!="object")throw Error("Non-object in refs: "+t);return Array.isArray(n)&&(n.toJSON=function(){return{$id:this.$id,$class:"Array",$value:[...this]}}),{$ref:n.$id||(n.$id=this.nextRef++)}}writeInto(t,n,r,i){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(n[0]==="$")return void(this.okayToIgnore[n]||(Yn(`snapshot: ignoring property ${n} (declare as okayToIgnore to suppress warning)`,{only:"once"}),this.okayToIgnore[n]=!0));if(s&&typeof r=="object")return void this.todo.push({state:t,key:n,value:r,path:i});const o=this.write(r,i+li(t,n));t[n]=o}};const jf=Symbol("croquet:unresolved");let id=class{static newOrRecycled(t){let n=this.reusableInstance;return n?(n.vm=t,n.refs=new Map,n.todo=[],n.unresolved=[],n.postprocess=[]):n=this.reusableInstance=new this(t),n}static get reusableInstance(){return this[this.name+"-instance"]}static set reusableInstance(t){this[this.name+"-instance"]=t}static resetInstance(){this.reusableInstance=null}constructor(t){this.vm=t,this.refs=new Map,this.todo=[],this.unresolved=[],this.postprocess=[],this.readers=new Map,this.addReader("Teatime:Message",mt),this.addReader("Teatime:Data",qc),this.addReader("Teatime:QFunc",ed),this.readers.set("Undefined",()=>{}),this.readers.set("NaN",()=>NaN),this.readers.set("Infinity",n=>n*(1/0)),this.readers.set("NegZero",()=>-0),this.readers.set("BigInt",n=>BigInt(n)),this.readers.set("ArrayBuffer",n=>function(r){const i=globalThis.atob(r),s=i.length,o=new Uint8Array(s);for(let l=0;l<s;l++)o[l]=i.charCodeAt(l);return o.buffer}(n)),this.readers.set("DataView",n=>new DataView(...n)),this.readers.set("Int8Array",n=>new Int8Array(...n)),this.readers.set("Uint8Array",n=>new Uint8Array(...n)),this.readers.set("Uint8ClampedArray",n=>new Uint8ClampedArray(...n)),this.readers.set("Int16Array",n=>new Int16Array(...n)),this.readers.set("Uint16Array",n=>new Uint16Array(...n)),this.readers.set("Int32Array",n=>new Int32Array(...n)),this.readers.set("Uint32Array",n=>new Uint32Array(...n)),this.readers.set("Float32Array",n=>new Float32Array(...n)),this.readers.set("Float64Array",n=>new Float64Array(...n));for(const[n,r]of xe.allClassTypes())this.addReader(n,r)}addReader(t,n){let r=i=>Object.assign(Object.create(n.prototype),i);typeof n=="object"&&(r=n.read),this.readers.set(t,r)}enableBackwardCompatibility(t){var a;const n=(a=t==null?void 0:t.meta)==null?void 0:a.sdk;if(!n)return;const[r,i,s,o]=n.split(/[-.+]/).map(u=>+u);let l=`${r}.${i}`;s&&(l+=`.${s}`),o&&(l+=`-${o}`),console.warn(`Croquet: reading snapshot version ${l}`),this.compatMaps=r<1||r===1&&(i<1||i===1&&s<7)}readVM(t,n,r){if(n!=="VM")throw Error("VirtualMachine must be root object");r&&this.enableBackwardCompatibility(t);const i=this.read(t,n,!1);return this.readDeferred(),this.resolveRefs(),this.doPostprocess(),this.readAllStatic(i),i}readDeferred(){let t=0;for(;t<this.todo.length;){const{object:n,key:r,value:i,path:s}=this.todo[t++];this.readInto(n,r,i,s,!1)}this.todo.length=0}resolveRefs(){for(const{object:t,key:n,ref:r,path:i}of this.unresolved){if(!this.refs.has(r))throw Error(`Unresolved ref: ${r} at ${i}[${JSON.stringify(n)}]`);t[n]=this.refs.get(r)}this.unresolved.length=0,this.refs.clear()}doPostprocess(){for(const t of this.postprocess)t();this.postprocess.length=0}readAllStatic(t){const{staticModelProps:n,staticTypeProps:r}=t,i=[];if(n){for(const[s,o]of Object.entries(n)){const l=xe.classFromID(s);i.push(()=>Object.assign(l,o)),ml("Model",s)}delete t.staticModelProps}if(r){const s=Object.fromEntries(xe.allClassTypes());for(const[o,l]of Object.entries(r)){const a=s[o];if(typeof a=="object"){const u=a;i.push(()=>u.readStatic(l))}else{const u=a;i.push(()=>Object.assign(u,l))}ml("Type",o)}delete t.staticTypeProps}i.length&&(t.staticInitializers=i)}read(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];switch(typeof t){case"number":case"string":case"boolean":return t;default:{const i=Object.prototype.toString.call(t).slice(8,-1);switch(i){case"Array":return this.readArray(t,n,r);case"Null":return null;case"Object":{const{$class:s,$model:o,$ref:l}=t;if(l)throw Error("refs should have been handled in readInto()");return o?this.readModel(t,n):s?this.readAs(s,t,n):this.readObject(Object,t,n,r)}default:throw Error(`Don't know how to deserialize ${i} at ${n}`)}}}}readModel(t,n){const r=xe.instantiateClassID(t.$model,t.id);t.$id&&this.refs.set(t.$id,r);for(const[i,s]of Object.entries(t))i!=="id"&&i[0]!=="$"&&this.readInto(r,i,s,n);return r}readObject(t,n,r){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new t;n.$id&&this.refs.set(n.$id,s);for(const[o,l]of Object.entries(n))o[0]!=="$"&&this.readInto(s,o,l,r,i);return s}readArray(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];const i=[];t.$id&&this.refs.set(t.$id,i);for(let s=0;s<t.length;s++)t[s]!==void 0&&this.readInto(i,s,t[s],n,r);return i}readAsArray(t,n){let r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];const i=t.$value;return t.$id&&(i.$id=t.$id),this.readArray(i,n,r)}readAsSet(t,n){const r=new Set;t.$id&&this.refs.set(t.$id,r);const i=this.unresolved.length,s=this.read(t.$value,n,!1),o=()=>{for(const l of s)r.add(l)};return this.unresolved.length===i?o():this.postprocess.push(o),r}readAsMap(t,n){const r=new Map;t.$id&&this.refs.set(t.$id,r);const i=this.unresolved.length,s=this.read(t.$value,n,!1),o=this.compatMaps?()=>{if(s.some(l=>l.length!==2))console.warn("Deferring map resolution at",n),this.postprocess.push(o);else for(const[l,a]of s)r.set(l,a)}:()=>{for(let l=0;l<s.length;l+=2)r.set(s[l],s[l+1])};return this.unresolved.length===i?o():this.postprocess.push(o),r}readAsClass(t,n,r){let i={};const s=new Map;if("$value"in n)i=this.read(n.$value,r,!1);else for(const[l,a]of Object.entries(n)){if(l[0]==="$")continue;const u=a&&a.$ref;u?this.refs.has(u)?i[l]=this.refs.get(u):(i[l]=jf,s.set(u,l)):this.readInto(i,l,a,r,!1)}const o=this.readers.get(t)(i,r);o||t==="Undefined"||t==="BigInt"||t==="NaN"||t==="NegZero"||console.warn(`Reading "${t}" returned ${o} at ${r}`),n.$id&&this.refs.set(n.$id,o);for(const[l,a]of s.entries())this.unresolved.push({object:o,key:a,ref:l,path:r});return o}readAs(t,n,r){switch(t){case"Array":return this.readAsArray(n,r);case"Set":return this.readAsSet(n,r);case"Map":return this.readAsMap(n,r);default:return this.readAsClass(t,n,r)}}readRef(t,n,r,i){if(!r||!r.$ref)return!1;const s=r.$ref;return this.refs.has(s)?t[n]=this.refs.get(s):(t[n]=jf,this.unresolved.push({object:t,key:n,ref:s,path:i})),!0}readInto(t,n,r,i){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];this.readRef(t,n,r,i)||(s&&typeof r=="object"?this.todo.push({object:t,key:n,value:r,path:i}):t[n]=this.read(r,i+li(t,n)))}},Cm=class extends rd{encode(t){const n=this.writeArray(t,"args");return this.writeDeferred(),n}writeModel(t){return{$ref:t.id}}},Tm=class extends id{decode(t){const n=this.readArray(t,"args");return this.readDeferred(),this.resolveRefs(),this.doPostprocess(),n}resolveRefs(){for(const{object:t,key:n,ref:r,path:i}of this.unresolved)if(this.refs.has(r))t[n]=this.refs.get(r);else{const s=this.vm.lookUpModel(r);if(!s)throw Error(`Unresolved ref: ${r} at ${i}[${JSON.stringify(n)}]`);t[n]=s}}};function ml(e,t){const n=Ve.controllers.size;n>1&&Yn(`Static properties in shared ${e} ${t} can lead to divergence because ${n} Croquet sessions are running simultaneaously. Consider using wellKnownModel() instead.`,{only:"once"})}function Aw(e){const t=new Uint8Array(e),n=[];for(let r=0;r<t.byteLength;r+=4096){const i=t.subarray(r,r+4096);n.push(String.fromCharCode.apply(null,i))}return globalThis.btoa(n.join(""))}const Tn={classes:D.has("debug","classes")};let qa=Symbol("SECRET");const Co=new WeakSet;let Ku=class Fu{static create(t,n,r){if(!eu(this))throw Error(`Model class "${this.name}" not registered`);const i=this,s=this.createNoInit();return typeof n=="string"&&(console.warn(`Croquet: Model.create(..., "${n}") with a well-known name argument is deprecated!`),s.beWellKnownAs(n),n=void 0),r&&s.beWellKnownAs(r),r==="modelRoot"&&s.__realm.vm.debugEvents&&this.eventDebugInit(s),Co.add(s),s.init(t,n),Co.has(s)&&(Co.delete(s),Object.getPrototypeOf(i)!==Fu&&console.warn(`${s} did not call super.init(options)`)),s}static createNoInit(t){const n=fn(),r=new this(qa);return t||(t=n.register(r)),Tn.write===void 0&&(Tn.write=D.has("debug","write"),Tn.publish=D.has("debug","publish"),Tn.events=D.has("debug","events")),Object.defineProperty(r,"__realm",{value:n,writable:Tn.write}),Object.defineProperty(r,"id",{value:t,enumerable:!0}),r}static allowConstructors(){qa=void 0,console.warn("disabling error reporting for Model constructors")}static register(t){return t||(t=this.name,console.warn(`Deprecation warning: ${this.name}.register(classId) called without classId. See https://croquet.io/docs/croquet/Model.html#.register`)),id.resetInstance(),rd.resetInstance(),Cm.resetInstance(),Tm.resetInstance(),function(n,r){const i=kp(n),s=Qr(`${r}:${i}`);Kc.push(s),s.then(o=>Jt[o].what=`Class ${r}`)}(this,t),function(n,r){const i=vi[r];if(i&&i!==n)throw Error(`Registering model class ${n.name} failed, id "${r}" already used by ${i.name}`);eu(n)?Tn.classes&&!i&&console.warn(`ignoring re-exported model class ${r}`):(Tn.classes&&console.log(`registering model class ${r}`),n[vs]=r),vi[r]=n}(this,t),Fu.lastRegistered=this,this}static wellKnownModel(t){if(!ft.hasCurrent())throw Error("static Model.wellKnownModel() called from outside model");return ft.current().get(t)}static evaluate(t){return ft.evaluate(t)}static isExecuting(){return ft.hasCurrent()}static types(){return{}}static gatherClassTypes(t,n){const r={};return Gm({root:t},n,r,new Set),r}static eventDebugOptions(){return Tn}static eventDebugInit(t){t.subscribe("*","*",t.createQFunc(`
        function logEvents(data) {
            // do this now to have no side effects below
            const { scope, event, source } = this.activeSubscription;
            // below stuff is outside the model. Must not have any side effects!
            const debug = this.constructor.eventDebugOptions();
            if (!debug.events && !debug.publish) return;
            const action = source === "model" ? "publish" : "receive";
            const emoji = source === "model" ? "" : "";
            console.log(\`\${emoji} @\${this.now()} Model \${action} \${scope}:\${event}\`, data);
        }
        `))}static okayToIgnore(){return[]}static classToID(t){return function(n){if(eu(n))return n[vs];const r=n.name||"ClassName";throw Error(`Model class not registered, did you call ${r}.register("${r}")?`)}(t)}static classFromID(t){return Uf(t)}static allClasses(){return Qf()}static allClassTypes(){return function(){const t={};for(const n of Qf())Object.assign(t,n.types());return Object.entries(t)}()}static instantiateClassID(t,n){return Uf(t).createNoInit(n)}constructor(t){if(t!==qa)throw Error('You must create Croquet Models using create() not "new"!')}init(t,n){Co.delete(this)}destroy(){fn().unsubscribeAll(this),fn().deregister(this)}publish(t,n,r){this.__realm||this.__realmError(),this.__realm.publish(n,r,t)}subscribe(t,n,r){return this.__realm||this.__realmError(),this.__realm.subscribe(this,t,n,r)}unsubscribe(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";this.__realm||this.__realmError(),this.__realm.unsubscribe(this,t,n,r)}unsubscribeAll(){this.__realm||this.__realmError(),this.__realm.unsubscribeAll(this)}get activeSubscription(){if(!ft.hasCurrent())return;const{currentEvent:t,currentEventFromModel:n}=ft.current();if(!t)return;const[r,i]=t.split(":");return{scope:r,event:i,source:n?"model":"view"}}__realmError(){if(!this.id)throw Error(`${this} has no ID, did you call super.init(options)?`)}future(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this.__realm||this.__realmError();for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return this.__realm.future(this,t,n,i)}cancelFuture(t){return this.__realm||this.__realmError(),this.__realm.cancelFuture(this,t)}random(){return fn().random()}now(){return fn().now()}beWellKnownAs(t){fn().vm.set(t,this)}getModel(t){return this.__realm.vm.lookUpModel(t)}wellKnownModel(t){return this.__realm.vm.get(t)}modelOnly(t){if(ft.current()===this.__realm.vm)return!0;const n=Error(t||`${this}.modelOnly() called from outside a model!`);throw je("view code",n),n}get sessionId(){return this.__realm.vm.id}get viewCount(){return Object.keys(this.__realm.vm.views).length}createQFunc(t,n){return n===void 0&&(n=t,t={}),Sm(this,t,n)}persistSession(t){if(this!==this.wellKnownModel("modelRoot"))throw Error("persistSession() must only be called on the root model");this.__realm.vm.persist(this,t)}[Symbol.toPrimitive](){return`${this.constructor[vs]||this.constructor.name}#${this.id}`}};const vi={},vs=Symbol("CLASS_ID");function Qf(){return Object.values(vi)}function eu(e){return Object.prototype.hasOwnProperty.call(e,vs)}function Uf(e){if(vi[e])return vi[e];throw Error(`Model class "${e}" in snapshot, but not registered?`)}function Gm(e,t,n,r){const i=Object.values(e).filter(s=>{const o=Object.prototype.toString.call(s).slice(8,-1);return(o==="Object"||o==="Array")&&!r.has(s)});for(const s of i){r.add(s);const o=t+"."+s.constructor.name;if(n[o]){if(n[o]!==s.constructor)throw new Error("Class with name "+o+" already gathered, but new one has different identity")}else n[o]=s.constructor}for(const s of i)Gm(s,t,n,r)}const Of="Croquet.Model";Ku[vs]=Of,vi[Of]=Ku;var xe=Ku;let Ki,ai=class{static displayStatus(t,n){return Pp(t,n)}static displayWarning(t,n){return Yn(t,n)}static displayError(t,n){return function(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r&&$.showMessage(r,{...i,level:"error"})}(t,n)}constructor(t){typeof t=="object"&&"__realm"in t||console.warn("Croquet: argument to View constructor needs to be a Model");let n=fn("");n&&n.isViewRealm()||(n=Gs(t.__realm.vm,()=>fn(),!0)),Object.defineProperty(this,"realm",{value:n}),Object.defineProperty(this,"id",{value:n.register(this),configurable:!0});const r=n.controller.session;if(r.view||(r.view=this),Ki||(Ki={events:D.has("debug","events"),publish:D.has("debug","publish")}),r.view===this&&(Ki.events||Ki.publish)){const i=l=>{if(!n.vm.debugEvents)return;const{scope:a,event:u,source:c,subscribed:S}=this.activeSubscription;if(!S&&!Ki.publish)return;const b=c==="view"?"publish":"receive";console.log(`${c==="view"?"":""} View ${b} ${a}:${u}${S||b==="publish"?"":" (no subscribers)"}`,l)},s=l=>this.activeSubscription.source==="view"&&i(l),o=l=>this.activeSubscription.source==="model"&&i(l);s.__CROQUET__=!0,o.__CROQUET__=!0,this.subscribe("*",{event:"*",handling:"queued"},o),this.subscribe("*",{event:"*",handling:"immediate"},s)}}detach(){this.unsubscribeAll(),this.realm.deregister(this),Object.defineProperty(this,"id",{value:""})}reattach(){Object.defineProperty(this,"id",{value:this.realm.register(this)})}publish(t,n,r){this.realm.publish(n,r,t)}subscribe(t,n,r){typeof r=="string"&&(r=this[r]);const i=r;(r=i.bind(this)).unbound=i;const{event:s,handling:o}=n.event?n:{event:n};this.realm.subscribe(s,this.id,r,t,o)}unsubscribe(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;typeof r=="string"&&(r=this[r]),this.realm.unsubscribe(n,this.id,r,t)}unsubscribeAll(){this.realm.unsubscribeAll(this.id)}get activeSubscription(){const{currentEvent:t,currentEventFromModel:n,currentEventOnlyGeneric:r}=Ve;if(!t)return;const[i,s]=t.split(":");return{scope:i,event:s,source:n?"model":"view",subscribed:!r}}future(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.realm.future(this,t)}random(){return fn().random()}now(){return this.realm.now()}externalNow(){return this.realm.externalNow()}extrapolatedNow(){return this.realm.extrapolatedNow()}update(t){}wellKnownModel(t){return this.realm.vm.get(t)}get sessionId(){return this.realm.controller.sessionSpec.id}get session(){if(this.id&&this.realm.valid())return this.realm.controller.session}get viewId(){return this.realm.controller.viewId}[Symbol.toPrimitive](){const t=this.constructor.name;return t.includes("View")?t:`${t}[View]`}};const yl=new class{constructor(){this.ready=!1,this.isInIframe=window.top!==window,this.subscriptions={},this.enumerator=null}setReceiver(e){this.receiver=e,this.ready=!0}setIframeEnumerator(e){this.enumerator=e}on(e,t){if(!this.receiver)throw Error("setReceiver() has not been called");if(typeof t=="string"&&(t=this.receiver[t]),!t)throw Error("Messenger.on: the second argument must be a method name or a function");if(this.subscriptions[e]){if(this.findIndex(this.subscriptions[e],t)>=0)throw Error(`${t} is already subscribed`)}else this.subscriptions[e]=[];this.subscriptions[e].push(t),this.listener||(this.listener=n=>this.receive(n),window.addEventListener("message",this.listener))}detach(){this.listener&&(window.removeEventListener("message",this.listener),this.listener=null),this.stopPublishingPointerMove(),this.receiver=null,this.subscriptions={},this.enumerator=null,this.ready=!1}removeSubscription(e,t){typeof t=="string"&&(t=this.receiver[t]);const n=this.subscriptions[e];if(n){const r=this.findIndex(n,t);n.splice(r,1),n.length===0&&delete this.subscriptions[e]}}removeAllSubscriptions(){this.subscriptions={}}receive(e){const{event:t,data:n}=e.data,r=e.source;this.handleEvent(t,n,r)}handleEvent(e,t,n){const r=this.subscriptions[e];r&&r.forEach(i=>{i.call(this.receiver,t,n)})}send(e,t,n){if(this.isInIframe)return void window.top.postMessage({event:e,data:t},"*");if(n)return void n.postMessage({event:e,data:t},"*");this.enumerator&&this.enumerator().forEach(r=>{r.contentWindow.postMessage({event:e,data:t},"*")})}findIndex(e,t){const n=t.name;return e.findIndex(r=>{const i=r.name;return n||i?n===i:t===r})}startPublishingPointerMove(){this._moveHandler||(this._moveHandler=e=>this.send("pointerPosition",{x:e.clientX,y:e.clientY,type:e.type}),window.document.addEventListener("pointermove",this._moveHandler,!0))}stopPublishingPointerMove(){this._moveHandler&&(window.document.removeEventListener("pointermove",this._moveHandler,!0),this._moveHandler=null)}},qw=Kl.CROQUET_PLATFORM==="node";let Df=60,Pm=class Wm{static async join(t){try{return await this.join_impl(t)}catch(n){throw $.showMessage(n.message||n,{level:"fatal"}),n}}static async join_impl(t){if(typeof t!="object")throw Error("Croquet: please use new Session.join( {apiKey, ...} ) API. See https://croquet.io/docs/croquet/Session.html#.join");t.appId||(t.appId="no.appId"),t.name||(t.name=$.autoSession(),t.password||(t.password=$.autoPassword())),t.model||(t.model=xe.lastRegistered),t.view||(t.view=ai);const n=[];for(const[g,X]of Object.entries(t))X instanceof Promise&&n.push(X.then(C=>t[g]=C));function r(g,X){return g===X||g.prototype instanceof X}if(await Promise.all(n),typeof t.apiKey!="string")throw Error("Croquet: no apiKey provided in Session.join()!");if(t.apiKey.length>128)throw Error("Croquet: apiKey > 128 characters in Session.join()!");if(typeof t.name!="string")throw Error("Croquet: no session name provided in Session.join()!");if(t.name.length>128)throw Error("Croquet: session name > 128 characters in Session.join()!");const i=t.model;if(typeof i!="function"||!r(i,xe))throw Error("Croquet: bad model class in Session.join()");const s=t.view||ai;if(typeof s!="function"||!r(s,ai))throw Error("Croquet: bad view class in Session.join()");if(typeof t.appId!="string")throw Error("Croquet: no appId provided in Session.join()");if(!t.appId.length>128)throw Error("Croquet: appId > 128 characters in Session.join()");if(!t.appId.match(/^[a-z](-?[a-z0-9_])*(\.[a-z0-9_](-?[a-z0-9_])*)+$/i))throw Error("Croquet: malformed appId in Session.join()");if(typeof t.password!="string"||!t.password)throw Error("Croquet: no password provided in Session.join()");for(const g of["reflector","synchronizer","files","backend"]){const X=D[g]||t[g];X!==void 0&&(D[g]=X)}if(qw&&t.step!=="manual")throw Error("stepping must be manual in a Node.js app");if("rejoinLimit"in t){if(typeof t.rejoinLimit!="number"||t.rejoinLimit<0||t.rejoinLimit>6e4)throw Error("rejoinLimit range: 0-60000")}else t.rejoinLimit=1e3;if("eventRateLimit"in t){if(typeof t.eventRateLimit!="number"||t.eventRateLimit<1||t.eventRateLimit>60)throw Error("eventRateLimit range: 1-60")}else t.eventRateLimit=20;if(t.heraldUrl){if(t.heraldUrl.length>256)throw Error("heraldUrl can only be 256 characters");if(!t.heraldUrl.startsWith("https://"))throw Error("heraldUrl needs to be https")}if(t.hashOverride){if(t.hashOverride.length!==43)throw Error("hashOverride must be 43 characters");if(t.hashOverride.search(/[^-_a-zA-Z0-9]/)!==-1)throw Error("hashOverride must be base64url encoded")}if(t.debug){let g=function(X){return typeof X=="string"&&(X=X.split(",")),X?Array.isArray(X)?X:[X]:[]};D.debug=[...g(t.debug),...g(D.debug)].join(",")}if("autoSleep"in t){const g=t.autoSleep,X=typeof g;if(X==="number"){if(g<0)throw Error("an autoSleep value must be >= 0")}else{if(X!=="boolean")throw Error("autoSleep must be numeric or boolean");t.autoSleep=g?10:0}}else t.autoSleep=10;if(t.flags){let g=t.flags;typeof g=="string"&&(g=g.split(",")),g=g?Array.isArray(g)?g:[g]:[],g=g.filter(X=>typeof X!="object"),g.length?(t.flags={},g.forEach(X=>t.flags[X]=!0)):t.flags=null}"expectedSimFPS"in t&&(Df=Math.min(t.expectedSimFPS,120));const o=["name","password","apiKey","appId","tps","autoSleep","heraldUrl","rejoinLimit","eventRateLimit","optionsFromUrl","persistentIdOptions","viewOptions","viewIdDebugSuffix","hashOverride","location","flags","progressReporter"];(function(){Object.isFrozen(ws)||(Im(ws),function(g){const X=JSON.stringify(g,(p,f)=>typeof f=="function"?kp(f):f);if(X==="{}")return;const C=JSON.parse(X),y=Qr(Sr.default(C));Kc.push(y),y.then(p=>Jt[p].what="Croquet Constants")}(ws))})();const l=new Kw,a=JSON.parse(JSON.stringify({...t.options}));if(t.persistentIdOptions){if(!Array.isArray(t.persistentIdOptions))throw Error("persistentIdOptions must be an array");for(const g of t.persistentIdOptions)if(!(g in a))throw Error(`persistentIdOptions key "${g}" not found in options`)}const u={id:"",persistentId:"",versionId:"",name:t.name,model:null,view:null,step(g){l.stepSession("animation",{frameTime:g,view:u.view,expectedSimFPS:Df})},leave:()=>Wm.leave(u.id),data:{store:(g,X)=>Tt.store(g,{...X,sessionId:u.id}),fetch:(g,X)=>Tt.fetch(g,{...X,sessionId:u.id}),hash:g=>Tt.hash(g),toId:g=>Tt.toId(g),fromId:g=>Tt.fromId(g)},get latency(){return l.latency},get latencies(){return l.latencies}},c={options:a,initFn:(g,X)=>i.create(g,X,"modelRoot"),rebootModelView:b};for(const[g,X]of Object.entries(t))o.includes(g)&&(c[g]=X);await l.initFromSessionSpec(c);let S=!1;return await b(),t.step!=="manual"&&l.startStepping(u.step),u;async function b(){(function(){u.model=null,u.view&&(D.has("debug","session",!1)&&console.log(u.id,"detaching root view"),u.view.detach(),u.view.id!==""&&console.warn(`Croquet: ${u.view} did not call super.detach()`),u.view=null),$.clearSessionMoniker(),yl.ready&&yl.detach()})(),l.leaving?l.leaving(!0):S||(S=!0,await l.establishSession(c),S=!1,u.model=l.vm.get("modelRoot"),u.id=l.id,u.persistentId=l.persistentId,u.versionId=l.versionId,l.session=u,$.makeSessionWidgets(u.id),l.inViewRealm(()=>{D.has("debug","session",!1)&&console.log(u.id,"creating root view"),new s(u.model,c.viewOptions)}))}}static async leave(t){const n=function(s){for(const o of gi)if(o.id===s)return o;return null}(t);if(!n)return!1;n.reconnectTimeout&&(clearTimeout(n.reconnectTimeout),delete n.reconnectTimeout);const r=new Promise(s=>n.leaving=s),i=n.connection;return!!i.connected&&(i.closeConnection(1e3),r)}static thisSession(){const t=ft.current();return t?t.id:""}get id(){return""}get persistentId(){return""}get versionId(){return""}get name(){return""}get data(){return{}}step(t){}leave(){}};const ws={};function Im(e){if(!Object.isFrozen(e)){Object.freeze(e);for(const t of Object.values(e))!t||typeof t!="object"&&typeof t!="function"||Im(t)}}const Jf={Model:xe,View:ai,Session:Pm,Data:Tt,Constants:ws,App:$,Messenger:yl};xe.Croquet=Jf,ai.Croquet=Jf,Bi=Pn.App=$,Pn.Constants=ws,Pn.Data=Tt,Pn.Messenger=yl,Zp=Pn.Model=xe,Sp=Pn.Session=Pm,bp=Pn.View=ai;var eb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class _m extends Zp{constructor(){super(...arguments),this.__reactEvents=[],this.__views=null}init(t){const{trackViews:n}=t,r=eb(t,["trackViews"]);super.init(r),this.__reactEvents=[],n===!0&&(this.__views=new Set),super.subscribe(this.sessionId,"view-join",this.__viewJoin),super.subscribe(this.sessionId,"view-exit",this.__viewExit)}__viewJoin(t){this.__views&&(this.__views.add(t),this.publish(this.sessionId,"views-updated")),this.handleViewJoin(t)}__viewExit(t){this.__views&&(this.__views.delete(t),this.publish(this.sessionId,"views-updated")),this.handleViewExit(t)}handleViewJoin(t){}handleViewExit(t){}subscribe(t,n,r){if(n==="view-join"||n==="view-exit")throw new Error(`In @croquet/react you cannot directly subscribe to ${n}.
Override ${n==="view-join"?"handleViewJoin(viewId)":"handleViewExit(viewId)"} instead
`);this.__subscribe(t,n,r)}__subscribe(t,n,r){this.__reactEvents.push({scope:t,event:n}),typeof r=="function"&&this[r.name]===r&&(r=r.name);const i=this.createQFunc({handler:r},`(data) => {
      if (typeof handler === 'function') handler(data)
      else this[handler](data)
      this.publish(this.sessionId, 'react-updated')
    }`);super.subscribe(t,n,i)}__future_wrapper(t,...n){const r=this[t];typeof r=="function"?(r.apply(this,n),this.publish(this.sessionId,"react-updated")):console.error(`${t} is not a function of ${this}`)}future(t,n,...r){return n!==void 0?super.future(t,"__future_wrapper",n,...r):new Proxy(this,{get(i,s,o){return(...l)=>i.future(t,s,...l)}})}}_m.register("ReactModel");let Rm=null;class tb extends bp{constructor(t){super(t),this.model=t,this.updateCallback=null,this.syncedCallback=Rm,this.detachCallback=null,this.subscribe(this.viewId,"synced",this.synced)}update(t){this.updateCallback!==null&&this.updateCallback(t)}synced(t){this.syncedCallback&&this.syncedCallback(t)}detach(){this.detachCallback&&this.detachCallback(),super.detach()}}function nb(e){Rm=e}var rb=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(S){o(S)}}function a(c){try{u(r.throw(c))}catch(S){o(S)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,[])).next())})};function $f(e){return rb(this,void 0,void 0,function*(){const t=Object.assign(Object.assign({},e),{view:tb});return Sp.join(t)})}const ib=Oe.createContext(void 0);var Bf=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(S){o(S)}}function a(c){try{u(r.throw(c))}catch(S){o(S)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})},sb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function ob({sessionParams:e,children:t,showChildrenWithoutSession:n=!1,deferSession:r=!1}){const i=Oe.useRef(null),s=Oe.useRef(null),[o,l]=Oe.useState(null),[a,u]=Oe.useState(null),[c,S]=Oe.useState(()=>(r||(e.name||(e.name=Bi.randomSession()),e.password||(e.password=Bi.randomPassword())),Object.assign(Object.assign({},e),{join:!r}))),b=Oe.useCallback(C=>{var y;l(C),u((y=C==null?void 0:C.view)!==null&&y!==void 0?y:null)},[l,u]);Oe.useEffect(()=>S(Object.assign(Object.assign({},e),{join:!r})),[e,r,S]),Oe.useEffect(()=>{function C(){return Bf(this,void 0,void 0,function*(){if(i.current||!c.join)return;s.current?(i.current=s.current,s.current=null):(i.current="joining",i.current=yield $f(c));const y=i.current;b(y),nb(p=>{const f=i.current;f!==null&&f!=="joining"&&(p&&b(f),f.view&&(f.view.detachCallback=()=>{u(null)}))})})}return C(),()=>{const y=i.current;y!==null&&y!=="joining"&&(i.current=null,y.leave())}},[c,b]);const g=Oe.useCallback(C=>Bf(this,void 0,void 0,function*(){const y=Object.assign(Object.assign(Object.assign({},c),C),{join:!0});y.name||(y.name=Bi.randomSession()),y.password||(y.password=Bi.randomPassword());const p=sb(y,["join"]);$f(p).then(f=>{s.current=f,S(y)})}),[S,c]),X=Oe.useCallback(()=>{S(C=>Object.assign(Object.assign({},C),{join:!1})),b(null)},[S,b]);if(c.join&&a||n){const C={sessionParams:c,session:o,view:a,model:(a==null?void 0:a.model)||null,setSession:g,leaveSession:X};return vp.jsx(ib.Provider,{value:C,children:t})}return null}function To(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lb={exports:{}};(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var S=typeof To=="function"&&To;if(!c&&S)return S(u,!0);if(l)return l(u,!0);throw new Error("Cannot find module '"+u+"'")}c=i[u]={exports:{}},r[u][0].call(c.exports,function(b){var g=r[u][1][b];return o(g||b)},c,c.exports,n,r,i,s)}return i[u].exports}for(var l=typeof To=="function"&&To,a=0;a<s.length;a++)o(s[a]);return o}({1:[function(n,r,i){(function(s,o,l,a,u,c,S,b,g){var X=n("crypto");function C(h,m){m=f(h,m);var d;return(d=m.algorithm!=="passthrough"?X.createHash(m.algorithm):new w).write===void 0&&(d.write=d.update,d.end=d.update),L(m,d).dispatch(h),d.update||d.end(""),d.digest?d.digest(m.encoding==="buffer"?void 0:m.encoding):(h=d.read(),m.encoding!=="buffer"?h.toString(m.encoding):h)}(i=r.exports=C).sha1=function(h){return C(h)},i.keys=function(h){return C(h,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(h){return C(h,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(h){return C(h,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var y=X.getHashes?X.getHashes().slice():["sha1","md5"],p=(y.push("passthrough"),["buffer","hex","binary","base64"]);function f(h,m){var d={};if(d.algorithm=(m=m||{}).algorithm||"sha1",d.encoding=m.encoding||"hex",d.excludeValues=!!m.excludeValues,d.algorithm=d.algorithm.toLowerCase(),d.encoding=d.encoding.toLowerCase(),d.ignoreUnknown=m.ignoreUnknown===!0,d.respectType=m.respectType!==!1,d.respectFunctionNames=m.respectFunctionNames!==!1,d.respectFunctionProperties=m.respectFunctionProperties!==!1,d.unorderedArrays=m.unorderedArrays===!0,d.unorderedSets=m.unorderedSets!==!1,d.unorderedObjects=m.unorderedObjects!==!1,d.replacer=m.replacer||void 0,d.excludeKeys=m.excludeKeys||void 0,h===void 0)throw new Error("Object argument required.");for(var v=0;v<y.length;++v)y[v].toLowerCase()===d.algorithm.toLowerCase()&&(d.algorithm=y[v]);if(y.indexOf(d.algorithm)===-1)throw new Error('Algorithm "'+d.algorithm+'"  not supported. supported values: '+y.join(", "));if(p.indexOf(d.encoding)===-1&&d.algorithm!=="passthrough")throw new Error('Encoding "'+d.encoding+'"  not supported. supported values: '+p.join(", "));return d}function x(h){if(typeof h=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(h))!=null}function L(h,m,d){d=d||[];function v(Z){return m.update?m.update(Z,"utf8"):m.write(Z,"utf8")}return{dispatch:function(Z){return this["_"+((Z=h.replacer?h.replacer(Z):Z)===null?"null":typeof Z)](Z)},_object:function(Z){var T,P=Object.prototype.toString.call(Z),N=/\[object (.*)\]/i.exec(P);if(N=(N=N?N[1]:"unknown:["+P+"]").toLowerCase(),0<=(P=d.indexOf(Z)))return this.dispatch("[CIRCULAR:"+P+"]");if(d.push(Z),l!==void 0&&l.isBuffer&&l.isBuffer(Z))return v("buffer:"),v(Z);if(N==="object"||N==="function"||N==="asyncfunction")return P=Object.keys(Z),h.unorderedObjects&&(P=P.sort()),h.respectType===!1||x(Z)||P.splice(0,0,"prototype","__proto__","constructor"),h.excludeKeys&&(P=P.filter(function(F){return!h.excludeKeys(F)})),v("object:"+P.length+":"),T=this,P.forEach(function(F){T.dispatch(F),v(":"),h.excludeValues||T.dispatch(Z[F]),v(",")});if(!this["_"+N]){if(h.ignoreUnknown)return v("["+N+"]");throw new Error('Unknown object type "'+N+'"')}this["_"+N](Z)},_array:function(Z,F){F=F!==void 0?F:h.unorderedArrays!==!1;var P=this;if(v("array:"+Z.length+":"),!F||Z.length<=1)return Z.forEach(function(z){return P.dispatch(z)});var N=[],F=Z.map(function(z){var Y=new w,J=d.slice();return L(h,Y,J).dispatch(z),N=N.concat(J.slice(d.length)),Y.read().toString()});return d=d.concat(N),F.sort(),this._array(F,!1)},_date:function(Z){return v("date:"+Z.toJSON())},_symbol:function(Z){return v("symbol:"+Z.toString())},_error:function(Z){return v("error:"+Z.toString())},_boolean:function(Z){return v("bool:"+Z.toString())},_string:function(Z){v("string:"+Z.length+":"),v(Z.toString())},_function:function(Z){v("fn:"),x(Z)?this.dispatch("[native]"):this.dispatch(Z.toString()),h.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(Z.name)),h.respectFunctionProperties&&this._object(Z)},_number:function(Z){return v("number:"+Z.toString())},_xml:function(Z){return v("xml:"+Z.toString())},_null:function(){return v("Null")},_undefined:function(){return v("Undefined")},_regexp:function(Z){return v("regex:"+Z.toString())},_uint8array:function(Z){return v("uint8array:"),this.dispatch(Array.prototype.slice.call(Z))},_uint8clampedarray:function(Z){return v("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(Z))},_int8array:function(Z){return v("int8array:"),this.dispatch(Array.prototype.slice.call(Z))},_uint16array:function(Z){return v("uint16array:"),this.dispatch(Array.prototype.slice.call(Z))},_int16array:function(Z){return v("int16array:"),this.dispatch(Array.prototype.slice.call(Z))},_uint32array:function(Z){return v("uint32array:"),this.dispatch(Array.prototype.slice.call(Z))},_int32array:function(Z){return v("int32array:"),this.dispatch(Array.prototype.slice.call(Z))},_float32array:function(Z){return v("float32array:"),this.dispatch(Array.prototype.slice.call(Z))},_float64array:function(Z){return v("float64array:"),this.dispatch(Array.prototype.slice.call(Z))},_arraybuffer:function(Z){return v("arraybuffer:"),this.dispatch(new Uint8Array(Z))},_url:function(Z){return v("url:"+Z.toString())},_map:function(Z){return v("map:"),Z=Array.from(Z),this._array(Z,h.unorderedSets!==!1)},_set:function(Z){return v("set:"),Z=Array.from(Z),this._array(Z,h.unorderedSets!==!1)},_file:function(Z){return v("file:"),this.dispatch([Z.name,Z.size,Z.type,Z.lastModfied])},_blob:function(){if(h.ignoreUnknown)return v("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return v("domwindow")},_bigint:function(Z){return v("bigint:"+Z.toString())},_process:function(){return v("process")},_timer:function(){return v("timer")},_pipe:function(){return v("pipe")},_tcp:function(){return v("tcp")},_udp:function(){return v("udp")},_tty:function(){return v("tty")},_statwatcher:function(){return v("statwatcher")},_securecontext:function(){return v("securecontext")},_connection:function(){return v("connection")},_zlib:function(){return v("zlib")},_context:function(){return v("context")},_nodescript:function(){return v("nodescript")},_httpparser:function(){return v("httpparser")},_dataview:function(){return v("dataview")},_signal:function(){return v("signal")},_fsevent:function(){return v("fsevent")},_tlswrap:function(){return v("tlswrap")}}}function w(){return{buf:"",write:function(h){this.buf+=h},end:function(h){this.buf+=h},read:function(){return this.buf}}}i.writeToStream=function(h,m,d){return d===void 0&&(d=m,m={}),L(m=f(h,m),d).dispatch(h)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(n,r,i){(function(s,o,l,a,u,c,S,b,g){(function(X){var C=typeof Uint8Array<"u"?Uint8Array:Array,y=43,p=47,f=48,x=97,L=65,w=45,h=95;function m(d){return d=d.charCodeAt(0),d===y||d===w?62:d===p||d===h?63:d<f?-1:d<f+10?d-f+26+26:d<L+26?d-L:d<x+26?d-x+26:void 0}X.toByteArray=function(d){var v,Z;if(0<d.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var T=d.length,T=d.charAt(T-2)==="="?2:d.charAt(T-1)==="="?1:0,P=new C(3*d.length/4-T),N=0<T?d.length-4:d.length,F=0;function z(Y){P[F++]=Y}for(v=0;v<N;v+=4,0)z((16711680&(Z=m(d.charAt(v))<<18|m(d.charAt(v+1))<<12|m(d.charAt(v+2))<<6|m(d.charAt(v+3))))>>16),z((65280&Z)>>8),z(255&Z);return T==2?z(255&(Z=m(d.charAt(v))<<2|m(d.charAt(v+1))>>4)):T==1&&(z((Z=m(d.charAt(v))<<10|m(d.charAt(v+1))<<4|m(d.charAt(v+2))>>2)>>8&255),z(255&Z)),P},X.fromByteArray=function(d){var v,Z,T,P,N=d.length%3,F="";function z(Y){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(Y)}for(v=0,T=d.length-N;v<T;v+=3)Z=(d[v]<<16)+(d[v+1]<<8)+d[v+2],F+=z((P=Z)>>18&63)+z(P>>12&63)+z(P>>6&63)+z(63&P);switch(N){case 1:F=(F+=z((Z=d[d.length-1])>>2))+z(Z<<4&63)+"==";break;case 2:F=(F=(F+=z((Z=(d[d.length-2]<<8)+d[d.length-1])>>10))+z(Z>>4&63))+z(Z<<2&63)+"="}return F}})(i===void 0?this.base64js={}:i)}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(n,r,i){(function(s,o,y,a,u,c,S,b,g){var X=n("base64-js"),C=n("ieee754");function y(k,W,R){if(!(this instanceof y))return new y(k,W,R);var K,H,U,te,we=typeof k;if(W==="base64"&&we=="string")for(k=(te=k).trim?te.trim():te.replace(/^\s+|\s+$/g,"");k.length%4!=0;)k+="=";if(we=="number")K=_(k);else if(we=="string")K=y.byteLength(k,W);else{if(we!="object")throw new Error("First argument needs to be a number, array or string.");K=_(k.length)}if(y._useTypedArrays?H=y._augment(new Uint8Array(K)):((H=this).length=K,H._isBuffer=!0),y._useTypedArrays&&typeof k.byteLength=="number")H._set(k);else if(G(te=k)||y.isBuffer(te)||te&&typeof te=="object"&&typeof te.length=="number")for(U=0;U<K;U++)y.isBuffer(k)?H[U]=k.readUInt8(U):H[U]=k[U];else if(we=="string")H.write(k,0,W);else if(we=="number"&&!y._useTypedArrays&&!R)for(U=0;U<K;U++)H[U]=0;return H}function p(k,W,R,K){return y._charsWritten=A(function(H){for(var U=[],te=0;te<H.length;te++)U.push(255&H.charCodeAt(te));return U}(W),k,R,K)}function f(k,W,R,K){return y._charsWritten=A(function(H){for(var U,te,we=[],Pe=0;Pe<H.length;Pe++)te=H.charCodeAt(Pe),U=te>>8,te=te%256,we.push(te),we.push(U);return we}(W),k,R,K)}function x(k,W,R){var K="";R=Math.min(k.length,R);for(var H=W;H<R;H++)K+=String.fromCharCode(k[H]);return K}function L(k,W,R,U){U||(Q(typeof R=="boolean","missing or invalid endian"),Q(W!=null,"missing offset"),Q(W+1<k.length,"Trying to read beyond buffer length"));var H,U=k.length;if(!(U<=W))return R?(H=k[W],W+1<U&&(H|=k[W+1]<<8)):(H=k[W]<<8,W+1<U&&(H|=k[W+1])),H}function w(k,W,R,U){U||(Q(typeof R=="boolean","missing or invalid endian"),Q(W!=null,"missing offset"),Q(W+3<k.length,"Trying to read beyond buffer length"));var H,U=k.length;if(!(U<=W))return R?(W+2<U&&(H=k[W+2]<<16),W+1<U&&(H|=k[W+1]<<8),H|=k[W],W+3<U&&(H+=k[W+3]<<24>>>0)):(W+1<U&&(H=k[W+1]<<16),W+2<U&&(H|=k[W+2]<<8),W+3<U&&(H|=k[W+3]),H+=k[W]<<24>>>0),H}function h(k,W,R,K){if(K||(Q(typeof R=="boolean","missing or invalid endian"),Q(W!=null,"missing offset"),Q(W+1<k.length,"Trying to read beyond buffer length")),!(k.length<=W))return K=L(k,W,R,!0),32768&K?-1*(65535-K+1):K}function m(k,W,R,K){if(K||(Q(typeof R=="boolean","missing or invalid endian"),Q(W!=null,"missing offset"),Q(W+3<k.length,"Trying to read beyond buffer length")),!(k.length<=W))return K=w(k,W,R,!0),2147483648&K?-1*(4294967295-K+1):K}function d(k,W,R,K){return K||(Q(typeof R=="boolean","missing or invalid endian"),Q(W+3<k.length,"Trying to read beyond buffer length")),C.read(k,W,R,23,4)}function v(k,W,R,K){return K||(Q(typeof R=="boolean","missing or invalid endian"),Q(W+7<k.length,"Trying to read beyond buffer length")),C.read(k,W,R,52,8)}function Z(k,W,R,K,H){if(H||(Q(W!=null,"missing value"),Q(typeof K=="boolean","missing or invalid endian"),Q(R!=null,"missing offset"),Q(R+1<k.length,"trying to write beyond buffer length"),Ze(W,65535)),H=k.length,!(H<=R))for(var U=0,te=Math.min(H-R,2);U<te;U++)k[R+U]=(W&255<<8*(K?U:1-U))>>>8*(K?U:1-U)}function T(k,W,R,K,H){if(H||(Q(W!=null,"missing value"),Q(typeof K=="boolean","missing or invalid endian"),Q(R!=null,"missing offset"),Q(R+3<k.length,"trying to write beyond buffer length"),Ze(W,4294967295)),H=k.length,!(H<=R))for(var U=0,te=Math.min(H-R,4);U<te;U++)k[R+U]=W>>>8*(K?U:3-U)&255}function P(k,W,R,K,H){H||(Q(W!=null,"missing value"),Q(typeof K=="boolean","missing or invalid endian"),Q(R!=null,"missing offset"),Q(R+1<k.length,"Trying to write beyond buffer length"),le(W,32767,-32768)),k.length<=R||Z(k,0<=W?W:65535+W+1,R,K,H)}function N(k,W,R,K,H){H||(Q(W!=null,"missing value"),Q(typeof K=="boolean","missing or invalid endian"),Q(R!=null,"missing offset"),Q(R+3<k.length,"Trying to write beyond buffer length"),le(W,2147483647,-2147483648)),k.length<=R||T(k,0<=W?W:4294967295+W+1,R,K,H)}function F(k,W,R,K,H){H||(Q(W!=null,"missing value"),Q(typeof K=="boolean","missing or invalid endian"),Q(R!=null,"missing offset"),Q(R+3<k.length,"Trying to write beyond buffer length"),qe(W,34028234663852886e22,-34028234663852886e22)),k.length<=R||C.write(k,W,R,K,23,4)}function z(k,W,R,K,H){H||(Q(W!=null,"missing value"),Q(typeof K=="boolean","missing or invalid endian"),Q(R!=null,"missing offset"),Q(R+7<k.length,"Trying to write beyond buffer length"),qe(W,17976931348623157e292,-17976931348623157e292)),k.length<=R||C.write(k,W,R,K,52,8)}i.Buffer=y,i.SlowBuffer=y,i.INSPECT_MAX_BYTES=50,y.poolSize=8192,y._useTypedArrays=function(){try{var k=new ArrayBuffer(0),W=new Uint8Array(k);return W.foo=function(){return 42},W.foo()===42&&typeof W.subarray=="function"}catch{return!1}}(),y.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.isBuffer=function(k){return!(k==null||!k._isBuffer)},y.byteLength=function(k,W){var R;switch(k+="",W||"utf8"){case"hex":R=k.length/2;break;case"utf8":case"utf-8":R=E(k).length;break;case"ascii":case"binary":case"raw":R=k.length;break;case"base64":R=M(k).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":R=2*k.length;break;default:throw new Error("Unknown encoding")}return R},y.concat=function(k,W){if(Q(G(k),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),k.length===0)return new y(0);if(k.length===1)return k[0];if(typeof W!="number")for(H=W=0;H<k.length;H++)W+=k[H].length;for(var R=new y(W),K=0,H=0;H<k.length;H++){var U=k[H];U.copy(R,K),K+=U.length}return R},y.prototype.write=function(k,W,R,K){isFinite(W)?isFinite(R)||(K=R,R=void 0):(Pe=K,K=W,W=R,R=Pe),W=Number(W)||0;var H,U,te,we,Pe=this.length-W;switch((!R||Pe<(R=Number(R)))&&(R=Pe),K=String(K||"utf8").toLowerCase()){case"hex":H=function(Rt,et,tt,We){tt=Number(tt)||0;var ke=Rt.length-tt;(!We||ke<(We=Number(We)))&&(We=ke),Q((ke=et.length)%2==0,"Invalid hex string"),ke/2<We&&(We=ke/2);for(var Er=0;Er<We;Er++){var Jd=parseInt(et.substr(2*Er,2),16);Q(!isNaN(Jd),"Invalid hex string"),Rt[tt+Er]=Jd}return y._charsWritten=2*Er,Er}(this,k,W,R);break;case"utf8":case"utf-8":U=this,te=W,we=R,H=y._charsWritten=A(E(k),U,te,we);break;case"ascii":case"binary":H=p(this,k,W,R);break;case"base64":U=this,te=W,we=R,H=y._charsWritten=A(M(k),U,te,we);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":H=f(this,k,W,R);break;default:throw new Error("Unknown encoding")}return H},y.prototype.toString=function(k,W,R){var K,H,U,te,we=this;if(k=String(k||"utf8").toLowerCase(),W=Number(W)||0,(R=R!==void 0?Number(R):we.length)===W)return"";switch(k){case"hex":K=function(Pe,Rt,et){var tt=Pe.length;(!Rt||Rt<0)&&(Rt=0),(!et||et<0||tt<et)&&(et=tt);for(var We="",ke=Rt;ke<et;ke++)We+=I(Pe[ke]);return We}(we,W,R);break;case"utf8":case"utf-8":K=function(Pe,Rt,et){var tt="",We="";et=Math.min(Pe.length,et);for(var ke=Rt;ke<et;ke++)Pe[ke]<=127?(tt+=ie(We)+String.fromCharCode(Pe[ke]),We=""):We+="%"+Pe[ke].toString(16);return tt+ie(We)}(we,W,R);break;case"ascii":case"binary":K=x(we,W,R);break;case"base64":H=we,te=R,K=(U=W)===0&&te===H.length?X.fromByteArray(H):X.fromByteArray(H.slice(U,te));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":K=function(Pe,Rt,et){for(var tt=Pe.slice(Rt,et),We="",ke=0;ke<tt.length;ke+=2)We+=String.fromCharCode(tt[ke]+256*tt[ke+1]);return We}(we,W,R);break;default:throw new Error("Unknown encoding")}return K},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},y.prototype.copy=function(k,W,R,K){if(W=W||0,(K=K||K===0?K:this.length)!==(R=R||0)&&k.length!==0&&this.length!==0){Q(R<=K,"sourceEnd < sourceStart"),Q(0<=W&&W<k.length,"targetStart out of bounds"),Q(0<=R&&R<this.length,"sourceStart out of bounds"),Q(0<=K&&K<=this.length,"sourceEnd out of bounds"),K>this.length&&(K=this.length);var H=(K=k.length-W<K-R?k.length-W+R:K)-R;if(H<100||!y._useTypedArrays)for(var U=0;U<H;U++)k[U+W]=this[U+R];else k._set(this.subarray(R,R+H),W)}},y.prototype.slice=function(k,W){var R=this.length;if(k=J(k,R,0),W=J(W,R,R),y._useTypedArrays)return y._augment(this.subarray(k,W));for(var K=W-k,H=new y(K,void 0,!0),U=0;U<K;U++)H[U]=this[U+k];return H},y.prototype.get=function(k){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(k)},y.prototype.set=function(k,W){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(k,W)},y.prototype.readUInt8=function(k,W){if(W||(Q(k!=null,"missing offset"),Q(k<this.length,"Trying to read beyond buffer length")),!(k>=this.length))return this[k]},y.prototype.readUInt16LE=function(k,W){return L(this,k,!0,W)},y.prototype.readUInt16BE=function(k,W){return L(this,k,!1,W)},y.prototype.readUInt32LE=function(k,W){return w(this,k,!0,W)},y.prototype.readUInt32BE=function(k,W){return w(this,k,!1,W)},y.prototype.readInt8=function(k,W){if(W||(Q(k!=null,"missing offset"),Q(k<this.length,"Trying to read beyond buffer length")),!(k>=this.length))return 128&this[k]?-1*(255-this[k]+1):this[k]},y.prototype.readInt16LE=function(k,W){return h(this,k,!0,W)},y.prototype.readInt16BE=function(k,W){return h(this,k,!1,W)},y.prototype.readInt32LE=function(k,W){return m(this,k,!0,W)},y.prototype.readInt32BE=function(k,W){return m(this,k,!1,W)},y.prototype.readFloatLE=function(k,W){return d(this,k,!0,W)},y.prototype.readFloatBE=function(k,W){return d(this,k,!1,W)},y.prototype.readDoubleLE=function(k,W){return v(this,k,!0,W)},y.prototype.readDoubleBE=function(k,W){return v(this,k,!1,W)},y.prototype.writeUInt8=function(k,W,R){R||(Q(k!=null,"missing value"),Q(W!=null,"missing offset"),Q(W<this.length,"trying to write beyond buffer length"),Ze(k,255)),W>=this.length||(this[W]=k)},y.prototype.writeUInt16LE=function(k,W,R){Z(this,k,W,!0,R)},y.prototype.writeUInt16BE=function(k,W,R){Z(this,k,W,!1,R)},y.prototype.writeUInt32LE=function(k,W,R){T(this,k,W,!0,R)},y.prototype.writeUInt32BE=function(k,W,R){T(this,k,W,!1,R)},y.prototype.writeInt8=function(k,W,R){R||(Q(k!=null,"missing value"),Q(W!=null,"missing offset"),Q(W<this.length,"Trying to write beyond buffer length"),le(k,127,-128)),W>=this.length||(0<=k?this.writeUInt8(k,W,R):this.writeUInt8(255+k+1,W,R))},y.prototype.writeInt16LE=function(k,W,R){P(this,k,W,!0,R)},y.prototype.writeInt16BE=function(k,W,R){P(this,k,W,!1,R)},y.prototype.writeInt32LE=function(k,W,R){N(this,k,W,!0,R)},y.prototype.writeInt32BE=function(k,W,R){N(this,k,W,!1,R)},y.prototype.writeFloatLE=function(k,W,R){F(this,k,W,!0,R)},y.prototype.writeFloatBE=function(k,W,R){F(this,k,W,!1,R)},y.prototype.writeDoubleLE=function(k,W,R){z(this,k,W,!0,R)},y.prototype.writeDoubleBE=function(k,W,R){z(this,k,W,!1,R)},y.prototype.fill=function(k,W,R){if(W=W||0,R=R||this.length,Q(typeof(k=typeof(k=k||0)=="string"?k.charCodeAt(0):k)=="number"&&!isNaN(k),"value is not a number"),Q(W<=R,"end < start"),R!==W&&this.length!==0){Q(0<=W&&W<this.length,"start out of bounds"),Q(0<=R&&R<=this.length,"end out of bounds");for(var K=W;K<R;K++)this[K]=k}},y.prototype.inspect=function(){for(var k=[],W=this.length,R=0;R<W;R++)if(k[R]=I(this[R]),R===i.INSPECT_MAX_BYTES){k[R+1]="...";break}return"<Buffer "+k.join(" ")+">"},y.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(y._useTypedArrays)return new y(this).buffer;for(var k=new Uint8Array(this.length),W=0,R=k.length;W<R;W+=1)k[W]=this[W];return k.buffer};var Y=y.prototype;function J(k,W,R){return typeof k!="number"?R:W<=(k=~~k)?W:0<=k||0<=(k+=W)?k:0}function _(k){return(k=~~Math.ceil(+k))<0?0:k}function G(k){return(Array.isArray||function(W){return Object.prototype.toString.call(W)==="[object Array]"})(k)}function I(k){return k<16?"0"+k.toString(16):k.toString(16)}function E(k){for(var W=[],R=0;R<k.length;R++){var K=k.charCodeAt(R);if(K<=127)W.push(k.charCodeAt(R));else for(var H=R,U=(55296<=K&&K<=57343&&R++,encodeURIComponent(k.slice(H,R+1)).substr(1).split("%")),te=0;te<U.length;te++)W.push(parseInt(U[te],16))}return W}function M(k){return X.toByteArray(k)}function A(k,W,R,K){for(var H=0;H<K&&!(H+R>=W.length||H>=k.length);H++)W[H+R]=k[H];return H}function ie(k){try{return decodeURIComponent(k)}catch{return""}}function Ze(k,W){Q(typeof k=="number","cannot write a non-number as a number"),Q(0<=k,"specified a negative value for writing an unsigned value"),Q(k<=W,"value is larger than maximum value for type"),Q(Math.floor(k)===k,"value has a fractional component")}function le(k,W,R){Q(typeof k=="number","cannot write a non-number as a number"),Q(k<=W,"value larger than maximum allowed value"),Q(R<=k,"value smaller than minimum allowed value"),Q(Math.floor(k)===k,"value has a fractional component")}function qe(k,W,R){Q(typeof k=="number","cannot write a non-number as a number"),Q(k<=W,"value larger than maximum allowed value"),Q(R<=k,"value smaller than minimum allowed value")}function Q(k,W){if(!k)throw new Error(W||"Failed assertion")}y._augment=function(k){return k._isBuffer=!0,k._get=k.get,k._set=k.set,k.get=Y.get,k.set=Y.set,k.write=Y.write,k.toString=Y.toString,k.toLocaleString=Y.toString,k.toJSON=Y.toJSON,k.copy=Y.copy,k.slice=Y.slice,k.readUInt8=Y.readUInt8,k.readUInt16LE=Y.readUInt16LE,k.readUInt16BE=Y.readUInt16BE,k.readUInt32LE=Y.readUInt32LE,k.readUInt32BE=Y.readUInt32BE,k.readInt8=Y.readInt8,k.readInt16LE=Y.readInt16LE,k.readInt16BE=Y.readInt16BE,k.readInt32LE=Y.readInt32LE,k.readInt32BE=Y.readInt32BE,k.readFloatLE=Y.readFloatLE,k.readFloatBE=Y.readFloatBE,k.readDoubleLE=Y.readDoubleLE,k.readDoubleBE=Y.readDoubleBE,k.writeUInt8=Y.writeUInt8,k.writeUInt16LE=Y.writeUInt16LE,k.writeUInt16BE=Y.writeUInt16BE,k.writeUInt32LE=Y.writeUInt32LE,k.writeUInt32BE=Y.writeUInt32BE,k.writeInt8=Y.writeInt8,k.writeInt16LE=Y.writeInt16LE,k.writeInt16BE=Y.writeInt16BE,k.writeInt32LE=Y.writeInt32LE,k.writeInt32BE=Y.writeInt32BE,k.writeFloatLE=Y.writeFloatLE,k.writeFloatBE=Y.writeFloatBE,k.writeDoubleLE=Y.writeDoubleLE,k.writeDoubleBE=Y.writeDoubleBE,k.fill=Y.fill,k.inspect=Y.inspect,k.toArrayBuffer=Y.toArrayBuffer,k}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(n,r,i){(function(s,o,X,a,u,c,S,b,g){var X=n("buffer").Buffer,C=4,y=new X(C);y.fill(0),r.exports={hash:function(p,f,x,L){for(var w=f(function(Z,T){Z.length%C!=0&&(P=Z.length+(C-Z.length%C),Z=X.concat([Z,y],P));for(var P,N=[],F=T?Z.readInt32BE:Z.readInt32LE,z=0;z<Z.length;z+=C)N.push(F.call(Z,z));return N}(p=X.isBuffer(p)?p:new X(p),L),8*p.length),f=L,h=new X(x),m=f?h.writeInt32BE:h.writeInt32LE,d=0;d<w.length;d++)m.call(h,w[d],4*d,!0);return h}}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(n,r,i){(function(s,o,X,a,u,c,S,b,g){var X=n("buffer").Buffer,C=n("./sha"),y=n("./sha256"),p=n("./rng"),f={sha1:C,sha256:y,md5:n("./md5")},x=64,L=new X(x);function w(Z,T){var P=f[Z=Z||"sha1"],N=[];return P||h("algorithm:",Z,"is not yet supported"),{update:function(F){return X.isBuffer(F)||(F=new X(F)),N.push(F),F.length,this},digest:function(F){var z=X.concat(N),z=T?function(Y,J,_){X.isBuffer(J)||(J=new X(J)),X.isBuffer(_)||(_=new X(_)),J.length>x?J=Y(J):J.length<x&&(J=X.concat([J,L],x));for(var G=new X(x),I=new X(x),E=0;E<x;E++)G[E]=54^J[E],I[E]=92^J[E];return _=Y(X.concat([G,_])),Y(X.concat([I,_]))}(P,T,z):P(z);return N=null,F?z.toString(F):z}}}function h(){var Z=[].slice.call(arguments).join(" ");throw new Error([Z,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}L.fill(0),i.createHash=function(Z){return w(Z)},i.createHmac=w,i.randomBytes=function(Z,T){if(!T||!T.call)return new X(p(Z));try{T.call(this,void 0,new X(p(Z)))}catch(P){T(P)}};var m,d=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],v=function(Z){i[Z]=function(){h("sorry,",Z,"is not implemented yet")}};for(m in d)v(d[m])}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(n,r,i){(function(s,o,l,a,u,c,S,b,g){var X=n("./helpers");function C(h,m){h[m>>5]|=128<<m%32,h[14+(m+64>>>9<<4)]=m;for(var d=1732584193,v=-271733879,Z=-1732584194,T=271733878,P=0;P<h.length;P+=16){var N=d,F=v,z=Z,Y=T,d=p(d,v,Z,T,h[P+0],7,-680876936),T=p(T,d,v,Z,h[P+1],12,-389564586),Z=p(Z,T,d,v,h[P+2],17,606105819),v=p(v,Z,T,d,h[P+3],22,-1044525330);d=p(d,v,Z,T,h[P+4],7,-176418897),T=p(T,d,v,Z,h[P+5],12,1200080426),Z=p(Z,T,d,v,h[P+6],17,-1473231341),v=p(v,Z,T,d,h[P+7],22,-45705983),d=p(d,v,Z,T,h[P+8],7,1770035416),T=p(T,d,v,Z,h[P+9],12,-1958414417),Z=p(Z,T,d,v,h[P+10],17,-42063),v=p(v,Z,T,d,h[P+11],22,-1990404162),d=p(d,v,Z,T,h[P+12],7,1804603682),T=p(T,d,v,Z,h[P+13],12,-40341101),Z=p(Z,T,d,v,h[P+14],17,-1502002290),d=f(d,v=p(v,Z,T,d,h[P+15],22,1236535329),Z,T,h[P+1],5,-165796510),T=f(T,d,v,Z,h[P+6],9,-1069501632),Z=f(Z,T,d,v,h[P+11],14,643717713),v=f(v,Z,T,d,h[P+0],20,-373897302),d=f(d,v,Z,T,h[P+5],5,-701558691),T=f(T,d,v,Z,h[P+10],9,38016083),Z=f(Z,T,d,v,h[P+15],14,-660478335),v=f(v,Z,T,d,h[P+4],20,-405537848),d=f(d,v,Z,T,h[P+9],5,568446438),T=f(T,d,v,Z,h[P+14],9,-1019803690),Z=f(Z,T,d,v,h[P+3],14,-187363961),v=f(v,Z,T,d,h[P+8],20,1163531501),d=f(d,v,Z,T,h[P+13],5,-1444681467),T=f(T,d,v,Z,h[P+2],9,-51403784),Z=f(Z,T,d,v,h[P+7],14,1735328473),d=x(d,v=f(v,Z,T,d,h[P+12],20,-1926607734),Z,T,h[P+5],4,-378558),T=x(T,d,v,Z,h[P+8],11,-2022574463),Z=x(Z,T,d,v,h[P+11],16,1839030562),v=x(v,Z,T,d,h[P+14],23,-35309556),d=x(d,v,Z,T,h[P+1],4,-1530992060),T=x(T,d,v,Z,h[P+4],11,1272893353),Z=x(Z,T,d,v,h[P+7],16,-155497632),v=x(v,Z,T,d,h[P+10],23,-1094730640),d=x(d,v,Z,T,h[P+13],4,681279174),T=x(T,d,v,Z,h[P+0],11,-358537222),Z=x(Z,T,d,v,h[P+3],16,-722521979),v=x(v,Z,T,d,h[P+6],23,76029189),d=x(d,v,Z,T,h[P+9],4,-640364487),T=x(T,d,v,Z,h[P+12],11,-421815835),Z=x(Z,T,d,v,h[P+15],16,530742520),d=L(d,v=x(v,Z,T,d,h[P+2],23,-995338651),Z,T,h[P+0],6,-198630844),T=L(T,d,v,Z,h[P+7],10,1126891415),Z=L(Z,T,d,v,h[P+14],15,-1416354905),v=L(v,Z,T,d,h[P+5],21,-57434055),d=L(d,v,Z,T,h[P+12],6,1700485571),T=L(T,d,v,Z,h[P+3],10,-1894986606),Z=L(Z,T,d,v,h[P+10],15,-1051523),v=L(v,Z,T,d,h[P+1],21,-2054922799),d=L(d,v,Z,T,h[P+8],6,1873313359),T=L(T,d,v,Z,h[P+15],10,-30611744),Z=L(Z,T,d,v,h[P+6],15,-1560198380),v=L(v,Z,T,d,h[P+13],21,1309151649),d=L(d,v,Z,T,h[P+4],6,-145523070),T=L(T,d,v,Z,h[P+11],10,-1120210379),Z=L(Z,T,d,v,h[P+2],15,718787259),v=L(v,Z,T,d,h[P+9],21,-343485551),d=w(d,N),v=w(v,F),Z=w(Z,z),T=w(T,Y)}return Array(d,v,Z,T)}function y(h,m,d,v,Z,T){return w((m=w(w(m,h),w(v,T)))<<Z|m>>>32-Z,d)}function p(h,m,d,v,Z,T,P){return y(m&d|~m&v,h,m,Z,T,P)}function f(h,m,d,v,Z,T,P){return y(m&v|d&~v,h,m,Z,T,P)}function x(h,m,d,v,Z,T,P){return y(m^d^v,h,m,Z,T,P)}function L(h,m,d,v,Z,T,P){return y(d^(m|~v),h,m,Z,T,P)}function w(h,m){var d=(65535&h)+(65535&m);return(h>>16)+(m>>16)+(d>>16)<<16|65535&d}r.exports=function(h){return X.hash(h,C,16)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(n,r,i){(function(s,o,l,a,u,c,S,b,g){r.exports=function(X){for(var C,y=new Array(X),p=0;p<X;p++)!(3&p)&&(C=4294967296*Math.random()),y[p]=C>>>((3&p)<<3)&255;return y}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(n,r,i){(function(s,o,l,a,u,c,S,b,g){var X=n("./helpers");function C(f,x){f[x>>5]|=128<<24-x%32,f[15+(x+64>>9<<4)]=x;for(var L,w,h,m=Array(80),d=1732584193,v=-271733879,Z=-1732584194,T=271733878,P=-1009589776,N=0;N<f.length;N+=16){for(var F=d,z=v,Y=Z,J=T,_=P,G=0;G<80;G++){m[G]=G<16?f[N+G]:p(m[G-3]^m[G-8]^m[G-14]^m[G-16],1);var I=y(y(p(d,5),(I=v,w=Z,h=T,(L=G)<20?I&w|~I&h:!(L<40)&&L<60?I&w|I&h|w&h:I^w^h)),y(y(P,m[G]),(L=G)<20?1518500249:L<40?1859775393:L<60?-1894007588:-899497514)),P=T,T=Z,Z=p(v,30),v=d,d=I}d=y(d,F),v=y(v,z),Z=y(Z,Y),T=y(T,J),P=y(P,_)}return Array(d,v,Z,T,P)}function y(f,x){var L=(65535&f)+(65535&x);return(f>>16)+(x>>16)+(L>>16)<<16|65535&L}function p(f,x){return f<<x|f>>>32-x}r.exports=function(f){return X.hash(f,C,20,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(n,r,i){(function(s,o,l,a,u,c,S,b,g){function X(x,L){var w=(65535&x)+(65535&L);return(x>>16)+(L>>16)+(w>>16)<<16|65535&w}function C(x,L){var w,h=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),m=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),d=new Array(64);x[L>>5]|=128<<24-L%32,x[15+(L+64>>9<<4)]=L;for(var v,Z,T=0;T<x.length;T+=16){for(var P=m[0],N=m[1],F=m[2],z=m[3],Y=m[4],J=m[5],_=m[6],G=m[7],I=0;I<64;I++)d[I]=I<16?x[I+T]:X(X(X((Z=d[I-2],p(Z,17)^p(Z,19)^f(Z,10)),d[I-7]),(Z=d[I-15],p(Z,7)^p(Z,18)^f(Z,3))),d[I-16]),w=X(X(X(X(G,p(Z=Y,6)^p(Z,11)^p(Z,25)),Y&J^~Y&_),h[I]),d[I]),v=X(p(v=P,2)^p(v,13)^p(v,22),P&N^P&F^N&F),G=_,_=J,J=Y,Y=X(z,w),z=F,F=N,N=P,P=X(w,v);m[0]=X(P,m[0]),m[1]=X(N,m[1]),m[2]=X(F,m[2]),m[3]=X(z,m[3]),m[4]=X(Y,m[4]),m[5]=X(J,m[5]),m[6]=X(_,m[6]),m[7]=X(G,m[7])}return m}var y=n("./helpers"),p=function(x,L){return x>>>L|x<<32-L},f=function(x,L){return x>>>L};r.exports=function(x){return y.hash(x,C,32,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(n,r,i){(function(s,o,l,a,u,c,S,b,g){i.read=function(X,C,y,p,T){var x,L,w=8*T-p-1,h=(1<<w)-1,m=h>>1,d=-7,v=y?T-1:0,Z=y?-1:1,T=X[C+v];for(v+=Z,x=T&(1<<-d)-1,T>>=-d,d+=w;0<d;x=256*x+X[C+v],v+=Z,d-=8);for(L=x&(1<<-d)-1,x>>=-d,d+=p;0<d;L=256*L+X[C+v],v+=Z,d-=8);if(x===0)x=1-m;else{if(x===h)return L?NaN:1/0*(T?-1:1);L+=Math.pow(2,p),x-=m}return(T?-1:1)*L*Math.pow(2,x-p)},i.write=function(X,C,y,p,f,P){var L,w,h=8*P-f-1,m=(1<<h)-1,d=m>>1,v=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,Z=p?0:P-1,T=p?1:-1,P=C<0||C===0&&1/C<0?1:0;for(C=Math.abs(C),isNaN(C)||C===1/0?(w=isNaN(C)?1:0,L=m):(L=Math.floor(Math.log(C)/Math.LN2),C*(p=Math.pow(2,-L))<1&&(L--,p*=2),2<=(C+=1<=L+d?v/p:v*Math.pow(2,1-d))*p&&(L++,p/=2),m<=L+d?(w=0,L=m):1<=L+d?(w=(C*p-1)*Math.pow(2,f),L+=d):(w=C*Math.pow(2,d-1)*Math.pow(2,f),L=0));8<=f;X[y+Z]=255&w,Z+=T,w/=256,f-=8);for(L=L<<f|w,h+=f;0<h;X[y+Z]=255&L,Z+=T,L/=256,h-=8);X[y+Z-T]|=128*P}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(n,r,i){(function(s,o,l,a,u,c,S,b,g){var X,C,y;function p(){}(s=r.exports={}).nextTick=(C=typeof window<"u"&&window.setImmediate,y=typeof window<"u"&&window.postMessage&&window.addEventListener,C?function(f){return window.setImmediate(f)}:y?(X=[],window.addEventListener("message",function(f){var x=f.source;x!==window&&x!==null||f.data!=="process-tick"||(f.stopPropagation(),0<X.length&&X.shift()())},!0),function(f){X.push(f),window.postMessage("process-tick","*")}):function(f){setTimeout(f,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.binding=function(f){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(f){throw new Error("process.chdir is not supported")}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(lb);var ab=Object.defineProperty,ub=(e,t,n)=>t in e?ab(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Af=(e,t,n)=>(ub(e,typeof t!="symbol"?t+"":t,n),n);class Mm extends _m{constructor(){super(...arguments),Af(this,"state"),Af(this,"stateTogether")}init(t){super.init({...t,trackViews:!0}),this.state=new Map,this.stateTogether=new Map,this.subscribe(this.id,"setState",this.setState),this.subscribe(this.id,"setStateTogether",this.setStateTogether),this.subscribe(this.id,"functionTogether",this.functionTogether)}setState({id:t,newValue:n}){n===void 0?this.state.delete(t):this.state.set(t,n),this.publish(t,"updated",{})}setStateTogether({id:t,viewId:n,newValue:r}){let i=this.stateTogether.get(t);i===void 0&&(i=new Map),r===void 0?i.delete(n):i.set(n,r),this.stateTogether.set(t,i),this.publish(t,"updated",{})}functionTogether({rtKey:t,args:n}){this.publish(t,"call",n)}handleViewExit(t){this.stateTogether.forEach((n,r)=>{n.delete(t),this.publish(r,"updated",{})})}}Mm.register("ReactTogetherModel");function cb(e,t){return e.searchParams.get(t)}function db(e,{key:t,scrub:n=!1}={}){if(!e.hash)return null;const r=e.hash.slice(1);if(!r)return null;const i=r.split("&");if(t){const s=i.find(o=>o.split("=")[0]===t);if(s){const[,...o]=s.split("=");return n&&(e.hash=i.filter(l=>l.split("=")[0]!==t).join("&")),o.join("=")}}else{const s=i.find(o=>!o.includes("="));if(s)return n&&(e.hash=i.filter(o=>o!==s).join("&")),s}return null}const hb="rtName",fb="rtPwd";function pb(e,{nameKey:t=hb}={}){return cb(e,t)}function mb(e,{passwordKey:t=fb}={}){return db(e,{key:t})}function N3({children:e,sessionParams:t}){const{appId:n,apiKey:r,sessionIgnoresUrl:i}=t;let s;i||(s={sessionUrl:window.location.origin+window.location.pathname});const o=new URL(window.location.href),l=pb(o),a=mb(o),u=t.model||Mm,c=l||t.name,S=a||t.password;return vp.jsx(ob,{sessionParams:{model:u,name:c,password:S,appId:n,apiKey:r,options:s},deferSession:!c||!S,showChildrenWithoutSession:!0,children:e})}var Em={exports:{}},bt={},Nm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,G){var I=_.length;_.push(G);e:for(;0<I;){var E=I-1>>>1,M=_[E];if(0<i(M,G))_[E]=G,_[I]=M,I=E;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var G=_[0],I=_.pop();if(I!==G){_[0]=I;e:for(var E=0,M=_.length,A=M>>>1;E<A;){var ie=2*(E+1)-1,Ze=_[ie],le=ie+1,qe=_[le];if(0>i(Ze,I))le<M&&0>i(qe,Ze)?(_[E]=qe,_[le]=I,E=le):(_[E]=Ze,_[ie]=I,E=ie);else if(le<M&&0>i(qe,I))_[E]=qe,_[le]=I,E=le;else break e}}return G}function i(_,G){var I=_.sortIndex-G.sortIndex;return I!==0?I:_.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,S=null,b=3,g=!1,X=!1,C=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(_){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=_)r(u),G.sortIndex=G.expirationTime,t(a,G);else break;G=n(u)}}function L(_){if(C=!1,x(_),!X)if(n(a)!==null)X=!0,Y(w);else{var G=n(u);G!==null&&J(L,G.startTime-_)}}function w(_,G){X=!1,C&&(C=!1,p(d),d=-1),g=!0;var I=b;try{for(x(G),S=n(a);S!==null&&(!(S.expirationTime>G)||_&&!T());){var E=S.callback;if(typeof E=="function"){S.callback=null,b=S.priorityLevel;var M=E(S.expirationTime<=G);G=e.unstable_now(),typeof M=="function"?S.callback=M:S===n(a)&&r(a),x(G)}else r(a);S=n(a)}if(S!==null)var A=!0;else{var ie=n(u);ie!==null&&J(L,ie.startTime-G),A=!1}return A}finally{S=null,b=I,g=!1}}var h=!1,m=null,d=-1,v=5,Z=-1;function T(){return!(e.unstable_now()-Z<v)}function P(){if(m!==null){var _=e.unstable_now();Z=_;var G=!0;try{G=m(!0,_)}finally{G?N():(h=!1,m=null)}}else h=!1}var N;if(typeof f=="function")N=function(){f(P)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=P,N=function(){z.postMessage(null)}}else N=function(){y(P,0)};function Y(_){m=_,h||(h=!0,N())}function J(_,G){d=y(function(){_(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){X||g||(X=!0,Y(w))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(_){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var I=b;b=G;try{return _()}finally{b=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,G){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var I=b;b=_;try{return G()}finally{b=I}},e.unstable_scheduleCallback=function(_,G,I){var E=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?E+I:E):I=E,_){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=I+M,_={id:c++,callback:G,priorityLevel:_,startTime:I,expirationTime:M,sortIndex:-1},I>E?(_.sortIndex=I,t(u,_),n(a)===null&&_===n(u)&&(C?(p(d),d=-1):C=!0,J(L,I-E))):(_.sortIndex=M,t(a,_),X||g||(X=!0,Y(w))),_},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(_){var G=b;return function(){var I=b;b=G;try{return _.apply(this,arguments)}finally{b=I}}}})(zm);Nm.exports=zm;var yb=Nm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb=Oe,wt=yb;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vm=new Set,zs={};function Rr(e,t){wi(e,t),wi(e+"Capture",t)}function wi(e,t){for(zs[e]=t,e=0;e<t.length;e++)Vm.add(t[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ju=Object.prototype.hasOwnProperty,vb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qf={},e0={};function wb(e){return ju.call(e0,e)?!0:ju.call(qf,e)?!1:vb.test(e)?e0[e]=!0:(qf[e]=!0,!1)}function bb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sb(e,t,n,r){if(t===null||typeof t>"u"||bb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var sd=/[\-:]([a-z])/g;function od(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sd,od);Ye[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sd,od);Ye[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sd,od);Ye[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function ld(e,t,n,r){var i=Ye.hasOwnProperty(t)?Ye[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sb(t,n,i,r)&&(n=null),r||i===null?wb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ln=gb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Go=Symbol.for("react.element"),Or=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),ad=Symbol.for("react.strict_mode"),Qu=Symbol.for("react.profiler"),Hm=Symbol.for("react.provider"),Ym=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),Uu=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),cd=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Km=Symbol.for("react.offscreen"),t0=Symbol.iterator;function Fi(e){return e===null||typeof e!="object"?null:(e=t0&&e[t0]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,tu;function ns(e){if(tu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tu=t&&t[1]||""}return`
`+tu+e}var nu=!1;function ru(e,t){if(!e||nu)return"";nu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{nu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ns(e):""}function Zb(e){switch(e.tag){case 5:return ns(e.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return e=ru(e.type,!1),e;case 11:return e=ru(e.type.render,!1),e;case 1:return e=ru(e.type,!0),e;default:return""}}function Du(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case Or:return"Portal";case Qu:return"Profiler";case ad:return"StrictMode";case Uu:return"Suspense";case Ou:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ym:return(e.displayName||"Context")+".Consumer";case Hm:return(e._context.displayName||"Context")+".Provider";case ud:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cd:return t=e.displayName||null,t!==null?t:Du(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return Du(e(t))}catch{}}return null}function xb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Du(t);case 8:return t===ad?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lb(e){var t=Fm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Po(e){e._valueTracker||(e._valueTracker=Lb(e))}function jm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ju(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function n0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qm(e,t){t=t.checked,t!=null&&ld(e,"checked",t,!1)}function $u(e,t){Qm(e,t);var n=nr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bu(e,t.type,nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function r0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bu(e,t,n){(t!=="number"||gl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rs=Array.isArray;function ui(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Au(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function i0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(rs(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nr(n)}}function Um(e,t){var n=nr(t.value),r=nr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function s0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Om(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Om(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wo,Dm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xb=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(e){Xb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bs[t]=bs[e]})});function Jm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bs.hasOwnProperty(e)&&bs[e]?(""+t).trim():t+"px"}function $m(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Jm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var kb=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ec(e,t){if(t){if(kb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function tc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nc=null;function dd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rc=null,ci=null,di=null;function o0(e){if(e=io(e)){if(typeof rc!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Bl(t),rc(e.stateNode,e.type,t))}}function Bm(e){ci?di?di.push(e):di=[e]:ci=e}function Am(){if(ci){var e=ci,t=di;if(di=ci=null,o0(e),t)for(e=0;e<t.length;e++)o0(t[e])}}function qm(e,t){return e(t)}function e1(){}var iu=!1;function t1(e,t,n){if(iu)return e(t,n);iu=!0;try{return qm(e,t,n)}finally{iu=!1,(ci!==null||di!==null)&&(e1(),Am())}}function Hs(e,t){var n=e.stateNode;if(n===null)return null;var r=Bl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var ic=!1;if(bn)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){ic=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{ic=!1}function Cb(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ss=!1,vl=null,wl=!1,sc=null,Tb={onError:function(e){Ss=!0,vl=e}};function Gb(e,t,n,r,i,s,o,l,a){Ss=!1,vl=null,Cb.apply(Tb,arguments)}function Pb(e,t,n,r,i,s,o,l,a){if(Gb.apply(this,arguments),Ss){if(Ss){var u=vl;Ss=!1,vl=null}else throw Error(V(198));wl||(wl=!0,sc=u)}}function Mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function n1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l0(e){if(Mr(e)!==e)throw Error(V(188))}function Wb(e){var t=e.alternate;if(!t){if(t=Mr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return l0(i),e;if(s===r)return l0(i),t;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function r1(e){return e=Wb(e),e!==null?i1(e):null}function i1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=i1(e);if(t!==null)return t;e=e.sibling}return null}var s1=wt.unstable_scheduleCallback,a0=wt.unstable_cancelCallback,Ib=wt.unstable_shouldYield,_b=wt.unstable_requestPaint,Le=wt.unstable_now,Rb=wt.unstable_getCurrentPriorityLevel,hd=wt.unstable_ImmediatePriority,o1=wt.unstable_UserBlockingPriority,bl=wt.unstable_NormalPriority,Mb=wt.unstable_LowPriority,l1=wt.unstable_IdlePriority,Ol=null,tn=null;function Eb(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ol,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Vb,Nb=Math.log,zb=Math.LN2;function Vb(e){return e>>>=0,e===0?32:31-(Nb(e)/zb|0)|0}var Io=64,_o=4194304;function is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=is(l):(s&=o,s!==0&&(r=is(s)))}else o=n&~i,o!==0?r=is(o):s!==0&&(r=is(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ht(t),i=1<<n,r|=e[n],t&=~i;return r}function Hb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ht(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Hb(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function oc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function a1(){var e=Io;return Io<<=1,!(Io&4194240)&&(Io=64),e}function su(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function no(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=n}function Kb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ht(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function fd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ht(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var se=0;function u1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var c1,pd,d1,h1,f1,lc=!1,Ro=[],On=null,Dn=null,Jn=null,Ys=new Map,Ks=new Map,En=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u0(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(t.pointerId)}}function Qi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=io(t),t!==null&&pd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jb(e,t,n,r,i){switch(t){case"focusin":return On=Qi(On,e,t,n,r,i),!0;case"dragenter":return Dn=Qi(Dn,e,t,n,r,i),!0;case"mouseover":return Jn=Qi(Jn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ys.set(s,Qi(Ys.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ks.set(s,Qi(Ks.get(s)||null,e,t,n,r,i)),!0}return!1}function p1(e){var t=vr(e.target);if(t!==null){var n=Mr(t);if(n!==null){if(t=n.tag,t===13){if(t=n1(n),t!==null){e.blockedOn=t,f1(e.priority,function(){d1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ac(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nc=r,n.target.dispatchEvent(r),nc=null}else return t=io(n),t!==null&&pd(t),e.blockedOn=n,!1;t.shift()}return!0}function c0(e,t,n){Bo(e)&&n.delete(t)}function Qb(){lc=!1,On!==null&&Bo(On)&&(On=null),Dn!==null&&Bo(Dn)&&(Dn=null),Jn!==null&&Bo(Jn)&&(Jn=null),Ys.forEach(c0),Ks.forEach(c0)}function Ui(e,t){e.blockedOn===t&&(e.blockedOn=null,lc||(lc=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Qb)))}function Fs(e){function t(i){return Ui(i,e)}if(0<Ro.length){Ui(Ro[0],e);for(var n=1;n<Ro.length;n++){var r=Ro[n];r.blockedOn===e&&(r.blockedOn=null)}}for(On!==null&&Ui(On,e),Dn!==null&&Ui(Dn,e),Jn!==null&&Ui(Jn,e),Ys.forEach(t),Ks.forEach(t),n=0;n<En.length;n++)r=En[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)p1(n),n.blockedOn===null&&En.shift()}var hi=Ln.ReactCurrentBatchConfig,Zl=!0;function Ub(e,t,n,r){var i=se,s=hi.transition;hi.transition=null;try{se=1,md(e,t,n,r)}finally{se=i,hi.transition=s}}function Ob(e,t,n,r){var i=se,s=hi.transition;hi.transition=null;try{se=4,md(e,t,n,r)}finally{se=i,hi.transition=s}}function md(e,t,n,r){if(Zl){var i=ac(e,t,n,r);if(i===null)mu(e,t,r,xl,n),u0(e,r);else if(jb(i,e,t,n,r))r.stopPropagation();else if(u0(e,r),t&4&&-1<Fb.indexOf(e)){for(;i!==null;){var s=io(i);if(s!==null&&c1(s),s=ac(e,t,n,r),s===null&&mu(e,t,r,xl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mu(e,t,r,null,n)}}var xl=null;function ac(e,t,n,r){if(xl=null,e=dd(r),e=vr(e),e!==null)if(t=Mr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=n1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xl=e,null}function m1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rb()){case hd:return 1;case o1:return 4;case bl:case Mb:return 16;case l1:return 536870912;default:return 16}default:return 16}}var Vn=null,yd=null,Ao=null;function y1(){if(Ao)return Ao;var e,t=yd,n=t.length,r,i="value"in Vn?Vn.value:Vn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ao=i.slice(e,1<r?1-r:void 0)}function qo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mo(){return!0}function d0(){return!1}function St(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Mo:d0,this.isPropagationStopped=d0,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),t}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gd=St(Wi),ro=ve({},Wi,{view:0,detail:0}),Db=St(ro),ou,lu,Oi,Dl=ve({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(ou=e.screenX-Oi.screenX,lu=e.screenY-Oi.screenY):lu=ou=0,Oi=e),ou)},movementY:function(e){return"movementY"in e?e.movementY:lu}}),h0=St(Dl),Jb=ve({},Dl,{dataTransfer:0}),$b=St(Jb),Bb=ve({},ro,{relatedTarget:0}),au=St(Bb),Ab=ve({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),qb=St(Ab),e5=ve({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t5=St(e5),n5=ve({},Wi,{data:0}),f0=St(n5),r5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s5[e])?!!t[e]:!1}function vd(){return o5}var l5=ve({},ro,{key:function(e){if(e.key){var t=r5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?i5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vd,charCode:function(e){return e.type==="keypress"?qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),a5=St(l5),u5=ve({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p0=St(u5),c5=ve({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vd}),d5=St(c5),h5=ve({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),f5=St(h5),p5=ve({},Dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m5=St(p5),y5=[9,13,27,32],wd=bn&&"CompositionEvent"in window,Zs=null;bn&&"documentMode"in document&&(Zs=document.documentMode);var g5=bn&&"TextEvent"in window&&!Zs,g1=bn&&(!wd||Zs&&8<Zs&&11>=Zs),m0=" ",y0=!1;function v1(e,t){switch(e){case"keyup":return y5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function v5(e,t){switch(e){case"compositionend":return w1(t);case"keypress":return t.which!==32?null:(y0=!0,m0);case"textInput":return e=t.data,e===m0&&y0?null:e;default:return null}}function w5(e,t){if(Jr)return e==="compositionend"||!wd&&v1(e,t)?(e=y1(),Ao=yd=Vn=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return g1&&t.locale!=="ko"?null:t.data;default:return null}}var b5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!b5[e.type]:t==="textarea"}function b1(e,t,n,r){Bm(r),t=Ll(t,"onChange"),0<t.length&&(n=new gd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xs=null,js=null;function S5(e){W1(e,0)}function Jl(e){var t=Ar(e);if(jm(t))return e}function Z5(e,t){if(e==="change")return t}var S1=!1;if(bn){var uu;if(bn){var cu="oninput"in document;if(!cu){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),cu=typeof v0.oninput=="function"}uu=cu}else uu=!1;S1=uu&&(!document.documentMode||9<document.documentMode)}function w0(){xs&&(xs.detachEvent("onpropertychange",Z1),js=xs=null)}function Z1(e){if(e.propertyName==="value"&&Jl(js)){var t=[];b1(t,js,e,dd(e)),t1(S5,t)}}function x5(e,t,n){e==="focusin"?(w0(),xs=t,js=n,xs.attachEvent("onpropertychange",Z1)):e==="focusout"&&w0()}function L5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(js)}function X5(e,t){if(e==="click")return Jl(t)}function k5(e,t){if(e==="input"||e==="change")return Jl(t)}function C5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:C5;function Qs(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ju.call(t,i)||!Ft(e[i],t[i]))return!1}return!0}function b0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function S0(e,t){var n=b0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=b0(n)}}function x1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?x1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function L1(){for(var e=window,t=gl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gl(e.document)}return t}function bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T5(e){var t=L1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&x1(n.ownerDocument.documentElement,n)){if(r!==null&&bd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=S0(n,s);var o=S0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G5=bn&&"documentMode"in document&&11>=document.documentMode,$r=null,uc=null,Ls=null,cc=!1;function Z0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cc||$r==null||$r!==gl(r)||(r=$r,"selectionStart"in r&&bd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ls&&Qs(Ls,r)||(Ls=r,r=Ll(uc,"onSelect"),0<r.length&&(t=new gd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$r)))}function Eo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Br={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},du={},X1={};bn&&(X1=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function $l(e){if(du[e])return du[e];if(!Br[e])return e;var t=Br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in X1)return du[e]=t[n];return e}var k1=$l("animationend"),C1=$l("animationiteration"),T1=$l("animationstart"),G1=$l("transitionend"),P1=new Map,x0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){P1.set(e,t),Rr(t,[e])}for(var hu=0;hu<x0.length;hu++){var fu=x0[hu],P5=fu.toLowerCase(),W5=fu[0].toUpperCase()+fu.slice(1);sr(P5,"on"+W5)}sr(k1,"onAnimationEnd");sr(C1,"onAnimationIteration");sr(T1,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(G1,"onTransitionEnd");wi("onMouseEnter",["mouseout","mouseover"]);wi("onMouseLeave",["mouseout","mouseover"]);wi("onPointerEnter",["pointerout","pointerover"]);wi("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I5=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function L0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Pb(r,t,void 0,e),e.currentTarget=null}function W1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;L0(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;L0(i,l,u),s=a}}}if(wl)throw e=sc,wl=!1,sc=null,e}function ae(e,t){var n=t[mc];n===void 0&&(n=t[mc]=new Set);var r=e+"__bubble";n.has(r)||(I1(t,e,2,!1),n.add(r))}function pu(e,t,n){var r=0;t&&(r|=4),I1(n,e,r,t)}var No="_reactListening"+Math.random().toString(36).slice(2);function Us(e){if(!e[No]){e[No]=!0,Vm.forEach(function(n){n!=="selectionchange"&&(I5.has(n)||pu(n,!1,e),pu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[No]||(t[No]=!0,pu("selectionchange",!1,t))}}function I1(e,t,n,r){switch(m1(t)){case 1:var i=Ub;break;case 4:i=Ob;break;default:i=md}n=i.bind(null,t,n,e),i=void 0,!ic||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function mu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=vr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}t1(function(){var u=s,c=dd(n),S=[];e:{var b=P1.get(e);if(b!==void 0){var g=gd,X=e;switch(e){case"keypress":if(qo(n)===0)break e;case"keydown":case"keyup":g=a5;break;case"focusin":X="focus",g=au;break;case"focusout":X="blur",g=au;break;case"beforeblur":case"afterblur":g=au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=h0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=d5;break;case k1:case C1:case T1:g=qb;break;case G1:g=f5;break;case"scroll":g=Db;break;case"wheel":g=m5;break;case"copy":case"cut":case"paste":g=t5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=p0}var C=(t&4)!==0,y=!C&&e==="scroll",p=C?b!==null?b+"Capture":null:b;C=[];for(var f=u,x;f!==null;){x=f;var L=x.stateNode;if(x.tag===5&&L!==null&&(x=L,p!==null&&(L=Hs(f,p),L!=null&&C.push(Os(f,L,x)))),y)break;f=f.return}0<C.length&&(b=new g(b,X,null,n,c),S.push({event:b,listeners:C}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",b&&n!==nc&&(X=n.relatedTarget||n.fromElement)&&(vr(X)||X[Sn]))break e;if((g||b)&&(b=c.window===c?c:(b=c.ownerDocument)?b.defaultView||b.parentWindow:window,g?(X=n.relatedTarget||n.toElement,g=u,X=X?vr(X):null,X!==null&&(y=Mr(X),X!==y||X.tag!==5&&X.tag!==6)&&(X=null)):(g=null,X=u),g!==X)){if(C=h0,L="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(C=p0,L="onPointerLeave",p="onPointerEnter",f="pointer"),y=g==null?b:Ar(g),x=X==null?b:Ar(X),b=new C(L,f+"leave",g,n,c),b.target=y,b.relatedTarget=x,L=null,vr(c)===u&&(C=new C(p,f+"enter",X,n,c),C.target=x,C.relatedTarget=y,L=C),y=L,g&&X)t:{for(C=g,p=X,f=0,x=C;x;x=Hr(x))f++;for(x=0,L=p;L;L=Hr(L))x++;for(;0<f-x;)C=Hr(C),f--;for(;0<x-f;)p=Hr(p),x--;for(;f--;){if(C===p||p!==null&&C===p.alternate)break t;C=Hr(C),p=Hr(p)}C=null}else C=null;g!==null&&X0(S,b,g,C,!1),X!==null&&y!==null&&X0(S,y,X,C,!0)}}e:{if(b=u?Ar(u):window,g=b.nodeName&&b.nodeName.toLowerCase(),g==="select"||g==="input"&&b.type==="file")var w=Z5;else if(g0(b))if(S1)w=k5;else{w=L5;var h=x5}else(g=b.nodeName)&&g.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(w=X5);if(w&&(w=w(e,u))){b1(S,w,n,c);break e}h&&h(e,b,u),e==="focusout"&&(h=b._wrapperState)&&h.controlled&&b.type==="number"&&Bu(b,"number",b.value)}switch(h=u?Ar(u):window,e){case"focusin":(g0(h)||h.contentEditable==="true")&&($r=h,uc=u,Ls=null);break;case"focusout":Ls=uc=$r=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,Z0(S,n,c);break;case"selectionchange":if(G5)break;case"keydown":case"keyup":Z0(S,n,c)}var m;if(wd)e:{switch(e){case"compositionstart":var d="onCompositionStart";break e;case"compositionend":d="onCompositionEnd";break e;case"compositionupdate":d="onCompositionUpdate";break e}d=void 0}else Jr?v1(e,n)&&(d="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(d="onCompositionStart");d&&(g1&&n.locale!=="ko"&&(Jr||d!=="onCompositionStart"?d==="onCompositionEnd"&&Jr&&(m=y1()):(Vn=c,yd="value"in Vn?Vn.value:Vn.textContent,Jr=!0)),h=Ll(u,d),0<h.length&&(d=new f0(d,e,null,n,c),S.push({event:d,listeners:h}),m?d.data=m:(m=w1(n),m!==null&&(d.data=m)))),(m=g5?v5(e,n):w5(e,n))&&(u=Ll(u,"onBeforeInput"),0<u.length&&(c=new f0("onBeforeInput","beforeinput",null,n,c),S.push({event:c,listeners:u}),c.data=m))}W1(S,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ll(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hs(e,n),s!=null&&r.unshift(Os(e,s,i)),s=Hs(e,t),s!=null&&r.push(Os(e,s,i))),e=e.return}return r}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function X0(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Hs(n,s),a!=null&&o.unshift(Os(n,a,l))):i||(a=Hs(n,s),a!=null&&o.push(Os(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _5=/\r\n?/g,R5=/\u0000|\uFFFD/g;function k0(e){return(typeof e=="string"?e:""+e).replace(_5,`
`).replace(R5,"")}function zo(e,t,n){if(t=k0(t),k0(e)!==t&&n)throw Error(V(425))}function Xl(){}var dc=null,hc=null;function fc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,M5=typeof clearTimeout=="function"?clearTimeout:void 0,C0=typeof Promise=="function"?Promise:void 0,E5=typeof queueMicrotask=="function"?queueMicrotask:typeof C0<"u"?function(e){return C0.resolve(null).then(e).catch(N5)}:pc;function N5(e){setTimeout(function(){throw e})}function yu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Fs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fs(t)}function $n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function T0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),At="__reactFiber$"+Ii,Ds="__reactProps$"+Ii,Sn="__reactContainer$"+Ii,mc="__reactEvents$"+Ii,z5="__reactListeners$"+Ii,V5="__reactHandles$"+Ii;function vr(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=T0(e);e!==null;){if(n=e[At])return n;e=T0(e)}return t}e=n,n=e.parentNode}return null}function io(e){return e=e[At]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Bl(e){return e[Ds]||null}var yc=[],qr=-1;function or(e){return{current:e}}function ce(e){0>qr||(e.current=yc[qr],yc[qr]=null,qr--)}function oe(e,t){qr++,yc[qr]=e.current,e.current=t}var rr={},Ue=or(rr),st=or(!1),Tr=rr;function bi(e,t){var n=e.type.contextTypes;if(!n)return rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ot(e){return e=e.childContextTypes,e!=null}function kl(){ce(st),ce(Ue)}function G0(e,t,n){if(Ue.current!==rr)throw Error(V(168));oe(Ue,t),oe(st,n)}function _1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,xb(e)||"Unknown",i));return ve({},n,r)}function Cl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,Tr=Ue.current,oe(Ue,e),oe(st,st.current),!0}function P0(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=_1(e,t,Tr),r.__reactInternalMemoizedMergedChildContext=e,ce(st),ce(Ue),oe(Ue,e)):ce(st),oe(st,n)}var mn=null,Al=!1,gu=!1;function R1(e){mn===null?mn=[e]:mn.push(e)}function H5(e){Al=!0,R1(e)}function lr(){if(!gu&&mn!==null){gu=!0;var e=0,t=se;try{var n=mn;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}mn=null,Al=!1}catch(i){throw mn!==null&&(mn=mn.slice(e+1)),s1(hd,lr),i}finally{se=t,gu=!1}}return null}var ei=[],ti=0,Tl=null,Gl=0,Lt=[],Xt=0,Gr=null,gn=1,vn="";function dr(e,t){ei[ti++]=Gl,ei[ti++]=Tl,Tl=e,Gl=t}function M1(e,t,n){Lt[Xt++]=gn,Lt[Xt++]=vn,Lt[Xt++]=Gr,Gr=e;var r=gn;e=vn;var i=32-Ht(r)-1;r&=~(1<<i),n+=1;var s=32-Ht(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gn=1<<32-Ht(t)+i|n<<i|r,vn=s+e}else gn=1<<s|n<<i|r,vn=e}function Sd(e){e.return!==null&&(dr(e,1),M1(e,1,0))}function Zd(e){for(;e===Tl;)Tl=ei[--ti],ei[ti]=null,Gl=ei[--ti],ei[ti]=null;for(;e===Gr;)Gr=Lt[--Xt],Lt[Xt]=null,vn=Lt[--Xt],Lt[Xt]=null,gn=Lt[--Xt],Lt[Xt]=null}var vt=null,gt=null,pe=!1,Vt=null;function E1(e,t){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function W0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=$n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gr!==null?{id:gn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,gt=null,!0):!1;default:return!1}}function gc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vc(e){if(pe){var t=gt;if(t){var n=t;if(!W0(e,t)){if(gc(e))throw Error(V(418));t=$n(n.nextSibling);var r=vt;t&&W0(e,t)?E1(r,n):(e.flags=e.flags&-4097|2,pe=!1,vt=e)}}else{if(gc(e))throw Error(V(418));e.flags=e.flags&-4097|2,pe=!1,vt=e}}}function I0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Vo(e){if(e!==vt)return!1;if(!pe)return I0(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fc(e.type,e.memoizedProps)),t&&(t=gt)){if(gc(e))throw N1(),Error(V(418));for(;t;)E1(e,t),t=$n(t.nextSibling)}if(I0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=$n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?$n(e.stateNode.nextSibling):null;return!0}function N1(){for(var e=gt;e;)e=$n(e.nextSibling)}function Si(){gt=vt=null,pe=!1}function xd(e){Vt===null?Vt=[e]:Vt.push(e)}var Y5=Ln.ReactCurrentBatchConfig;function Di(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Ho(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _0(e){var t=e._init;return t(e._payload)}function z1(e){function t(p,f){if(e){var x=p.deletions;x===null?(p.deletions=[f],p.flags|=16):x.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=er(p,f),p.index=0,p.sibling=null,p}function s(p,f,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<f?(p.flags|=2,f):x):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,x,L){return f===null||f.tag!==6?(f=Lu(x,p.mode,L),f.return=p,f):(f=i(f,x),f.return=p,f)}function a(p,f,x,L){var w=x.type;return w===Dr?c(p,f,x.props.children,L,x.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Wn&&_0(w)===f.type)?(L=i(f,x.props),L.ref=Di(p,f,x),L.return=p,L):(L=ol(x.type,x.key,x.props,null,p.mode,L),L.ref=Di(p,f,x),L.return=p,L)}function u(p,f,x,L){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=Xu(x,p.mode,L),f.return=p,f):(f=i(f,x.children||[]),f.return=p,f)}function c(p,f,x,L,w){return f===null||f.tag!==7?(f=kr(x,p.mode,L,w),f.return=p,f):(f=i(f,x),f.return=p,f)}function S(p,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Lu(""+f,p.mode,x),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Go:return x=ol(f.type,f.key,f.props,null,p.mode,x),x.ref=Di(p,null,f),x.return=p,x;case Or:return f=Xu(f,p.mode,x),f.return=p,f;case Wn:var L=f._init;return S(p,L(f._payload),x)}if(rs(f)||Fi(f))return f=kr(f,p.mode,x,null),f.return=p,f;Ho(p,f)}return null}function b(p,f,x,L){var w=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:l(p,f,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Go:return x.key===w?a(p,f,x,L):null;case Or:return x.key===w?u(p,f,x,L):null;case Wn:return w=x._init,b(p,f,w(x._payload),L)}if(rs(x)||Fi(x))return w!==null?null:c(p,f,x,L,null);Ho(p,x)}return null}function g(p,f,x,L,w){if(typeof L=="string"&&L!==""||typeof L=="number")return p=p.get(x)||null,l(f,p,""+L,w);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Go:return p=p.get(L.key===null?x:L.key)||null,a(f,p,L,w);case Or:return p=p.get(L.key===null?x:L.key)||null,u(f,p,L,w);case Wn:var h=L._init;return g(p,f,x,h(L._payload),w)}if(rs(L)||Fi(L))return p=p.get(x)||null,c(f,p,L,w,null);Ho(f,L)}return null}function X(p,f,x,L){for(var w=null,h=null,m=f,d=f=0,v=null;m!==null&&d<x.length;d++){m.index>d?(v=m,m=null):v=m.sibling;var Z=b(p,m,x[d],L);if(Z===null){m===null&&(m=v);break}e&&m&&Z.alternate===null&&t(p,m),f=s(Z,f,d),h===null?w=Z:h.sibling=Z,h=Z,m=v}if(d===x.length)return n(p,m),pe&&dr(p,d),w;if(m===null){for(;d<x.length;d++)m=S(p,x[d],L),m!==null&&(f=s(m,f,d),h===null?w=m:h.sibling=m,h=m);return pe&&dr(p,d),w}for(m=r(p,m);d<x.length;d++)v=g(m,p,d,x[d],L),v!==null&&(e&&v.alternate!==null&&m.delete(v.key===null?d:v.key),f=s(v,f,d),h===null?w=v:h.sibling=v,h=v);return e&&m.forEach(function(T){return t(p,T)}),pe&&dr(p,d),w}function C(p,f,x,L){var w=Fi(x);if(typeof w!="function")throw Error(V(150));if(x=w.call(x),x==null)throw Error(V(151));for(var h=w=null,m=f,d=f=0,v=null,Z=x.next();m!==null&&!Z.done;d++,Z=x.next()){m.index>d?(v=m,m=null):v=m.sibling;var T=b(p,m,Z.value,L);if(T===null){m===null&&(m=v);break}e&&m&&T.alternate===null&&t(p,m),f=s(T,f,d),h===null?w=T:h.sibling=T,h=T,m=v}if(Z.done)return n(p,m),pe&&dr(p,d),w;if(m===null){for(;!Z.done;d++,Z=x.next())Z=S(p,Z.value,L),Z!==null&&(f=s(Z,f,d),h===null?w=Z:h.sibling=Z,h=Z);return pe&&dr(p,d),w}for(m=r(p,m);!Z.done;d++,Z=x.next())Z=g(m,p,d,Z.value,L),Z!==null&&(e&&Z.alternate!==null&&m.delete(Z.key===null?d:Z.key),f=s(Z,f,d),h===null?w=Z:h.sibling=Z,h=Z);return e&&m.forEach(function(P){return t(p,P)}),pe&&dr(p,d),w}function y(p,f,x,L){if(typeof x=="object"&&x!==null&&x.type===Dr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Go:e:{for(var w=x.key,h=f;h!==null;){if(h.key===w){if(w=x.type,w===Dr){if(h.tag===7){n(p,h.sibling),f=i(h,x.props.children),f.return=p,p=f;break e}}else if(h.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Wn&&_0(w)===h.type){n(p,h.sibling),f=i(h,x.props),f.ref=Di(p,h,x),f.return=p,p=f;break e}n(p,h);break}else t(p,h);h=h.sibling}x.type===Dr?(f=kr(x.props.children,p.mode,L,x.key),f.return=p,p=f):(L=ol(x.type,x.key,x.props,null,p.mode,L),L.ref=Di(p,f,x),L.return=p,p=L)}return o(p);case Or:e:{for(h=x.key;f!==null;){if(f.key===h)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(p,f.sibling),f=i(f,x.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Xu(x,p.mode,L),f.return=p,p=f}return o(p);case Wn:return h=x._init,y(p,f,h(x._payload),L)}if(rs(x))return X(p,f,x,L);if(Fi(x))return C(p,f,x,L);Ho(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,x),f.return=p,p=f):(n(p,f),f=Lu(x,p.mode,L),f.return=p,p=f),o(p)):n(p,f)}return y}var Zi=z1(!0),V1=z1(!1),Pl=or(null),Wl=null,ni=null,Ld=null;function Xd(){Ld=ni=Wl=null}function kd(e){var t=Pl.current;ce(Pl),e._currentValue=t}function wc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fi(e,t){Wl=e,Ld=ni=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Ld!==e)if(e={context:e,memoizedValue:t,next:null},ni===null){if(Wl===null)throw Error(V(308));ni=e,Wl.dependencies={lanes:0,firstContext:e}}else ni=ni.next=e;return t}var wr=null;function Cd(e){wr===null?wr=[e]:wr.push(e)}function H1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Cd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Zn(e,r)}function Zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var In=!1;function Td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zn(e,n)}return i=r.interleaved,i===null?(t.next=t,Cd(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zn(e,n)}function el(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fd(e,n)}}function R0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Il(e,t,n,r){var i=e.updateQueue;In=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var S=i.baseState;o=0,c=u=a=null,l=s;do{var b=l.lane,g=l.eventTime;if((r&b)===b){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var X=e,C=l;switch(b=t,g=n,C.tag){case 1:if(X=C.payload,typeof X=="function"){S=X.call(g,S,b);break e}S=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=C.payload,b=typeof X=="function"?X.call(g,S,b):X,b==null)break e;S=ve({},S,b);break e;case 2:In=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,b=i.effects,b===null?i.effects=[l]:b.push(l))}else g={eventTime:g,lane:b,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=S):c=c.next=g,o|=b;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;b=l,l=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(!0);if(c===null&&(a=S),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Wr|=o,e.lanes=o,e.memoizedState=S}}function M0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var so={},nn=or(so),Js=or(so),$s=or(so);function br(e){if(e===so)throw Error(V(174));return e}function Gd(e,t){switch(oe($s,t),oe(Js,e),oe(nn,so),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qu(t,e)}ce(nn),oe(nn,t)}function xi(){ce(nn),ce(Js),ce($s)}function K1(e){br($s.current);var t=br(nn.current),n=qu(t,e.type);t!==n&&(oe(Js,e),oe(nn,n))}function Pd(e){Js.current===e&&(ce(nn),ce(Js))}var ye=or(0);function _l(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vu=[];function Wd(){for(var e=0;e<vu.length;e++)vu[e]._workInProgressVersionPrimary=null;vu.length=0}var tl=Ln.ReactCurrentDispatcher,wu=Ln.ReactCurrentBatchConfig,Pr=0,ge=null,Te=null,_e=null,Rl=!1,Xs=!1,Bs=0,K5=0;function Ke(){throw Error(V(321))}function Id(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function _d(e,t,n,r,i,s){if(Pr=s,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tl.current=e===null||e.memoizedState===null?U5:O5,e=n(r,i),Xs){s=0;do{if(Xs=!1,Bs=0,25<=s)throw Error(V(301));s+=1,_e=Te=null,t.updateQueue=null,tl.current=D5,e=n(r,i)}while(Xs)}if(tl.current=Ml,t=Te!==null&&Te.next!==null,Pr=0,_e=Te=ge=null,Rl=!1,t)throw Error(V(300));return e}function Rd(){var e=Bs!==0;return Bs=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ge.memoizedState=_e=e:_e=_e.next=e,_e}function _t(){if(Te===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=_e===null?ge.memoizedState:_e.next;if(t!==null)_e=t,Te=e;else{if(e===null)throw Error(V(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},_e===null?ge.memoizedState=_e=e:_e=_e.next=e}return _e}function As(e,t){return typeof t=="function"?t(e):t}function bu(e){var t=_t(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=Te,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((Pr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var S={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=S,o=r):a=a.next=S,ge.lanes|=c,Wr|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Ft(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ge.lanes|=s,Wr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Su(e){var t=_t(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ft(s,t.memoizedState)||(it=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function F1(){}function j1(e,t){var n=ge,r=_t(),i=t(),s=!Ft(r.memoizedState,i);if(s&&(r.memoizedState=i,it=!0),r=r.queue,Md(O1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,qs(9,U1.bind(null,n,r,i,t),void 0,null),Re===null)throw Error(V(349));Pr&30||Q1(n,t,i)}return i}function Q1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function U1(e,t,n,r){t.value=n,t.getSnapshot=r,D1(t)&&J1(e)}function O1(e,t,n){return n(function(){D1(t)&&J1(e)})}function D1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function J1(e){var t=Zn(e,1);t!==null&&Yt(t,e,1,-1)}function E0(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=Q5.bind(null,ge,e),[t.memoizedState,e]}function qs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $1(){return _t().memoizedState}function nl(e,t,n,r){var i=Dt();ge.flags|=e,i.memoizedState=qs(1|t,n,void 0,r===void 0?null:r)}function ql(e,t,n,r){var i=_t();r=r===void 0?null:r;var s=void 0;if(Te!==null){var o=Te.memoizedState;if(s=o.destroy,r!==null&&Id(r,o.deps)){i.memoizedState=qs(t,n,s,r);return}}ge.flags|=e,i.memoizedState=qs(1|t,n,s,r)}function N0(e,t){return nl(8390656,8,e,t)}function Md(e,t){return ql(2048,8,e,t)}function B1(e,t){return ql(4,2,e,t)}function A1(e,t){return ql(4,4,e,t)}function q1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ey(e,t,n){return n=n!=null?n.concat([e]):null,ql(4,4,q1.bind(null,t,e),n)}function Ed(){}function ty(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Id(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ny(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Id(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ry(e,t,n){return Pr&21?(Ft(n,t)||(n=a1(),ge.lanes|=n,Wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function F5(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=wu.transition;wu.transition={};try{e(!1),t()}finally{se=n,wu.transition=r}}function iy(){return _t().memoizedState}function j5(e,t,n){var r=qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sy(e))oy(t,n);else if(n=H1(e,t,n,r),n!==null){var i=$e();Yt(n,e,r,i),ly(n,t,r)}}function Q5(e,t,n){var r=qn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sy(e))oy(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ft(l,o)){var a=t.interleaved;a===null?(i.next=i,Cd(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=H1(e,t,i,r),n!==null&&(i=$e(),Yt(n,e,r,i),ly(n,t,r))}}function sy(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function oy(e,t){Xs=Rl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ly(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fd(e,n)}}var Ml={readContext:It,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},U5={readContext:It,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:N0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nl(4194308,4,q1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=j5.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:E0,useDebugValue:Ed,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=E0(!1),t=e[0];return e=F5.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,i=Dt();if(pe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Re===null)throw Error(V(349));Pr&30||Q1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,N0(O1.bind(null,r,s,e),[e]),r.flags|=2048,qs(9,U1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Dt(),t=Re.identifierPrefix;if(pe){var n=vn,r=gn;n=(r&~(1<<32-Ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=K5++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},O5={readContext:It,useCallback:ty,useContext:It,useEffect:Md,useImperativeHandle:ey,useInsertionEffect:B1,useLayoutEffect:A1,useMemo:ny,useReducer:bu,useRef:$1,useState:function(){return bu(As)},useDebugValue:Ed,useDeferredValue:function(e){var t=_t();return ry(t,Te.memoizedState,e)},useTransition:function(){var e=bu(As)[0],t=_t().memoizedState;return[e,t]},useMutableSource:F1,useSyncExternalStore:j1,useId:iy,unstable_isNewReconciler:!1},D5={readContext:It,useCallback:ty,useContext:It,useEffect:Md,useImperativeHandle:ey,useInsertionEffect:B1,useLayoutEffect:A1,useMemo:ny,useReducer:Su,useRef:$1,useState:function(){return Su(As)},useDebugValue:Ed,useDeferredValue:function(e){var t=_t();return Te===null?t.memoizedState=e:ry(t,Te.memoizedState,e)},useTransition:function(){var e=Su(As)[0],t=_t().memoizedState;return[e,t]},useMutableSource:F1,useSyncExternalStore:j1,useId:iy,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ea={isMounted:function(e){return(e=e._reactInternals)?Mr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),i=qn(e),s=wn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Bn(e,s,i),t!==null&&(Yt(t,e,i,r),el(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),i=qn(e),s=wn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Bn(e,s,i),t!==null&&(Yt(t,e,i,r),el(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=qn(e),i=wn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Bn(e,i,r),t!==null&&(Yt(t,e,r,n),el(t,e,r))}};function z0(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Qs(n,r)||!Qs(i,s):!0}function ay(e,t,n){var r=!1,i=rr,s=t.contextType;return typeof s=="object"&&s!==null?s=It(s):(i=ot(t)?Tr:Ue.current,r=t.contextTypes,s=(r=r!=null)?bi(e,i):rr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ea,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function V0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ea.enqueueReplaceState(t,t.state,null)}function Sc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Td(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=It(s):(s=ot(t)?Tr:Ue.current,i.context=bi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(bc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ea.enqueueReplaceState(i,i.state,null),Il(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Li(e,t){try{var n="",r=t;do n+=Zb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Zu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var J5=typeof WeakMap=="function"?WeakMap:Map;function uy(e,t,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nl||(Nl=!0,Ic=r),Zc(e,t)},n}function cy(e,t,n){n=wn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Zc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zc(e,t),typeof r!="function"&&(An===null?An=new Set([this]):An.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function H0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new J5;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=u3.bind(null,e,t,n),t.then(e,e))}function Y0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function K0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wn(-1,1),t.tag=2,Bn(n,t,1))),n.lanes|=1),e)}var $5=Ln.ReactCurrentOwner,it=!1;function Je(e,t,n,r){t.child=e===null?V1(t,null,n,r):Zi(t,e.child,n,r)}function F0(e,t,n,r,i){n=n.render;var s=t.ref;return fi(t,i),r=_d(e,t,n,r,s,i),n=Rd(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xn(e,t,i)):(pe&&n&&Sd(t),t.flags|=1,Je(e,t,r,i),t.child)}function j0(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!jd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,dy(e,t,s,r,i)):(e=ol(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qs,n(o,r)&&e.ref===t.ref)return xn(e,t,i)}return t.flags|=1,e=er(s,r),e.ref=t.ref,e.return=t,t.child=e}function dy(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Qs(s,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,xn(e,t,i)}return xc(e,t,n,r,i)}function hy(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(ii,ht),ht|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(ii,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,oe(ii,ht),ht|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,oe(ii,ht),ht|=r;return Je(e,t,i,n),t.child}function fy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xc(e,t,n,r,i){var s=ot(n)?Tr:Ue.current;return s=bi(t,s),fi(t,i),n=_d(e,t,n,r,s,i),r=Rd(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xn(e,t,i)):(pe&&r&&Sd(t),t.flags|=1,Je(e,t,n,i),t.child)}function Q0(e,t,n,r,i){if(ot(n)){var s=!0;Cl(t)}else s=!1;if(fi(t,i),t.stateNode===null)rl(e,t),ay(t,n,r),Sc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=It(u):(u=ot(n)?Tr:Ue.current,u=bi(t,u));var c=n.getDerivedStateFromProps,S=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";S||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&V0(t,o,r,u),In=!1;var b=t.memoizedState;o.state=b,Il(t,r,o,i),a=t.memoizedState,l!==r||b!==a||st.current||In?(typeof c=="function"&&(bc(t,n,c,r),a=t.memoizedState),(l=In||z0(t,n,l,r,b,a,u))?(S||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Y1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Nt(t.type,l),o.props=u,S=t.pendingProps,b=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=It(a):(a=ot(n)?Tr:Ue.current,a=bi(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==S||b!==a)&&V0(t,o,r,a),In=!1,b=t.memoizedState,o.state=b,Il(t,r,o,i);var X=t.memoizedState;l!==S||b!==X||st.current||In?(typeof g=="function"&&(bc(t,n,g,r),X=t.memoizedState),(u=In||z0(t,n,u,r,b,X,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,X,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,X,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=X),o.props=r,o.state=X,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return Lc(e,t,n,r,s,i)}function Lc(e,t,n,r,i,s){fy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&P0(t,n,!1),xn(e,t,s);r=t.stateNode,$5.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Zi(t,e.child,null,s),t.child=Zi(t,null,l,s)):Je(e,t,l,s),t.memoizedState=r.state,i&&P0(t,n,!0),t.child}function py(e){var t=e.stateNode;t.pendingContext?G0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&G0(e,t.context,!1),Gd(e,t.containerInfo)}function U0(e,t,n,r,i){return Si(),xd(i),t.flags|=256,Je(e,t,n,r),t.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function kc(e){return{baseLanes:e,cachePool:null,transitions:null}}function my(e,t,n){var r=t.pendingProps,i=ye.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),oe(ye,i&1),e===null)return vc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ra(o,r,0,null),e=kr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=kc(n),t.memoizedState=Xc,e):Nd(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return B5(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=er(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=er(l,s):(s=kr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?kc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Xc,r}return s=e.child,e=s.sibling,r=er(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Nd(e,t){return t=ra({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yo(e,t,n,r){return r!==null&&xd(r),Zi(t,e.child,null,n),e=Nd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function B5(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Zu(Error(V(422))),Yo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=ra({mode:"visible",children:r.children},i,0,null),s=kr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Zi(t,e.child,null,o),t.child.memoizedState=kc(o),t.memoizedState=Xc,s);if(!(t.mode&1))return Yo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(V(419)),r=Zu(s,r,void 0),Yo(e,t,o,r)}if(l=(o&e.childLanes)!==0,it||l){if(r=Re,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zn(e,i),Yt(r,e,i,-1))}return Fd(),r=Zu(Error(V(421))),Yo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=c3.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,gt=$n(i.nextSibling),vt=t,pe=!0,Vt=null,e!==null&&(Lt[Xt++]=gn,Lt[Xt++]=vn,Lt[Xt++]=Gr,gn=e.id,vn=e.overflow,Gr=t),t=Nd(t,r.children),t.flags|=4096,t)}function O0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wc(e.return,t,n)}function xu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yy(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Je(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&O0(e,n,t);else if(e.tag===19)O0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_l(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_l(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xu(t,!0,n,null,s);break;case"together":xu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function A5(e,t,n){switch(t.tag){case 3:py(t),Si();break;case 5:K1(t);break;case 1:ot(t.type)&&Cl(t);break;case 4:Gd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;oe(Pl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(oe(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?my(e,t,n):(oe(ye,ye.current&1),e=xn(e,t,n),e!==null?e.sibling:null);oe(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,hy(e,t,n)}return xn(e,t,n)}var gy,Cc,vy,wy;gy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cc=function(){};vy=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,br(nn.current);var s=null;switch(n){case"input":i=Ju(e,i),r=Ju(e,r),s=[];break;case"select":i=ve({},i,{value:void 0}),r=ve({},r,{value:void 0}),s=[];break;case"textarea":i=Au(e,i),r=Au(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xl)}ec(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ae("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};wy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ji(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function q5(e,t,n){var r=t.pendingProps;switch(Zd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return ot(t.type)&&kl(),Fe(t),null;case 3:return r=t.stateNode,xi(),ce(st),ce(Ue),Wd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(Mc(Vt),Vt=null))),Cc(e,t),Fe(t),null;case 5:Pd(t);var i=br($s.current);if(n=t.type,e!==null&&t.stateNode!=null)vy(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Fe(t),null}if(e=br(nn.current),Vo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[At]=t,r[Ds]=s,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<ss.length;i++)ae(ss[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":n0(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":i0(r,s),ae("invalid",r)}ec(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&zo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&zo(r.textContent,l,e),i=["children",""+l]):zs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",r)}switch(n){case"input":Po(r),r0(r,s,!0);break;case"textarea":Po(r),s0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Om(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[At]=t,e[Ds]=r,gy(e,t,!1,!1),t.stateNode=e;e:{switch(o=tc(n,r),n){case"dialog":ae("cancel",e),ae("close",e),i=r;break;case"iframe":case"object":case"embed":ae("load",e),i=r;break;case"video":case"audio":for(i=0;i<ss.length;i++)ae(ss[i],e);i=r;break;case"source":ae("error",e),i=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),i=r;break;case"details":ae("toggle",e),i=r;break;case"input":n0(e,r),i=Ju(e,r),ae("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ve({},r,{value:void 0}),ae("invalid",e);break;case"textarea":i0(e,r),i=Au(e,r),ae("invalid",e);break;default:i=r}ec(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?$m(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Dm(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Vs(e,a):typeof a=="number"&&Vs(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zs.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ae("scroll",e):a!=null&&ld(e,s,a,o))}switch(n){case"input":Po(e),r0(e,r,!1);break;case"textarea":Po(e),s0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ui(e,!!r.multiple,s,!1):r.defaultValue!=null&&ui(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)wy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=br($s.current),br(nn.current),Vo(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(s=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:zo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Fe(t),null;case 13:if(ce(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&gt!==null&&t.mode&1&&!(t.flags&128))N1(),Si(),t.flags|=98560,s=!1;else if(s=Vo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[At]=t}else Si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),s=!1}else Vt!==null&&(Mc(Vt),Vt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Ge===0&&(Ge=3):Fd())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return xi(),Cc(e,t),e===null&&Us(t.stateNode.containerInfo),Fe(t),null;case 10:return kd(t.type._context),Fe(t),null;case 17:return ot(t.type)&&kl(),Fe(t),null;case 19:if(ce(ye),s=t.memoizedState,s===null)return Fe(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ji(s,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_l(e),o!==null){for(t.flags|=128,Ji(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(ye,ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&Le()>Xi&&(t.flags|=128,r=!0,Ji(s,!1),t.lanes=4194304)}else{if(!r)if(e=_l(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ji(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pe)return Fe(t),null}else 2*Le()-s.renderingStartTime>Xi&&n!==1073741824&&(t.flags|=128,r=!0,Ji(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Le(),t.sibling=null,n=ye.current,oe(ye,r?n&1|2:n&1),t):(Fe(t),null);case 22:case 23:return Kd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ht&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function e3(e,t){switch(Zd(t),t.tag){case 1:return ot(t.type)&&kl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xi(),ce(st),ce(Ue),Wd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pd(t),null;case 13:if(ce(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(ye),null;case 4:return xi(),null;case 10:return kd(t.type._context),null;case 22:case 23:return Kd(),null;case 24:return null;default:return null}}var Ko=!1,Qe=!1,t3=typeof WeakSet=="function"?WeakSet:Set,O=null;function ri(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Tc(e,t,n){try{n()}catch(r){Se(e,t,r)}}var D0=!1;function n3(e,t){if(dc=Zl,e=L1(),bd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,S=e,b=null;t:for(;;){for(var g;S!==n||i!==0&&S.nodeType!==3||(l=o+i),S!==s||r!==0&&S.nodeType!==3||(a=o+r),S.nodeType===3&&(o+=S.nodeValue.length),(g=S.firstChild)!==null;)b=S,S=g;for(;;){if(S===e)break t;if(b===n&&++u===i&&(l=o),b===s&&++c===r&&(a=o),(g=S.nextSibling)!==null)break;S=b,b=S.parentNode}S=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(hc={focusedElem:e,selectionRange:n},Zl=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var X=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var C=X.memoizedProps,y=X.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?C:Nt(t.type,C),y);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(L){Se(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return X=D0,D0=!1,X}function ks(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tc(t,n,s)}i=i.next}while(i!==r)}}function ta(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function by(e){var t=e.alternate;t!==null&&(e.alternate=null,by(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Ds],delete t[mc],delete t[z5],delete t[V5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sy(e){return e.tag===5||e.tag===3||e.tag===4}function J0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xl));else if(r!==4&&(e=e.child,e!==null))for(Pc(e,t,n),e=e.sibling;e!==null;)Pc(e,t,n),e=e.sibling}function Wc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wc(e,t,n),e=e.sibling;e!==null;)Wc(e,t,n),e=e.sibling}var ze=null,zt=!1;function Gn(e,t,n){for(n=n.child;n!==null;)Zy(e,t,n),n=n.sibling}function Zy(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 5:Qe||ri(n,t);case 6:var r=ze,i=zt;ze=null,Gn(e,t,n),ze=r,zt=i,ze!==null&&(zt?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(zt?(e=ze,n=n.stateNode,e.nodeType===8?yu(e.parentNode,n):e.nodeType===1&&yu(e,n),Fs(e)):yu(ze,n.stateNode));break;case 4:r=ze,i=zt,ze=n.stateNode.containerInfo,zt=!0,Gn(e,t,n),ze=r,zt=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tc(n,t,o),i=i.next}while(i!==r)}Gn(e,t,n);break;case 1:if(!Qe&&(ri(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}Gn(e,t,n);break;case 21:Gn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,Gn(e,t,n),Qe=r):Gn(e,t,n);break;default:Gn(e,t,n)}}function $0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new t3),t.forEach(function(r){var i=d3.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,zt=!1;break e;case 3:ze=l.stateNode.containerInfo,zt=!0;break e;case 4:ze=l.stateNode.containerInfo,zt=!0;break e}l=l.return}if(ze===null)throw Error(V(160));Zy(s,o,i),ze=null,zt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Se(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xy(t,e),t=t.sibling}function xy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Ot(e),r&4){try{ks(3,e,e.return),ta(3,e)}catch(C){Se(e,e.return,C)}try{ks(5,e,e.return)}catch(C){Se(e,e.return,C)}}break;case 1:Et(t,e),Ot(e),r&512&&n!==null&&ri(n,n.return);break;case 5:if(Et(t,e),Ot(e),r&512&&n!==null&&ri(n,n.return),e.flags&32){var i=e.stateNode;try{Vs(i,"")}catch(C){Se(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Qm(i,s),tc(l,o);var u=tc(l,s);for(o=0;o<a.length;o+=2){var c=a[o],S=a[o+1];c==="style"?$m(i,S):c==="dangerouslySetInnerHTML"?Dm(i,S):c==="children"?Vs(i,S):ld(i,c,S,u)}switch(l){case"input":$u(i,s);break;case"textarea":Um(i,s);break;case"select":var b=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ui(i,!!s.multiple,g,!1):b!==!!s.multiple&&(s.defaultValue!=null?ui(i,!!s.multiple,s.defaultValue,!0):ui(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ds]=s}catch(C){Se(e,e.return,C)}}break;case 6:if(Et(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(C){Se(e,e.return,C)}}break;case 3:if(Et(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fs(t.containerInfo)}catch(C){Se(e,e.return,C)}break;case 4:Et(t,e),Ot(e);break;case 13:Et(t,e),Ot(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hd=Le())),r&4&&$0(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||c,Et(t,e),Qe=u):Et(t,e),Ot(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(S=O=c;O!==null;){switch(b=O,g=b.child,b.tag){case 0:case 11:case 14:case 15:ks(4,b,b.return);break;case 1:ri(b,b.return);var X=b.stateNode;if(typeof X.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,X.props=t.memoizedProps,X.state=t.memoizedState,X.componentWillUnmount()}catch(C){Se(r,n,C)}}break;case 5:ri(b,b.return);break;case 22:if(b.memoizedState!==null){A0(S);continue}}g!==null?(g.return=b,O=g):A0(S)}c=c.sibling}e:for(c=null,S=e;;){if(S.tag===5){if(c===null){c=S;try{i=S.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=S.stateNode,a=S.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Jm("display",o))}catch(C){Se(e,e.return,C)}}}else if(S.tag===6){if(c===null)try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(C){Se(e,e.return,C)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;c===S&&(c=null),S=S.return}c===S&&(c=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:Et(t,e),Ot(e),r&4&&$0(e);break;case 21:break;default:Et(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sy(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vs(i,""),r.flags&=-33);var s=J0(e);Wc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=J0(e);Pc(e,l,o);break;default:throw Error(V(161))}}catch(a){Se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function r3(e,t,n){O=e,Ly(e)}function Ly(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ko;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Qe;l=Ko;var u=Qe;if(Ko=o,(Qe=a)&&!u)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?q0(i):a!==null?(a.return=o,O=a):q0(i);for(;s!==null;)O=s,Ly(s),s=s.sibling;O=i,Ko=l,Qe=u}B0(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):B0(e)}}function B0(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||ta(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Nt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&M0(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}M0(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var S=c.dehydrated;S!==null&&Fs(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Qe||t.flags&512&&Gc(t)}catch(b){Se(t,t.return,b)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function A0(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function q0(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ta(4,t)}catch(a){Se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Se(t,i,a)}}var s=t.return;try{Gc(t)}catch(a){Se(t,s,a)}break;case 5:var o=t.return;try{Gc(t)}catch(a){Se(t,o,a)}}}catch(a){Se(t,t.return,a)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var i3=Math.ceil,El=Ln.ReactCurrentDispatcher,zd=Ln.ReactCurrentOwner,Pt=Ln.ReactCurrentBatchConfig,ne=0,Re=null,Ce=null,He=0,ht=0,ii=or(0),Ge=0,eo=null,Wr=0,na=0,Vd=0,Cs=null,rt=null,Hd=0,Xi=1/0,hn=null,Nl=!1,Ic=null,An=null,Fo=!1,Hn=null,zl=0,Ts=0,_c=null,il=-1,sl=0;function $e(){return ne&6?Le():il!==-1?il:il=Le()}function qn(e){return e.mode&1?ne&2&&He!==0?He&-He:Y5.transition!==null?(sl===0&&(sl=a1()),sl):(e=se,e!==0||(e=window.event,e=e===void 0?16:m1(e.type)),e):1}function Yt(e,t,n,r){if(50<Ts)throw Ts=0,_c=null,Error(V(185));no(e,n,r),(!(ne&2)||e!==Re)&&(e===Re&&(!(ne&2)&&(na|=n),Ge===4&&Nn(e,He)),lt(e,r),n===1&&ne===0&&!(t.mode&1)&&(Xi=Le()+500,Al&&lr()))}function lt(e,t){var n=e.callbackNode;Yb(e,t);var r=Sl(e,e===Re?He:0);if(r===0)n!==null&&a0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&a0(n),t===1)e.tag===0?H5(ep.bind(null,e)):R1(ep.bind(null,e)),E5(function(){!(ne&6)&&lr()}),n=null;else{switch(u1(r)){case 1:n=hd;break;case 4:n=o1;break;case 16:n=bl;break;case 536870912:n=l1;break;default:n=bl}n=Iy(n,Xy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xy(e,t){if(il=-1,sl=0,ne&6)throw Error(V(327));var n=e.callbackNode;if(pi()&&e.callbackNode!==n)return null;var r=Sl(e,e===Re?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vl(e,r);else{t=r;var i=ne;ne|=2;var s=Cy();(Re!==e||He!==t)&&(hn=null,Xi=Le()+500,Xr(e,t));do try{l3();break}catch(l){ky(e,l)}while(!0);Xd(),El.current=s,ne=i,Ce!==null?t=0:(Re=null,He=0,t=Ge)}if(t!==0){if(t===2&&(i=oc(e),i!==0&&(r=i,t=Rc(e,i))),t===1)throw n=eo,Xr(e,0),Nn(e,r),lt(e,Le()),n;if(t===6)Nn(e,r);else{if(i=e.current.alternate,!(r&30)&&!s3(i)&&(t=Vl(e,r),t===2&&(s=oc(e),s!==0&&(r=s,t=Rc(e,s))),t===1))throw n=eo,Xr(e,0),Nn(e,r),lt(e,Le()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:hr(e,rt,hn);break;case 3:if(Nn(e,r),(r&130023424)===r&&(t=Hd+500-Le(),10<t)){if(Sl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=pc(hr.bind(null,e,rt,hn),t);break}hr(e,rt,hn);break;case 4:if(Nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ht(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i3(r/1960))-r,10<r){e.timeoutHandle=pc(hr.bind(null,e,rt,hn),r);break}hr(e,rt,hn);break;case 5:hr(e,rt,hn);break;default:throw Error(V(329))}}}return lt(e,Le()),e.callbackNode===n?Xy.bind(null,e):null}function Rc(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(Xr(e,t).flags|=256),e=Vl(e,t),e!==2&&(t=rt,rt=n,t!==null&&Mc(t)),e}function Mc(e){rt===null?rt=e:rt.push.apply(rt,e)}function s3(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ft(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nn(e,t){for(t&=~Vd,t&=~na,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ep(e){if(ne&6)throw Error(V(327));pi();var t=Sl(e,0);if(!(t&1))return lt(e,Le()),null;var n=Vl(e,t);if(e.tag!==0&&n===2){var r=oc(e);r!==0&&(t=r,n=Rc(e,r))}if(n===1)throw n=eo,Xr(e,0),Nn(e,t),lt(e,Le()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,rt,hn),lt(e,Le()),null}function Yd(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Xi=Le()+500,Al&&lr())}}function Ir(e){Hn!==null&&Hn.tag===0&&!(ne&6)&&pi();var t=ne;ne|=1;var n=Pt.transition,r=se;try{if(Pt.transition=null,se=1,e)return e()}finally{se=r,Pt.transition=n,ne=t,!(ne&6)&&lr()}}function Kd(){ht=ii.current,ce(ii)}function Xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,M5(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(Zd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kl();break;case 3:xi(),ce(st),ce(Ue),Wd();break;case 5:Pd(r);break;case 4:xi();break;case 13:ce(ye);break;case 19:ce(ye);break;case 10:kd(r.type._context);break;case 22:case 23:Kd()}n=n.return}if(Re=e,Ce=e=er(e.current,null),He=ht=t,Ge=0,eo=null,Vd=na=Wr=0,rt=Cs=null,wr!==null){for(t=0;t<wr.length;t++)if(n=wr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wr=null}return e}function ky(e,t){do{var n=Ce;try{if(Xd(),tl.current=Ml,Rl){for(var r=ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rl=!1}if(Pr=0,_e=Te=ge=null,Xs=!1,Bs=0,zd.current=null,n===null||n.return===null){Ge=1,eo=t,Ce=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=He,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,S=c.tag;if(!(c.mode&1)&&(S===0||S===11||S===15)){var b=c.alternate;b?(c.updateQueue=b.updateQueue,c.memoizedState=b.memoizedState,c.lanes=b.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Y0(o);if(g!==null){g.flags&=-257,K0(g,o,l,s,t),g.mode&1&&H0(s,u,t),t=g,a=u;var X=t.updateQueue;if(X===null){var C=new Set;C.add(a),t.updateQueue=C}else X.add(a);break e}else{if(!(t&1)){H0(s,u,t),Fd();break e}a=Error(V(426))}}else if(pe&&l.mode&1){var y=Y0(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),K0(y,o,l,s,t),xd(Li(a,l));break e}}s=a=Li(a,l),Ge!==4&&(Ge=2),Cs===null?Cs=[s]:Cs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=uy(s,a,t);R0(s,p);break e;case 1:l=a;var f=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(An===null||!An.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var L=cy(s,l,t);R0(s,L);break e}}s=s.return}while(s!==null)}Gy(n)}catch(w){t=w,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function Cy(){var e=El.current;return El.current=Ml,e===null?Ml:e}function Fd(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Re===null||!(Wr&268435455)&&!(na&268435455)||Nn(Re,He)}function Vl(e,t){var n=ne;ne|=2;var r=Cy();(Re!==e||He!==t)&&(hn=null,Xr(e,t));do try{o3();break}catch(i){ky(e,i)}while(!0);if(Xd(),ne=n,El.current=r,Ce!==null)throw Error(V(261));return Re=null,He=0,Ge}function o3(){for(;Ce!==null;)Ty(Ce)}function l3(){for(;Ce!==null&&!Ib();)Ty(Ce)}function Ty(e){var t=Wy(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Gy(e):Ce=t,zd.current=null}function Gy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=e3(n,t),n!==null){n.flags&=32767,Ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Ce=null;return}}else if(n=q5(n,t,ht),n!==null){Ce=n;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Ge===0&&(Ge=5)}function hr(e,t,n){var r=se,i=Pt.transition;try{Pt.transition=null,se=1,a3(e,t,n,r)}finally{Pt.transition=i,se=r}return null}function a3(e,t,n,r){do pi();while(Hn!==null);if(ne&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Kb(e,s),e===Re&&(Ce=Re=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fo||(Fo=!0,Iy(bl,function(){return pi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var o=se;se=1;var l=ne;ne|=4,zd.current=null,n3(e,n),xy(n,e),T5(hc),Zl=!!dc,hc=dc=null,e.current=n,r3(n),_b(),ne=l,se=o,Pt.transition=s}else e.current=n;if(Fo&&(Fo=!1,Hn=e,zl=i),s=e.pendingLanes,s===0&&(An=null),Eb(n.stateNode),lt(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nl)throw Nl=!1,e=Ic,Ic=null,e;return zl&1&&e.tag!==0&&pi(),s=e.pendingLanes,s&1?e===_c?Ts++:(Ts=0,_c=e):Ts=0,lr(),null}function pi(){if(Hn!==null){var e=u1(zl),t=Pt.transition,n=se;try{if(Pt.transition=null,se=16>e?16:e,Hn===null)var r=!1;else{if(e=Hn,Hn=null,zl=0,ne&6)throw Error(V(331));var i=ne;for(ne|=4,O=e.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:ks(8,c,s)}var S=c.child;if(S!==null)S.return=c,O=S;else for(;O!==null;){c=O;var b=c.sibling,g=c.return;if(by(c),c===u){O=null;break}if(b!==null){b.return=g,O=b;break}O=g}}}var X=s.alternate;if(X!==null){var C=X.child;if(C!==null){X.child=null;do{var y=C.sibling;C.sibling=null,C=y}while(C!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ks(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,O=p;break e}O=s.return}}var f=e.current;for(O=f;O!==null;){o=O;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,O=x;else e:for(o=f;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ta(9,l)}}catch(w){Se(l,l.return,w)}if(l===o){O=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,O=L;break e}O=l.return}}if(ne=i,lr(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ol,e)}catch{}r=!0}return r}finally{se=n,Pt.transition=t}}return!1}function tp(e,t,n){t=Li(n,t),t=uy(e,t,1),e=Bn(e,t,1),t=$e(),e!==null&&(no(e,1,t),lt(e,t))}function Se(e,t,n){if(e.tag===3)tp(e,e,n);else for(;t!==null;){if(t.tag===3){tp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(An===null||!An.has(r))){e=Li(n,e),e=cy(t,e,1),t=Bn(t,e,1),e=$e(),t!==null&&(no(t,1,e),lt(t,e));break}}t=t.return}}function u3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(He&n)===n&&(Ge===4||Ge===3&&(He&130023424)===He&&500>Le()-Hd?Xr(e,0):Vd|=n),lt(e,t)}function Py(e,t){t===0&&(e.mode&1?(t=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):t=1);var n=$e();e=Zn(e,t),e!==null&&(no(e,t,n),lt(e,n))}function c3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Py(e,n)}function d3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),Py(e,n)}var Wy;Wy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,A5(e,t,n);it=!!(e.flags&131072)}else it=!1,pe&&t.flags&1048576&&M1(t,Gl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rl(e,t),e=t.pendingProps;var i=bi(t,Ue.current);fi(t,n),i=_d(null,t,r,e,i,n);var s=Rd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(s=!0,Cl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Td(t),i.updater=ea,t.stateNode=i,i._reactInternals=t,Sc(t,r,e,n),t=Lc(null,t,r,!0,s,n)):(t.tag=0,pe&&s&&Sd(t),Je(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=f3(r),e=Nt(r,e),i){case 0:t=xc(null,t,r,e,n);break e;case 1:t=Q0(null,t,r,e,n);break e;case 11:t=F0(null,t,r,e,n);break e;case 14:t=j0(null,t,r,Nt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),xc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),Q0(e,t,r,i,n);case 3:e:{if(py(t),e===null)throw Error(V(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Y1(e,t),Il(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Li(Error(V(423)),t),t=U0(e,t,r,n,i);break e}else if(r!==i){i=Li(Error(V(424)),t),t=U0(e,t,r,n,i);break e}else for(gt=$n(t.stateNode.containerInfo.firstChild),vt=t,pe=!0,Vt=null,n=V1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Si(),r===i){t=xn(e,t,n);break e}Je(e,t,r,n)}t=t.child}return t;case 5:return K1(t),e===null&&vc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,fc(r,i)?o=null:s!==null&&fc(r,s)&&(t.flags|=32),fy(e,t),Je(e,t,o,n),t.child;case 6:return e===null&&vc(t),null;case 13:return my(e,t,n);case 4:return Gd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zi(t,null,r,n):Je(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),F0(e,t,r,i,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,oe(Pl,r._currentValue),r._currentValue=o,s!==null)if(Ft(s.value,o)){if(s.children===i.children&&!st.current){t=xn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=wn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),wc(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Je(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fi(t,n),i=It(i),r=r(i),t.flags|=1,Je(e,t,r,n),t.child;case 14:return r=t.type,i=Nt(r,t.pendingProps),i=Nt(r.type,i),j0(e,t,r,i,n);case 15:return dy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),rl(e,t),t.tag=1,ot(r)?(e=!0,Cl(t)):e=!1,fi(t,n),ay(t,r,i),Sc(t,r,i,n),Lc(null,t,r,!0,e,n);case 19:return yy(e,t,n);case 22:return hy(e,t,n)}throw Error(V(156,t.tag))};function Iy(e,t){return s1(e,t)}function h3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,n,r){return new h3(e,t,n,r)}function jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f3(e){if(typeof e=="function")return jd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ud)return 11;if(e===cd)return 14}return 2}function er(e,t){var n=e.alternate;return n===null?(n=Gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ol(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")jd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Dr:return kr(n.children,i,s,t);case ad:o=8,i|=8;break;case Qu:return e=Gt(12,n,t,i|2),e.elementType=Qu,e.lanes=s,e;case Uu:return e=Gt(13,n,t,i),e.elementType=Uu,e.lanes=s,e;case Ou:return e=Gt(19,n,t,i),e.elementType=Ou,e.lanes=s,e;case Km:return ra(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hm:o=10;break e;case Ym:o=9;break e;case ud:o=11;break e;case cd:o=14;break e;case Wn:o=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Gt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function kr(e,t,n,r){return e=Gt(7,e,r,t),e.lanes=n,e}function ra(e,t,n,r){return e=Gt(22,e,r,t),e.elementType=Km,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return e=Gt(6,e,null,t),e.lanes=n,e}function Xu(e,t,n){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p3(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qd(e,t,n,r,i,s,o,l,a){return e=new p3(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Gt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Td(s),e}function m3(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Or,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _y(e){if(!e)return rr;e=e._reactInternals;e:{if(Mr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(ot(n))return _1(e,n,t)}return t}function Ry(e,t,n,r,i,s,o,l,a){return e=Qd(n,r,!0,e,i,s,o,l,a),e.context=_y(null),n=e.current,r=$e(),i=qn(n),s=wn(r,i),s.callback=t??null,Bn(n,s,i),e.current.lanes=i,no(e,i,r),lt(e,r),e}function ia(e,t,n,r){var i=t.current,s=$e(),o=qn(i);return n=_y(n),t.context===null?t.context=n:t.pendingContext=n,t=wn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bn(i,t,o),e!==null&&(Yt(e,i,o,s),el(e,i,o)),o}function Hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function np(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ud(e,t){np(e,t),(e=e.alternate)&&np(e,t)}function y3(){return null}var My=typeof reportError=="function"?reportError:function(e){console.error(e)};function Od(e){this._internalRoot=e}sa.prototype.render=Od.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));ia(e,t,null,null)};sa.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){ia(null,e,null,null)}),t[Sn]=null}};function sa(e){this._internalRoot=e}sa.prototype.unstable_scheduleHydration=function(e){if(e){var t=h1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<En.length&&t!==0&&t<En[n].priority;n++);En.splice(n,0,e),n===0&&p1(e)}};function Dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rp(){}function g3(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Hl(o);s.call(u)}}var o=Ry(t,r,e,0,null,!1,!1,"",rp);return e._reactRootContainer=o,e[Sn]=o.current,Us(e.nodeType===8?e.parentNode:e),Ir(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Hl(a);l.call(u)}}var a=Qd(e,0,!1,null,null,!1,!1,"",rp);return e._reactRootContainer=a,e[Sn]=a.current,Us(e.nodeType===8?e.parentNode:e),Ir(function(){ia(t,a,n,r)}),a}function la(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Hl(o);l.call(a)}}ia(t,o,e,i)}else o=g3(n,t,e,i,r);return Hl(o)}c1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=is(t.pendingLanes);n!==0&&(fd(t,n|1),lt(t,Le()),!(ne&6)&&(Xi=Le()+500,lr()))}break;case 13:Ir(function(){var r=Zn(e,1);if(r!==null){var i=$e();Yt(r,e,1,i)}}),Ud(e,1)}};pd=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var n=$e();Yt(t,e,134217728,n)}Ud(e,134217728)}};d1=function(e){if(e.tag===13){var t=qn(e),n=Zn(e,t);if(n!==null){var r=$e();Yt(n,e,t,r)}Ud(e,t)}};h1=function(){return se};f1=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};rc=function(e,t,n){switch(t){case"input":if($u(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Bl(r);if(!i)throw Error(V(90));jm(r),$u(r,i)}}}break;case"textarea":Um(e,n);break;case"select":t=n.value,t!=null&&ui(e,!!n.multiple,t,!1)}};qm=Yd;e1=Ir;var v3={usingClientEntryPoint:!1,Events:[io,Ar,Bl,Bm,Am,Yd]},$i={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w3={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=r1(e),e===null?null:e.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||y3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{Ol=jo.inject(w3),tn=jo}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v3;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dd(t))throw Error(V(200));return m3(e,t,null,n)};bt.createRoot=function(e,t){if(!Dd(e))throw Error(V(299));var n=!1,r="",i=My;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Qd(e,1,!1,null,null,n,!1,r,i),e[Sn]=t.current,Us(e.nodeType===8?e.parentNode:e),new Od(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=r1(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Ir(e)};bt.hydrate=function(e,t,n){if(!oa(t))throw Error(V(200));return la(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!Dd(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=My;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ry(t,null,e,1,n??null,i,!1,s,o),e[Sn]=t.current,Us(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sa(t)};bt.render=function(e,t,n){if(!oa(t))throw Error(V(200));return la(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!oa(e))throw Error(V(40));return e._reactRootContainer?(Ir(function(){la(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};bt.unstable_batchedUpdates=Yd;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oa(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return la(e,t,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function Ey(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ey)}catch(e){console.error(e)}}Ey(),Em.exports=bt;var b3=Em.exports,ip={},sp=b3;ip.createRoot=sp.createRoot,ip.hydrateRoot=sp.hydrateRoot;export{ib as C,tg as R,S3 as a,ip as c,zy as g,vp as j,Oe as r,N3 as x};
